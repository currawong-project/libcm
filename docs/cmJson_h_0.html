<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>cmJson.h</title>
    <link href="cdg_code.css"    rel="stylesheet" type="text/css" media="screen" />
  </head>
  <body>
    <div class="highlight">

      <div class="license">
	<p>
	  Copyright (C) Kevin Larke 2009-2020
	</p>

	<p>
	  This file is part of libcm.
	</p>

	<p>
	  libcm is free software: you can redistribute it and/or modify it under
	  the terms of the GNU General Public License as published by the Free
	  Software Foundation, either version 3 of the License, or (at your
	  option) any later version.
	</p>

	<p>
	  libcm is distributed in the hope that it will be useful, but WITHOUT
	  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
	  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
	  for more details.
	</p>

	<p>
	  See the GNU General Public License distributed with the libcm
	  package or look here: <https://www.gnu.org/licenses/>.
	</p>


      </div>

      <hr>
<a name="cmJson.h"></a><!-- Begin nodes -->
<div class="doc"><div class="blk_title">cmJson : JSON reader and writer</div><a name="cmJson_h_doc_0"></a></pre>
<div class="d"><p>Limitations:</p>
<ol type="1">
<li><p>Accpets two digit hex sequences with the \u escape command. JSON specifies 4 digits.</p></li>
<li><p>The scientific notation for real numbers is limited to exponent prefixes: e,E,e-,E-. The prefixes e+ and E+ are not recognized by cmLex.</p></li>
</ol>
<p>Extensions:</p>
<ol type="1">
<li><p>Will accept C style identifiers where JSON demands quoted strings.</p></li>
<li><p>Will accept C style hex notation (0xddd) for integer values.</p></li>
</ol>
</div>
<pre>
<hr>
</div>
<div class="cod"><pre><a name="cmJson_h_code_1"></a>
<span class="c">// JSON data type flags</span>
<span class="k">enum</span>
<span class="p">{</span>
  <a name="kInvalidTId"></a><span class="e">kInvalidTId</span> <span class="p">=</span> <span class="l">0x0000</span><span class="p">,</span>
  <a name="kObjectTId"></a><span class="e">kObjectTId</span>  <span class="p">=</span> <span class="l">0x0001</span><span class="p">,</span>   <span class="c"> // children are pairs</span>
  <a name="kPairTId"></a><span class="e">kPairTId</span>    <span class="p">=</span> <span class="l">0x0002</span><span class="p">,</span>   <span class="c"> // children are string : value pairs</span>
  <a name="kArrayTId"></a><span class="e">kArrayTId</span>   <span class="p">=</span> <span class="l">0x0004</span><span class="p">,</span>   <span class="c"> // children may be of any type</span>
  <a name="kStringTId"></a><span class="e">kStringTId</span>  <span class="p">=</span> <span class="l">0x0008</span><span class="p">,</span>   <span class="c"> // terminal</span>
  <a name="kNullTId"></a><span class="e">kNullTId</span>    <span class="p">=</span> <span class="l">0x0040</span><span class="p">,</span>   <span class="c"> // terminal</span>
  <a name="kIntTId"></a><span class="e">kIntTId</span>     <span class="p">=</span> <span class="l">0x0010</span><span class="p">,</span>   <span class="c"> // terminal</span>
  <a name="kRealTId"></a><span class="e">kRealTId</span>    <span class="p">=</span> <span class="l">0x0020</span><span class="p">,</span>   <span class="c"> // terminal</span>
  <a name="kTrueTId"></a><span class="e">kTrueTId</span>    <span class="p">=</span> <span class="l">0x0080</span><span class="p">,</span>   <span class="c"> // terminal</span>
  <a name="kFalseTId"></a><span class="e">kFalseTId</span>   <span class="p">=</span> <span class="l">0x0100</span><span class="p">,</span>   <span class="c"> // terminal</span>
  
  <a name="kMaskTId"></a><span class="e">kMaskTId</span>    <span class="p">=</span> <span class="l">0x01ff</span><span class="p">,</span> 
  
  <a name="kOptArgJsFl"></a><span class="e">kOptArgJsFl</span> <span class="p">=</span> <span class="l">0x0800</span><span class="p">,</span>  <span class="c"> // only used by <a href="#cmJsonVMemberValues">cmJsonVMemberValues</a>()</span>
  <a name="kTempJsFl"></a><span class="e">kTempJsFl</span>   <span class="p">=</span> <span class="l">0x1000</span><span class="p">,</span>  <span class="c"> // used internally</span>
  
  <a name="kNumericTId"></a><span class="e">kNumericTId</span> <span class="p">=</span> <a href="#kIntTId">kIntTId</a>  <span class="p">|</span> <a href="#kRealTId">kRealTId</a> <span class="p">|</span> <a href="#kTrueTId">kTrueTId</a> <span class="p">|</span> <a href="#kFalseTId">kFalseTId</a><span class="p">,</span>
  <a name="kBoolTId"></a><span class="e">kBoolTId</span>    <span class="p">=</span> <a href="#kTrueTId">kTrueTId</a> <span class="p">|</span> <a href="#kFalseTId">kFalseTId</a>
  
<span class="p">}</span><span class="p">;</span>

<span class="k">enum</span>
<span class="p">{</span>
  <a name="kOkJsRC"></a><span class="e">kOkJsRC</span><span class="p">,</span>
  <a name="kMemAllocErrJsRC"></a><span class="e">kMemAllocErrJsRC</span><span class="p">,</span>
  <a name="kLexErrJsRC"></a><span class="e">kLexErrJsRC</span><span class="p">,</span>
  <a name="kSyntaxErrJsRC"></a><span class="e">kSyntaxErrJsRC</span><span class="p">,</span>
  <a name="kFileOpenErrJsRC"></a><span class="e">kFileOpenErrJsRC</span><span class="p">,</span>
  <a name="kFileCreateErrJsRC"></a><span class="e">kFileCreateErrJsRC</span><span class="p">,</span>
  <a name="kFileReadErrJsRC"></a><span class="e">kFileReadErrJsRC</span><span class="p">,</span>
  <a name="kFileSeekErrJsRC"></a><span class="e">kFileSeekErrJsRC</span><span class="p">,</span>
  <a name="kFileCloseErrJsRC"></a><span class="e">kFileCloseErrJsRC</span><span class="p">,</span>
  <a name="kInvalidHexEscapeJsRC"></a><span class="e">kInvalidHexEscapeJsRC</span><span class="p">,</span>
  <a name="kSerialErrJsRC"></a><span class="e">kSerialErrJsRC</span><span class="p">,</span>
  <a name="kNodeNotFoundJsRC"></a><span class="e">kNodeNotFoundJsRC</span><span class="p">,</span>
  <a name="kNodeCannotCvtJsRC"></a><span class="e">kNodeCannotCvtJsRC</span><span class="p">,</span>
  <a name="kCannotRemoveLabelJsRC"></a><span class="e">kCannotRemoveLabelJsRC</span><span class="p">,</span>
  <a name="kInvalidNodeTypeJsRC"></a><span class="e">kInvalidNodeTypeJsRC</span><span class="p">,</span>
  <a name="kValidateFailJsRC"></a><span class="e">kValidateFailJsRC</span><span class="p">,</span>
  <a name="kCsvErrJsRC"></a><span class="e">kCsvErrJsRC</span><span class="p">,</span>
  <a name="kBufTooSmallJsRC"></a><span class="e">kBufTooSmallJsRC</span>
<span class="p">}</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">unsigned</span> <a name="cmJsRC_t"></a><span class="t">cmJsRC_t</span><span class="p">;</span>

<span class="k">typedef</span> <a href="cmGlobal_h_0.html#cmHandle_t">cmHandle_t</a> <a name="cmJsonH_t"></a><span class="t">cmJsonH_t</span><span class="p">;</span>

<span class="c">// JSON tree node</span>
<a name="cmJsonNode_t"></a><span class="k">typedef</span> <span class="k">struct</span> <a name="cmJsonNode_str"></a>cmJsonNode_str
<span class="p">{</span>
  
  <span class="k">unsigned</span>               <a name="cmJsonNode_t.typeId"></a><span class="i">typeId</span><span class="p">;</span>      <span class="c"> // id of this node</span>
  <span class="k">struct</span> <a href="#cmJsonNode_str">cmJsonNode_str</a><span class="p">*</span> <a name="cmJsonNode_t.siblingPtr"></a><span class="i">siblingPtr</span><span class="p">;</span>  <span class="c"> // next ele in array or member list</span>
  <span class="k">struct</span> <a href="#cmJsonNode_str">cmJsonNode_str</a><span class="p">*</span> <a name="cmJsonNode_t.ownerPtr"></a><span class="i">ownerPtr</span><span class="p">;</span>    <span class="c"> // parent node ptr</span>
  
  <a name="u"></a><span class="k">union</span>
  <span class="p">{</span>
    <span class="c">// childPtr usage:
    // object: first pair
    // array:  first element
    // pair:   string</span>    
    <span class="k">struct</span> <a href="#cmJsonNode_str">cmJsonNode_str</a><span class="p">*</span> <a name="cmJsonNode_t.u.childPtr"></a><span class="i">childPtr</span><span class="p">;</span>   
    <span class="k">int</span>                    <a name="cmJsonNode_t.u.intVal"></a><span class="i">intVal</span><span class="p">;</span>     <span class="c"> // valid if typeId == <a href="#kIntTId">kIntTId</a></span>
    <span class="k">double</span>                 <a name="cmJsonNode_t.u.realVal"></a><span class="i">realVal</span><span class="p">;</span>    <span class="c"> // valid if typeId == <a href="#kRealTId">kRealTId</a></span>
    <span class="k">char</span><span class="p">*</span>                  <a name="cmJsonNode_t.u.stringVal"></a><span class="i">stringVal</span><span class="p">;</span>  <span class="c"> // valid if typeId == <a href="#kStringTId">kStringTId</a></span>
    <span class="k">bool</span>                   <a name="cmJsonNode_t.u.boolVal"></a><span class="i">boolVal</span><span class="p">;</span>    <span class="c"> // valid if typeId == <a href="#kTrueTId">kTrueTId</a> || <a href="#kFalseTId">kFalseTId</a></span>
  <span class="p">}</span> <span class="i">u</span><span class="p">;</span>
  
<span class="p">}</span> <span class="t"><a href="#cmJsonNode_t">cmJsonNode_t</a></span><span class="p">;</span>

<span class="k">extern</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">cmJsonNullHandle</span><span class="p">;</span>

<span class="c">// Initialize a json parser/tree object</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInitialize"></a><span class="f">cmJsonInitialize</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a><span class="p">*</span> <span class="i">hp</span><span class="p">,</span> <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span> <span class="i">ctx</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Equivalent to <a href="#cmJsonInitialize">cmJsonInitialize</a>() followed by <a href="#cmJsonParseFile">cmJsonParseFile</a>()</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInitializeFromFile"></a><span class="f">cmJsonInitializeFromFile</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a><span class="p">*</span> <span class="i">hp</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">fn</span><span class="p">,</span> <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span> <span class="i">ctx</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Equivalent to <a href="#cmJsonInitialize">cmJsonInitialize</a>() followed by <a href="#cmJsonParse">cmJsonParse</a>(h,buf,cnt,NULL).</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInitializeFromBuf"></a><span class="f">cmJsonInitializeFromBuf</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a><span class="p">*</span> <span class="i">hp</span><span class="p">,</span> <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span> <span class="i">ctx</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">buf</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">bufByteCnt</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Release all the resources held by the tree.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonFinalize"></a><span class="f">cmJsonFinalize</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a><span class="p">*</span> <span class="i">hp</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Returns true if 'h' is a valid <a href="#cmJsonH_t">cmJsonH_t</a> handle.</span>
<span class="k">bool</span>          <a name="cmJsonIsValid"></a><span class="f">cmJsonIsValid</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Returns true if the tree has been modified since it was initialized.
// If changes to the tree are done directly on the nodes, rather than using
// the API functions, then this function may not indicate the actual
// modification state of the tree.</span>
<span class="k">bool</span>          <a name="cmJsonIsModified"></a><span class="f">cmJsonIsModified</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Build the internal tree by parsing a text buffer. 
// altRootPtr is an optional alternate root ptr which can be used
// append to an existing tree. Set to altRootPtr to
// NULL to append the tree to the internal root.
// If altRootPtr is given it must point ot either an array or
// object node.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonParse"></a><span class="f">cmJsonParse</span><span class="p">(</span>      <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">buf</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">bufCharCnt</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">altRootPtr</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Fills a text buffer from a file and calls <a href="#cmJsonParse">cmJsonParse</a>().</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonParseFile"></a><span class="f">cmJsonParseFile</span><span class="p">(</span>  <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">fn</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">altRootPtr</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return the root node of the internal tree.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonRoot"></a><span class="f">cmJsonRoot</span><span class="p">(</span>       <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return the tree to the post initialize state by clearing the  internal tree.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonClearTree"></a><span class="f">cmJsonClearTree</span><span class="p">(</span>      <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Node type predicates.</span>
<span class="k">bool</span> <a name="cmJsonIsObject"></a><span class="f">cmJsonIsObject</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>
<span class="k">bool</span> <a name="cmJsonIsArray"></a><span class="f">cmJsonIsArray</span><span class="p">(</span>  <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>
<span class="k">bool</span> <a name="cmJsonIsPair"></a><span class="f">cmJsonIsPair</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>
<span class="k">bool</span> <a name="cmJsonIsString"></a><span class="f">cmJsonIsString</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>
<span class="k">bool</span> <a name="cmJsonIsInt"></a><span class="f">cmJsonIsInt</span><span class="p">(</span>    <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>
<span class="k">bool</span> <a name="cmJsonIsReal"></a><span class="f">cmJsonIsReal</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>
<span class="k">bool</span> <a name="cmJsonIsBool"></a><span class="f">cmJsonIsBool</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>


<span class="c">// Return the count of child nodes of 'np'. 
// Note that only object,array, and pair nodes have children.</span>
<span class="k">unsigned</span>      <a name="cmJsonChildCount"></a><span class="f">cmJsonChildCount</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return the node at 'index' from an element array. 
// 'np must point to an array element.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonArrayElement"></a><span class="f">cmJsonArrayElement</span><span class="p">(</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">index</span> <span class="p">)</span><span class="p">;</span>
<span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonArrayElementC"></a><span class="f">cmJsonArrayElementC</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">index</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return the child value node of a pair with a label node equal to 'label'.
// Set 'root' to NULL to begin the search at the internal tree root node. 
// Set 'typeIdMask' with all type flags to match.
// If 'typeIdMask' is equal to <a href="#kInvalidTId">kInvalidTId</a> then all types will match.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonFindValue"></a><span class="f">cmJsonFindValue</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">root</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">typeIdMask</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return the value node of a pair at the end of an object path.
// 'path' is a '/' seperated list of object names where the final
// object specifies the pair label for the value to return.</span>
<span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonFindPathValueC"></a><span class="f">cmJsonFindPathValueC</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">root</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">typeIdMask</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span>       <a name="cmJsonFindPathValue"></a><span class="f">cmJsonFindPathValue</span><span class="p">(</span>  <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">root</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">typeIdMask</span> <span class="p">)</span><span class="p">;</span>


<span class="c">// Return the node value. If 'np' does not point to the same type as
// specified in '*retPtr' then the value is converted if possible.
// If the value cannot be converted function returns a '<a href="#kNodeCannotCvtJsRC">kNodeCannotCvtJsRC</a>'
// error</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonUIntValue"></a><span class="f">cmJsonUIntValue</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">unsigned</span><span class="p">*</span>       <span class="i">retPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonIntValue"></a><span class="f">cmJsonIntValue</span><span class="p">(</span>    <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">int</span><span class="p">*</span>            <span class="i">retPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonRealValue"></a><span class="f">cmJsonRealValue</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">double</span><span class="p">*</span>         <span class="i">retPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonBoolValue"></a><span class="f">cmJsonBoolValue</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">bool</span><span class="p">*</span>           <span class="i">retPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonStringValue"></a><span class="f">cmJsonStringValue</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span> <span class="p">*</span><span class="p">*</span>   <span class="i">retPtrPtr</span> <span class="p">)</span><span class="p">;</span>  
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPairNode"></a><span class="f">cmJsonPairNode</span><span class="p">(</span>    <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">vp</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a> <span class="p">*</span><span class="p">*</span> <span class="i">retPtrPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonArrayNode"></a><span class="f">cmJsonArrayNode</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">vp</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a> <span class="p">*</span><span class="p">*</span> <span class="i">retPtrPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonObjectNode"></a><span class="f">cmJsonObjectNode</span><span class="p">(</span>  <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">vp</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a> <span class="p">*</span><span class="p">*</span> <span class="i">retPtrPtr</span> <span class="p">)</span><span class="p">;</span>  


<span class="c">// Return the label from a pair object.</span>
<span class="k">const</span> <span class="k">char</span><span class="p">*</span>   <a name="cmJsonPairLabel"></a><span class="f">cmJsonPairLabel</span><span class="p">(</span>  <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">pairPtr</span> <span class="p">)</span><span class="p">;</span>
<span class="k">unsigned</span>      <a name="cmJsonPairTypeId"></a><span class="f">cmJsonPairTypeId</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">pairPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonPairValue"></a><span class="f">cmJsonPairValue</span><span class="p">(</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">pairPtr</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return a labelled pair node from an object.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonFindPair"></a><span class="f">cmJsonFindPair</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return the type of a member value.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>     <a name="cmJsonMemberType"></a><span class="f">cmJsonMemberType</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span><span class="p">*</span> <span class="i">typeIdRef</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return the pair at the specified index.  Use <a href="#cmJsonChildCount">cmJsonChildCount</a>() to get the count of pairs in the object.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonMemberAtIndex"></a><span class="f">cmJsonMemberAtIndex</span><span class="p">(</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objNodePtr</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">idx</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return values associated with the member values in the object
// pointed to by object objectNodePtr.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonUIntMember"></a><span class="f">cmJsonUIntMember</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span><span class="p">*</span> <span class="i">retPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonIntMember"></a><span class="f">cmJsonIntMember</span><span class="p">(</span>    <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">int</span><span class="p">*</span> <span class="i">retPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonRealMember"></a><span class="f">cmJsonRealMember</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">double</span><span class="p">*</span> <span class="i">retPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonBoolMember"></a><span class="f">cmJsonBoolMember</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">bool</span><span class="p">*</span> <span class="i">retPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonStringMember"></a><span class="f">cmJsonStringMember</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span><span class="p">*</span> <span class="i">retPtrPtr</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Returns array or object nodes.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonNodeMember"></a><span class="f">cmJsonNodeMember</span><span class="p">(</span>   <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span><span class="p">*</span> <span class="i">nodePtrPtr</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Returns the value of the member pair named by 'label' or NULL if the 
// named pair does not exist.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonNodeMemberValue"></a><span class="f">cmJsonNodeMemberValue</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return values for specified pairs from an object node.
//
// The var args syntax is: &ampltlabel&ampgt,&amplttypeId&ampgt,&ampltvaluePtr&ampgt.
// This functionis implemented in terms of cmJsonXXXMember().
// 
// Add <a href="#kOptArgJsFl">kOptArgJsFl</a> to &amplttypeId&ampgt if the member may not exist in
// the object - otherwise the function will fail with a
// <a href="#kNodeNotFoundJsRC">kNodeNotFoundJsRC</a> error and errLabelPtr will have the name of the missing pair.
//
// Terminate the var args list with NULL.
//
// Object,Array, and Pair members are returned as node pointers.
// 
// Since <a href="#kBoolTId">kBoolTId</a> does not exist use <a href="#kTrueTId">kTrueTId</a> or <a href="#kFalseTId">kFalseTId</a> to
// return bool values.</span>

<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonVMemberValues"></a><span class="f">cmJsonVMemberValues</span><span class="p">(</span><span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span><span class="p">*</span> <span class="i">errLabelPtrPtr</span><span class="p">,</span> va_list <span class="i">vl</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonMemberValues"></a><span class="f">cmJsonMemberValues</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span><span class="p">*</span> <span class="i">errLabelPtrPtr</span><span class="p">,</span> <span class="i">...</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// If objectNodePtr is set to NULL then the  tree root is used as the base for the search.
// pathPrefix may be set to NULL.</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPathToValueNode"></a><span class="f">cmJsonPathToValueNode</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span><span class="p">*</span> <span class="i">nodePtrPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPathToBool"></a><span class="f">cmJsonPathToBool</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <span class="k">bool</span><span class="p">*</span> <span class="i">retValPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPathToInt"></a><span class="f">cmJsonPathToInt</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <span class="k">int</span><span class="p">*</span> <span class="i">retValPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPathToUInt"></a><span class="f">cmJsonPathToUInt</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <span class="k">unsigned</span><span class="p">*</span> <span class="i">retValPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPathToReal"></a><span class="f">cmJsonPathToReal</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <span class="k">double</span><span class="p">*</span> <span class="i">retValPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPathToString"></a><span class="f">cmJsonPathToString</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span><span class="p">*</span> <span class="i">retValPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPathToPair"></a><span class="f">cmJsonPathToPair</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span><span class="p">*</span> <span class="i">retValPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPathToArray"></a><span class="f">cmJsonPathToArray</span><span class="p">(</span>  <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span><span class="p">*</span> <span class="i">retValPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonPathToObject"></a><span class="f">cmJsonPathToObject</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">path</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span><span class="p">*</span> <span class="i">retValPtr</span> <span class="p">)</span><span class="p">;</span>


<span class="c">// Same as <a href="#cmJsonMemberValues">cmJsonMemberValues</a>() except labels may be paths to a given variable.
// These paths are equivalent to those used in <a href="#cmJsonFindPathValue">cmJsonFindPathValue</a>()
// If objectNodePtr is NULL then the JSON tree root is used as the
// base reference object.
// If pathPrefix is non-NULL then it is appended to each of the
// individual paths.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonVPathValues"></a><span class="f">cmJsonVPathValues</span><span class="p">(</span><a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span><span class="p">*</span> <span class="i">errLabelPtrPtr</span><span class="p">,</span> va_list <span class="i">vl</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonPathValues"></a><span class="f">cmJsonPathValues</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pathPrefix</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span><span class="p">*</span> <span class="i">errLabelPtrPtr</span><span class="p">,</span> <span class="i">...</span> <span class="p">)</span><span class="p">;</span>


<span class="c">// Set 'typeId' to the type of the new node.
// Use 'intVal' for the value of int nodes.
// Use 'realVal' for the value of real nodes.
// Use 'stringVal' for the label of pairs and the value of string nodes.
// 'retNodePtrPtr' is optional</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreate"></a><span class="f">cmJsonCreate</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">typeId</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">stringVal</span><span class="p">,</span> <span class="k">int</span> <span class="i">intVal</span><span class="p">,</span> <span class="k">double</span> <span class="i">realVal</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span><span class="p">*</span> <span class="i">newNodePtrPtr</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Insert new nodes in the tree.  If the tree is empty then the first
// inserted node will become the root (this must be an object or array node.).</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonCreateObject"></a><span class="f">cmJsonCreateObject</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonCreateArray"></a><span class="f">cmJsonCreateArray</span><span class="p">(</span>  <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonCreatePair"></a><span class="f">cmJsonCreatePair</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateString"></a><span class="f">cmJsonCreateString</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">stringValue</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateStringN"></a><span class="f">cmJsonCreateStringN</span><span class="p">(</span><a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">stringValue</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">stringCharCnt</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateInt"></a><span class="f">cmJsonCreateInt</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">int</span> <span class="i">value</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateReal"></a><span class="f">cmJsonCreateReal</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">double</span> <span class="i">value</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateBool"></a><span class="f">cmJsonCreateBool</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">bool</span> <span class="i">value</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateNull"></a><span class="f">cmJsonCreateNull</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span> <span class="p">)</span><span class="p">;</span>

<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateStringArray"></a><span class="f">cmJsonCreateStringArray</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateIntArray"></a><span class="f">cmJsonCreateIntArray</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">int</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateRealArray"></a><span class="f">cmJsonCreateRealArray</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">double</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonCreateBoolArray"></a><span class="f">cmJsonCreateBoolArray</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">bool</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>


<span class="c"><hr id="hr1">//
// Tree creation helper functiosn
//</span> 
<a href="#cmJsRC_t">cmJsRC_t</a>    <a name="cmJsonSetInt"></a><span class="f">cmJsonSetInt</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span>  <span class="i">np</span><span class="p">,</span> <span class="k">int</span>         <span class="i">ival</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>    <a name="cmJsonSetReal"></a><span class="f">cmJsonSetReal</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a> <span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">double</span>      <span class="i">rval</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>    <a name="cmJsonSetBool"></a><span class="f">cmJsonSetBool</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a> <span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">bool</span>        <span class="i">bval</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>    <a name="cmJsonSetString"></a><span class="f">cmJsonSetString</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span>  <span class="i">np</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">sval</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Insert a pair with a value indicated by 'typeId'.
// 'stringVal','intVal' and 'realVal' are used as in <a href="#cmJsonCreate">cmJsonCreate</a>().
// Return a pointer to the new pair.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertPair"></a><span class="f">cmJsonInsertPair</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">typeId</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">stringVal</span><span class="p">,</span> <span class="k">int</span> <span class="i">intVal</span><span class="p">,</span> <span class="k">double</span> <span class="i">realVal</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Create a pair node and the associated label and value nodes and insert the pair in a parent object.
// The object,array and pair creation functions return pointers to the pair value node.
// These are helper functions that are implemented in terms of cmJsonCreateXXX() function.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertPairObject"></a><span class="f">cmJsonInsertPairObject</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertPairArray"></a><span class="f">cmJsonInsertPairArray</span><span class="p">(</span>  <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertPairPair"></a><span class="f">cmJsonInsertPairPair</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">pairLabel</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairInt"></a><span class="f">cmJsonInsertPairInt</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">int</span> <span class="i">intVal</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairReal"></a><span class="f">cmJsonInsertPairReal</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">double</span> <span class="i">realVal</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairString"></a><span class="f">cmJsonInsertPairString</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">string</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairStringN"></a><span class="f">cmJsonInsertPairStringN</span><span class="p">(</span><a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">string</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">stringCharCnt</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairBool"></a><span class="f">cmJsonInsertPairBool</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">bool</span> <span class="i">boolVal</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairNull"></a><span class="f">cmJsonInsertPairNull</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span> <span class="p">)</span><span class="p">;</span>

<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairIntArray"></a><span class="f">cmJsonInsertPairIntArray</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">int</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairRealArray"></a><span class="f">cmJsonInsertPairRealArray</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">double</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairStringArray"></a><span class="f">cmJsonInsertPairStringArray</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairBoolArray"></a><span class="f">cmJsonInsertPairBoolArray</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">bool</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Returns pair pointer</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertPairIntArray2"></a><span class="f">cmJsonInsertPairIntArray2</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">int</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertPairRealArray2"></a><span class="f">cmJsonInsertPairRealArray2</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">double</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertPairStringArray2"></a><span class="f">cmJsonInsertPairStringArray2</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertPairBoolArray2"></a><span class="f">cmJsonInsertPairBoolArray2</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">n</span><span class="p">,</span> <span class="k">const</span> <span class="k">bool</span><span class="p">*</span> <span class="i">values</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Insert a pair (same as <a href="#cmJsonInsertPair">cmJsonInsertPair</a>()) or if a pair
// with a matching label/type already exists then replace the 
// existing value with a the new value.
//
// Set matchTypeMask with the type id's of all pair value types
// which sould be considered a match.  If matchTypeMask is set to
// <a href="#kInvalidTId">kInvalidTId</a> then all value types will match. 
//
// Return a pointer to the new or existing pair.
//
// When newTypeId == <a href="#kObjectTId">kObjectTId</a> or <a href="#kArrayTId">kArrayTId</a> then 'nv' may optionally be set to an object or array
// to be set as the new value node for the selected pair.  If 'nv' is NULL then an empty array or
// object is created as the pair value node.  
// 
// When newTypeId == <a href="#kPairTId">kPairTId</a> then we are inserting/replacing a pair as the value of the selected pair.
// In this case sv must be set to the new pair label.  'nv' may be optionally
// set to a new pair value node. If 'nv' is NULL then the the new pair will have a value of type <a href="#kNullTId">kNullTId</a></span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertOrReplacePair"></a><span class="f">cmJsonInsertOrReplacePair</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">newTypeId</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">sv</span><span class="p">,</span> <span class="k">int</span> <span class="i">iv</span><span class="p">,</span> <span class="k">double</span> <span class="i">dv</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">nv</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Returns pointer to object node.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertOrReplacePairObject"></a><span class="f">cmJsonInsertOrReplacePairObject</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">newObjNodePtr</span> <span class="p">)</span><span class="p">;</span>
<span class="c">// Returns pointer to array node.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertOrReplacePairArray"></a><span class="f">cmJsonInsertOrReplacePairArray</span><span class="p">(</span>  <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">newArrayNodePtr</span> <span class="p">)</span><span class="p">;</span>
<span class="c">// Returns pointer to child pair node</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonInsertOrReplacePairPair"></a><span class="f">cmJsonInsertOrReplacePairPair</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">newPairLabel</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">newPairValNodePtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertOrReplacePairInt"></a><span class="f">cmJsonInsertOrReplacePairInt</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">int</span> <span class="i">intVal</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertOrReplacePairReal"></a><span class="f">cmJsonInsertOrReplacePairReal</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">double</span> <span class="i">realVal</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertOrReplacePairString"></a><span class="f">cmJsonInsertOrReplacePairString</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">string</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertOrReplacePairBool"></a><span class="f">cmJsonInsertOrReplacePairBool</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">bool</span> <span class="i">boolVal</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertOrReplacePairNull"></a><span class="f">cmJsonInsertOrReplacePairNull</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Same as the above cmJsonInsertOrReplaceXXX() functions except
// the function fails if a matching pair is not found.
//
// Replace a pair with the same name/type and return a pointer to the 
// effected pair. If a pair with the same name and type are not 
// found then no change is made and the function returns NULL. 
// For newTypeId=<a href="#kObjectTId">kObjectTId</a>,<a href="#kArrayTId">kArrayTId</a>,<a href="#kPairTId">kPairTId</a> the replaced pair node is blank,
// in other words it will have no child nodes.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonReplacePair"></a><span class="f">cmJsonReplacePair</span><span class="p">(</span>       <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">newTypeId</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">sv</span><span class="p">,</span> <span class="k">int</span> <span class="i">iv</span><span class="p">,</span> <span class="k">double</span> <span class="i">dv</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">nv</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Returns pointer to object node.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonReplacePairObject"></a><span class="f">cmJsonReplacePairObject</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">newObjNodePtr</span> <span class="p">)</span><span class="p">;</span>
<span class="c">// Return  pointer to array node.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonReplacePairArray"></a><span class="f">cmJsonReplacePairArray</span><span class="p">(</span>  <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">newArrayNodePtr</span> <span class="p">)</span><span class="p">;</span>
<span class="c">// Returns pointer to child pair node.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonReplacePairPair"></a><span class="f">cmJsonReplacePairPair</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">newPairLabel</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">newPairValueNodePtr</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonReplacePairInt"></a><span class="f">cmJsonReplacePairInt</span><span class="p">(</span>    <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">int</span> <span class="i">intVal</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonReplacePairReal"></a><span class="f">cmJsonReplacePairReal</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">double</span> <span class="i">realVal</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonReplacePairString"></a><span class="f">cmJsonReplacePairString</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">string</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonReplacePairBool"></a><span class="f">cmJsonReplacePairBool</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span><span class="p">,</span> <span class="k">bool</span> <span class="i">boolVal</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonReplacePairNull"></a><span class="f">cmJsonReplacePairNull</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">label</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">matchTypeMask</span> <span class="p">)</span><span class="p">;</span>


<span class="c">// Insert multiple pairs in a parent object. Terminate the pair sets with NULL.
// Note that pair,int,real,bool, and string  pairs are specified with 3 args: &ampltlabel&ampgt,&amplttypeId&ampgt,&ampltvalue&ampgt
// all others are specified with 2 args: &ampltlabel&ampgt,&amplttypeId&ampgt.
// The last argument in this function must always be NULL.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonVInsertPairs"></a><span class="f">cmJsonVInsertPairs</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> va_list <span class="i">vl</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonInsertPairs"></a><span class="f">cmJsonInsertPairs</span><span class="p">(</span>  <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">objectNodePtr</span><span class="p">,</span> <span class="i">...</span> <span class="p">)</span><span class="p">;</span>


<span class="c">// Create an object node, fill it with the specified pairs, and return a pointer to
// the new object node.
// This function uses same var args syntax as <a href="#cmJsonInsertPairs">cmJsonInsertPairs</a>()</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonVCreateFilledObject"></a><span class="f">cmJsonVCreateFilledObject</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> va_list <span class="i">vl</span> <span class="p">)</span><span class="p">;</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonCreateFilledObject"></a><span class="f">cmJsonCreateFilledObject</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <span class="i">...</span> <span class="p">)</span><span class="p">;</span>

<span class="c"><hr id="hr1"></span> 
<span class="c">// Remove a node from the tree by unlinking it from its 
// parent and siblings. 
// Set the freeFl to true if the node memory should also 
// be released.
// 
// If 'freeFl' is false then np-&ampgtownerPtr and 
// np-&ampgtsiblingPtr remain valid when the function returns.
// Even with the valid pointer however be careful 
// not to use the node in a way  that it depends
// on existing in the tree since the parent and
// siblings will no longer know about it.
//
// If np is the root then the internal tree will be
// cleared (i.e. <a href="#cmJsonRoot">cmJsonRoot</a>(h) == NULL).
//
// This function will fail if 'np' points to the label value
// of a pair node.  Pair labels cannot be removed because this
// would result in an invalid tree (all pairs must have two 
// child nodes where the first node is a string value). If 'np'
// points to a pair value node then the value node is replaced
// with a null node to maintain a valid pair structure.</span>
<a href="#cmJsRC_t">cmJsRC_t</a> <a name="cmJsonRemoveNode"></a><span class="f">cmJsonRemoveNode</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">bool</span> <span class="i">freeFl</span> <span class="p">)</span><span class="p">;</span>

<span class="c"><hr id="hr1"></span> 

<span class="c">// Duplicate the subtree pointed to by 'np' and attach it as a child
// of the node pointed to by 'parentPtr'.  This function performs a
// deep copy of the subtree pointed to by np and returns the pointer
// to the duplicated subtree.
//
// 'parentPtr' must be a legal parent for the sub-tree or NULL to not
// attach the duplicate tree to any parent.
//
// The returned value is a pointer to the new subtree. 
//
// If an error occurs the return value is NULL and <a href="#cmJsonErrorCode">cmJsonErrorCode</a>()
// can be used to obtain the code associated with the error.</span>
<a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <a name="cmJsonDuplicateNode"></a><span class="f">cmJsonDuplicateNode</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span> <span class="p">)</span><span class="p">;</span> 

<span class="c"><hr id="hr1"></span> 
<span class="c">// Copy any pairs not found in the destintaion object from the
// source object.
// If an error occurs during merging the destination object is
// returned unmodified.  The most likely cause of an error is a
// destination pair with the same name but different type 
// than a source pair.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>  <a name="cmJsonMergeObjectNodes"></a><span class="f">cmJsonMergeObjectNodes</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">destObjNodePtr</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">srcObjNodePtr</span> <span class="p">)</span><span class="p">;</span>

<span class="c"><hr id="hr1"></span> 

<span class="c">// Validate the tree.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonValidateTree"></a><span class="f">cmJsonValidateTree</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Validate the tree beginning with np. Note that this function does
// not <a href="cmMain_c_0.html#print">print</a> an error on failure but simply returns <a href="#kValidateFailJsRC">kValidateFailJsRC</a>.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonValidate"></a><span class="f">cmJsonValidate</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Get the count of bytes required to serialize the tree rooted at 'np'.  </span>
<span class="k">unsigned</span>      <a name="cmJsonSerialByteCount"></a><span class="f">cmJsonSerialByteCount</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Serialize the tree rooted at 'np' into the buffer buf[bufByteCnt].</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonSerialize"></a><span class="f">cmJsonSerialize</span><span class="p">(</span>  <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">void</span><span class="p">*</span> <span class="i">buf</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">bufByteCnt</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Serialize the subtree indicated by 'np' or the entire tree
// if 'np' is NULL. The buffer created by this call will exist 
// for the life of 'h' or until the next call to <a href="#cmJsonSerialize">cmJsonSerialize</a>().
// This function is implemented in terms of <a href="#cmJsonSerialByteCount">cmJsonSerialByteCount</a>()
// and <a href="#cmJsonSerializeTree">cmJsonSerializeTree</a>().</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonSerializeTree"></a><span class="f">cmJsonSerializeTree</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> <span class="i">bufPtrPtr</span><span class="p">,</span> <span class="k">unsigned</span><span class="p">*</span> <span class="i">bufByteCntPtr</span><span class="p">)</span><span class="p">;</span>

<span class="c">// Recreate the objects previously serialzed via <a href="#cmJsonSerialize">cmJsonSerialize</a>().
// The tree held in the buffer will be reconstructed as a child of
// altRootPtr (if it is non-NULL) or the internal root.  
// If altRootPtr is given then it must point to an array 
// or object node.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonDeserialize"></a><span class="f">cmJsonDeserialize</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">void</span><span class="p">*</span> <span class="i">bufPtr</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">altRootPtr</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return a string/int/real/null/bool node as a string value.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonLeafToString"></a><span class="f">cmJsonLeafToString</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> <span class="i">buf</span><span class="p">,</span> <span class="k">unsigned</span> <span class="i">bufCharCnt</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Given a CSV file convert it to an array of JSON objects.
// The first line of the CSV file must contain a comma seperated lists of types.
// The type labels must be from the set: 'int','real','string','true','false'.
// Note that either 'true' or 'false' can be use for boolean columns.
// The seocnd line contains the field names as comma separated quoted strings.
// For example &ampquotcolumn1&ampquot,&ampquotcolumn2&ampquot,&ampquotcolumn3&ampquot
// The data is presented as comma separated fields.
// If parentNodePtr is NULL then the array will be created unattached to 
// the tree.
// if arrayNodePtrPtr is non-NULL then the array node ptr will be returned.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonFromCSV"></a><span class="f">cmJsonFromCSV</span><span class="p">(</span>  <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">iFn</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">parentPtr</span><span class="p">,</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span><span class="p">*</span> <span class="i">arrayNodePtrPtr</span>  <span class="p">)</span><span class="p">;</span>

<span class="c">// Write a CSV file from an array of objects.
// arrayNodePtr must point to an array of objects.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonToCSV"></a><span class="f">cmJsonToCSV</span><span class="p">(</span>   <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">oFn</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">arrayNodePtr</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// <a href="cmVectOpsDocOut_h_0.html#Print">Print</a> the subtree using 'np as the root.</span>
<span class="k">void</span>          <a name="cmJsonPrintTree"></a><span class="f">cmJsonPrintTree</span><span class="p">(</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <a href="cmRpt_h_0.html#cmRpt_t">cmRpt_t</a><span class="p">*</span> <span class="i">rpt</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// <a href="cmVectOpsDocOut_h_0.html#Print">Print</a> the subtree using 'np' as the root to a file.
// 'np' is optional and defaults to <a href="#cmJsonRoot">cmJsonRoot</a>().</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonWrite"></a><span class="f">cmJsonWrite</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span><span class="p">,</span> <span class="k">const</span> <a href="#cmJsonNode_t">cmJsonNode_t</a><span class="p">*</span> <span class="i">np</span><span class="p">,</span> <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> <span class="i">fn</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Return the code of the last error generated.  This is useful for the
// the cmJsonCreateXXX() functions which do not return error codes but
// may still fail.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonErrorCode"></a><span class="f">cmJsonErrorCode</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span> <span class="p">)</span><span class="p">;</span>
<span class="k">void</span>          <a name="cmJsonClearErrorCode"></a><span class="f">cmJsonClearErrorCode</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Validate the tree and <a href="cmMain_c_0.html#print">print</a> all the nodes.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonReport"></a><span class="f">cmJsonReport</span><span class="p">(</span> <a href="#cmJsonH_t">cmJsonH_t</a> <span class="i">h</span> <span class="p">)</span><span class="p">;</span>

<span class="c">// Testing stub.</span>
<a href="#cmJsRC_t">cmJsRC_t</a>      <a name="cmJsonTest"></a><span class="f"><a href="cmJson_c_0.html#cmJsonTest_defn">cmJsonTest</a></span><span class="p">(</span> <span class="k">const</span> <span class="k">char</span><span class="p">*</span> <span class="i">fn</span><span class="p">,</span> <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span> <span class="i">ctx</span> <span class="p">)</span><span class="p">;</span>
</pre>
</div>
<!-- End nodes -->
</div>
</body>
</html>
