<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>cmDspPgm.c</title>
    <link href="cdg_code.css"    rel="stylesheet" type="text/css" media="screen" />
  </head>
  <body>
    <div class="highlight">

      <div class="license">
	<p>
	  Copyright (C) Kevin Larke 2009-2020
	</p>

	<p>
	  This file is part of libcm.
	</p>

	<p>
	  libcm is free software: you can redistribute it and/or modify it under
	  the terms of the GNU General Public License as published by the Free
	  Software Foundation, either version 3 of the License, or (at your
	  option) any later version.
	</p>

	<p>
	  libcm is distributed in the hope that it will be useful, but WITHOUT
	  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
	  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
	  for more details.
	</p>

	<p>
	  See the GNU General Public License distributed with the libcm
	  package or look here: <https://www.gnu.org/licenses/>.
	</p>


      </div>

      <hr>
<a name="cmDspPgm.c"></a><!-- Begin nodes -->
<div class="cod"><div class="blk_title">cmDspPgm : 'snap' programs.</div><pre><a name="cmDspPgm_c_code_0"></a><span class="m">#include &quot<a href="cmPrefix_h_0.html#cmPrefix.h">cmPrefix.h</a>&quot</span>
<span class="m">#include &quot<a href="cmGlobal_h_0.html#cmGlobal.h">cmGlobal.h</a>&quot</span>
<span class="m">#include &quot<a href="cmFloatTypes_h_0.html#cmFloatTypes.h">cmFloatTypes.h</a>&quot</span>
<span class="m">#include &quot<a href="cmRpt_h_0.html#cmRpt.h">cmRpt.h</a>&quot</span>
<span class="m">#include &quot<a href="cmErr_h_0.html#cmErr.h">cmErr.h</a>&quot</span>
<span class="m">#include &quot<a href="cmCtx_h_0.html#cmCtx.h">cmCtx.h</a>&quot</span>
<span class="m">#include &quot<a href="cmMem_h_0.html#cmMem.h">cmMem.h</a>&quot</span>
<span class="m">#include &quot<a href="cmMallocDebug_h_0.html#cmMallocDebug.h">cmMallocDebug.h</a>&quot</span>
<span class="m">#include &quot<a href="cmLinkedHeap_h_0.html#cmLinkedHeap.h">cmLinkedHeap.h</a>&quot</span>
<span class="m">#include &quot<a href="cmFileSys_h_0.html#cmFileSys.h">cmFileSys.h</a>&quot</span>
<span class="m">#include &quot<a href="cmSymTbl_h_0.html#cmSymTbl.h">cmSymTbl.h</a>&quot</span>
<span class="m">#include &quot<a href="cmJson_h_0.html#cmJson.h">cmJson.h</a>&quot</span>
<span class="m">#include &quot<a href="cmPrefs_h_0.html#cmPrefs.h">cmPrefs.h</a>&quot</span>
<span class="m">#include &quot<a href="cmDspValue_h_0.html#cmDspValue.h">cmDspValue.h</a>&quot</span>
<span class="m">#include &quot<a href="cmMsgProtocol_h_0.html#cmMsgProtocol.h">cmMsgProtocol.h</a>&quot</span>
<span class="m">#include &quot<a href="cmThread_h_0.html#cmThread.h">cmThread.h</a>&quot</span>
<span class="m">#include &quot<a href="cmUdpPort_h_0.html#cmUdpPort.h">cmUdpPort.h</a>&quot</span>
<span class="m">#include &quot<a href="cmUdpNet_h_0.html#cmUdpNet.h">cmUdpNet.h</a>&quot</span>
<span class="m">#include &quot<a href="cmSerialPort_h_0.html#cmSerialPort.h">cmSerialPort.h</a>&quot</span>
<span class="m">#include &quot<a href="cmTime_h_0.html#cmTime.h">cmTime.h</a>&quot</span>
<span class="m">#include &quot<a href="cmAudioSys_h_0.html#cmAudioSys.h">cmAudioSys.h</a>&quot</span>
<span class="m">#include &quot<a href="cmProcObj_h_0.html#cmProcObj.h">cmProcObj.h</a>&quot</span>
<span class="m">#include &quot<a href="cmPP_NARG_h_0.html#cmPP_NARG.h">cmPP_NARG.h</a>&quot</span>
<span class="m">#include &quot<a href="cmDspCtx_h_0.html#cmDspCtx.h">cmDspCtx.h</a>&quot</span>
<span class="m">#include &quot<a href="cmDspClass_h_0.html#cmDspClass.h">cmDspClass.h</a>&quot</span>
<span class="m">#include &quot<a href="cmDspSys_h_0.html#cmDspSys.h">cmDspSys.h</a>&quot</span>
<span class="m">#include &quot<a href="cmDspPgm_h_0.html#cmDspPgm.h">cmDspPgm.h</a>&quot</span>
<span class="m">#include &quot<a href="cmDspPgmPP_h_0.html#cmDspPgmPP.h">cmDspPgmPP.h</a>&quot</span>
<span class="m">#include &quot<a href="cmDspPgmKr_h_0.html#cmDspPgmKr.h">cmDspPgmKr.h</a>&quot</span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_ReflecCalc : Acoustic time-of-flight measurement program.</div><pre><a name="cmDspPgm_ReflecCalc"></a>
<a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_ReflectCalc_defn"></a><a name="_cmDspSysPgm_ReflectCalc"></a><span class="f">_cmDspSysPgm_ReflectCalc</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  
  <span class="c">// audio inputs</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai0  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai1  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rc0   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotReflectCalc&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* rc1   = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotReflectCalc&ampquot, NULL, 0 );</span>
  
  <span class="c">// audio outputs</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// input meters</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> im0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotIn 0&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> im1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotIn 1&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// output meters
  //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* om0 = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotAMeter&ampquot,&ampquotOut 0&ampquot, 0);
  //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* om1 = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotAMeter&ampquot,&ampquotOut 1&ampquot,0);</span>  
  
  <span class="c">// gain controls</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> igain <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotIn Gain&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">4.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ogain <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotOut Gain&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">4.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">3.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> im0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // ain0 -&ampgt imtr0</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> im1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // ain1 -&ampgt imtr1</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> igain<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ai0<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // igain -&ampgt ain0</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> igain<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ai1<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // igain -&ampgt ain0</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ogain<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ao0<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // igain -&ampgt ain0</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ogain<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ao1<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // igain -&ampgt ain0</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> rc0<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> rc0<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao0<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao1<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_SyncRecd : Generate MIDI / Audio synchronization data with cmDspSyncRecd.</div><pre><a name="cmDspPgm_SyncRecd"></a>
<a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_SyncRecd_defn"></a><a name="_cmDspSysPgm_SyncRecd"></a><span class="f">_cmDspSysPgm_SyncRecd</span><span class="p">(</span>  <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">unsigned</span> audioFileBits <span class="p">=</span> <span class="l">24</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai0p   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai1p   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mip    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMidiIn&quot</span><span class="p">,</span>  NULL<span class="p">,</span>   <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> srp    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotSyncRecd&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">3</span><span class="p">,</span> <span class="l">&quot/home/kevin/temp/kr/sr&quot</span><span class="p">,</span><span class="l">&quotsr&quot</span><span class="p">,</span><span class="l">&quotaudio&quot</span><span class="p">,</span>audioFileBits<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> am0p   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span>  <span class="l">&quotLeft&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> am1p   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span>  <span class="l">&quotRight&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chk    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotCheckbox&quot</span><span class="p">,</span><span class="l">&quotrecd&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <span class="l">&quotRecd&quot</span><span class="p">,</span><span class="l">&quotopen&quot</span><span class="p">,</span><span class="l">&quotclose&quot</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gain0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotIn Gain-0&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>   <span class="l">10.0</span><span class="p">,</span><span class="l">0.01</span><span class="p">,</span>   <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gain1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotIn Gain-1&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>   <span class="l">10.0</span><span class="p">,</span><span class="l">0.01</span><span class="p">,</span>   <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>  
  
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mip<span class="p">,</span>   <span class="l">&quotstatus&quot</span><span class="p">,</span> srp<span class="p">,</span> <span class="l">&quotstatus&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mip<span class="p">,</span>   <span class="l">&quotd0&quot</span><span class="p">,</span>     srp<span class="p">,</span> <span class="l">&quotd0&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mip<span class="p">,</span>   <span class="l">&quotd1&quot</span><span class="p">,</span>     srp<span class="p">,</span> <span class="l">&quotd1&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mip<span class="p">,</span>   <span class="l">&quotsec&quot</span><span class="p">,</span>    srp<span class="p">,</span> <span class="l">&quotsec&quot</span><span class="p">,</span>    NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mip<span class="p">,</span>   <span class="l">&quotnsec&quot</span><span class="p">,</span>   srp<span class="p">,</span> <span class="l">&quotnsec&quot</span><span class="p">,</span>   NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> chk<span class="p">,</span>   <span class="l">&quotsym&quot</span><span class="p">,</span>    srp<span class="p">,</span> <span class="l">&quotcmd&quot</span><span class="p">,</span>    NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> gain0<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>   ai0p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span>   NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> gain1<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>   ai1p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span>   NULL<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> srp<span class="p">,</span>  <span class="l">&quotain-0&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> srp<span class="p">,</span>  <span class="l">&quotain-1&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> am0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> am1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_MidiFilePlay : MIDI file player example program.</div><pre><a name="cmDspPgm_MidiFilePlay"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_MidiFilePlay_defn"></a><a name="_cmDspSysPgm_MidiFilePlay"></a><span class="f">_cmDspSysPgm_MidiFilePlay</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> deviceName <span class="p">=</span> <span class="l">&quotScarlett 18i20 USB&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> portName   <span class="p">=</span> <span class="l">&quotScarlett 18i20 USB MIDI 1&quot</span><span class="p">;</span>
  
  <span class="c">//const <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>* deviceName = &ampquotFastlane&ampquot;
  //const <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>* portName   = &ampquotFastlane MIDI A&ampquot;</span>  
  
  <span class="c">//const <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>* deviceName = &ampquotDKV-M4&ampquot;
  //const <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>* portName   = &ampquotDKV-M4 MIDI 1&ampquot;</span>  
  
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span>     fn0   <span class="p">=</span> <span class="l">&quotmedia/audio/midi/988-v25.mid&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn    <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>fn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fnp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotFname&quot</span><span class="p">,</span>    NULL<span class="p">,</span>  <span class="l">3</span><span class="p">,</span> false<span class="p">,</span><span class="l">&quotMIDI Files (*.mid)\tMIDI Files (*.{mid})&quot</span><span class="p">,</span>fn<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ignp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotIn Gain&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">4.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mfp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMidiFilePlay&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pic   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPicadae&quot</span><span class="p">,</span>     NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mop   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotMidiOut&quot</span><span class="p">,</span>    NULL<span class="p">,</span>  <span class="l">2</span><span class="p">,</span> deviceName<span class="p">,</span> portName<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> start <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotstart&quot</span><span class="p">,</span>    <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> stop  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotstop&quot</span><span class="p">,</span>     <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> cont  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotcontinue&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> beg <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotBeg Samp&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1000000000.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>   <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> end <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotEnd Samp&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1000000000.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>   <span class="l">1000000000.0</span> <span class="p">)</span><span class="p">;</span>  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao2p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">4</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao3p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">5</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> im0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotIn 0&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> im1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotIn 1&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut 0&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut 1&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om2p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut 2&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om3p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut 3&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> fnp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> mfp<span class="p">,</span> <span class="l">&quotfn&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> start<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span>   beg<span class="p">,</span> <span class="l">&quotsend&quot</span><span class="p">,</span>   NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> beg<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span>   mfp<span class="p">,</span> <span class="l">&quotbsi&quot</span><span class="p">,</span>    NULL<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> start<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span>   end<span class="p">,</span> <span class="l">&quotsend&quot</span><span class="p">,</span>   NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> end<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span>   mfp<span class="p">,</span> <span class="l">&quotesi&quot</span><span class="p">,</span>    NULL<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> start<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span>   mfp<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span>    NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> stop<span class="p">,</span>  <span class="l">&quotsym&quot</span><span class="p">,</span>   mfp<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span>    NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> cont<span class="p">,</span>  <span class="l">&quotsym&quot</span><span class="p">,</span>   mfp<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span>    NULL<span class="p">)</span><span class="p">;</span>
  
  <span class="k">bool</span> usePicadaeFl <span class="p">=</span> false<span class="p">;</span>
  
  <span class="k">if</span><span class="p">(</span> usePicadaeFl <span class="p">)</span>
  <span class="p">{</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> mfp<span class="p">,</span>  <span class="l">&quotd1&quot</span><span class="p">,</span>     pic<span class="p">,</span> <span class="l">&quotd1&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> mfp<span class="p">,</span>  <span class="l">&quotd0&quot</span><span class="p">,</span>     pic<span class="p">,</span> <span class="l">&quotd0&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> mfp<span class="p">,</span>  <span class="l">&quotstatus&quot</span><span class="p">,</span> pic<span class="p">,</span> <span class="l">&quotstatus&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> pic<span class="p">,</span>  <span class="l">&quotd1&quot</span><span class="p">,</span>     mop<span class="p">,</span> <span class="l">&quotd1&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> pic<span class="p">,</span>  <span class="l">&quotd0&quot</span><span class="p">,</span>     mop<span class="p">,</span> <span class="l">&quotd0&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> pic<span class="p">,</span>  <span class="l">&quotstatus&quot</span><span class="p">,</span> mop<span class="p">,</span> <span class="l">&quotstatus&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> mfp<span class="p">,</span>  <span class="l">&quotd1&quot</span><span class="p">,</span>     mop<span class="p">,</span> <span class="l">&quotd1&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> mfp<span class="p">,</span>  <span class="l">&quotd0&quot</span><span class="p">,</span>     mop<span class="p">,</span> <span class="l">&quotd0&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> mfp<span class="p">,</span>  <span class="l">&quotstatus&quot</span><span class="p">,</span> mop<span class="p">,</span> <span class="l">&quotstatus&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, ai0p, &ampquotout&ampquot, ao0p, &ampquotin&ampquot); 
  //<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, ai1p, &ampquotout&ampquot, ao1p, &ampquotin&ampquot); </span>  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> im0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>         <span class="c"> // ain0 -&ampgt imtr0</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> im1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>         <span class="c"> // ain1 -&ampgt imtr1</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ignp<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ai0p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // igain -&ampgt ain0</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain0 -&ampgt aout0 </span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> om0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain0 -&ampgt omtr0 </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ignp<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ai1p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // igain -&ampgt ain1</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain1 -&ampgt aout1 </span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> om1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain1 -&ampgt omtr1 </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao2p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain0 -&ampgt aout2 </span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> om2p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain0 -&ampgt omtr0</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao3p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain1 -&ampgt aout3 </span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> om3p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain0 -&ampgt omtr0 </span>
  
  errLabel<span class="p">:</span>
  
  <a href="cmFileSys_h_0.html#cmFsFreeFn">cmFsFreeFn</a><span class="p">(</span>fn<span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Test_Midi : MIDI input/output example program.</div><pre><a name="cmDspPgm_Test_Midi"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Test_Midi_defn"></a><a name="_cmDspSysPgm_Test_Midi"></a><span class="f">_cmDspSysPgm_Test_Midi</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> deviceName <span class="p">=</span> <span class="l">&quotFastlane&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> portName   <span class="p">=</span> <span class="l">&quotFastlane MIDI A&quot</span><span class="p">;</span>
  
  #ifdef OS_OSX
  
  deviceName <span class="p">=</span> <span class="l">&quotMOTU - FastLane USB&quot</span><span class="p">;</span>
  portName   <span class="p">=</span> <span class="l">&quotPort A&quot</span><span class="p">;</span>
  
  <span class="c">//deviceName = &ampquotRME - Fireface UFX (23148636)&ampquot;
  //portName   = &ampquotPort 2&ampquot;</span>  
  
  #endif
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sendBtn <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotSend&quot</span><span class="p">,</span>    <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> status  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotStatus&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">127.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">144.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> d0      <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotD0&quot</span><span class="p">,</span>      <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">127.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">64.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> d1      <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotD1&quot</span><span class="p">,</span>      <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">127.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">64.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> midiOut <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotMidiOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>     <span class="l">2</span><span class="p">,</span> deviceName<span class="p">,</span> portName<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> midiIn  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotMidiIn&quot</span><span class="p">,</span>  NULL<span class="p">,</span>     <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* printer = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>( h,&ampquotPrinter&ampquot, NULL,     1, &ampquot&ampgt&ampquot );</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> prst <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> <span class="l">&quotst&gt&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> prd0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> <span class="l">&quotd0&gt&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> prd1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> <span class="l">&quotd1&gt&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> sendBtn<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> d1<span class="p">,</span>      <span class="l">&quotsend&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> sendBtn<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> d0<span class="p">,</span>      <span class="l">&quotsend&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> sendBtn<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> status<span class="p">,</span>  <span class="l">&quotsend&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> status<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> midiOut<span class="p">,</span> <span class="l">&quotstatus&quot</span><span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> d0<span class="p">,</span>      <span class="l">&quotval&quot</span><span class="p">,</span> midiOut<span class="p">,</span> <span class="l">&quotd0&quot</span><span class="p">,</span>    NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> d1<span class="p">,</span>      <span class="l">&quotval&quot</span><span class="p">,</span> midiOut<span class="p">,</span> <span class="l">&quotd1&quot</span><span class="p">,</span>    NULL<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> midiIn<span class="p">,</span>  <span class="l">&quotstatus&quot</span><span class="p">,</span> prst<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> midiIn<span class="p">,</span>  <span class="l">&quotd0&quot</span><span class="p">,</span>     prd0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> midiIn<span class="p">,</span>  <span class="l">&quotd1&quot</span><span class="p">,</span>     prd1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(   h, midiIn,  &ampquotsmpidx&ampquot, printer, &ampquotin&ampquot, NULL);</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Test_Pedals : MIDI input/output example program.</div><pre><a name="cmDspPgm_Test_Pedals"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Test_Pedals_defn"></a><a name="_cmDspSysPgm_Test_Pedals"></a><span class="f">_cmDspSysPgm_Test_Pedals</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  <span class="c">//const <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>* deviceName = &ampquotFastlane&ampquot;
  //const <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>* portName   = &ampquotFastlane MIDI A&ampquot;</span>  
  
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> deviceName <span class="p">=</span> <span class="l">&quotApple Inc. - IAC Driver&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> portName   <span class="p">=</span> <span class="l">&quotBus 1&quot</span><span class="p">;</span>
  
  <span class="c">//deviceName = &ampquotMOTU - FastLane USB&ampquot;
  //portName   = &ampquotPort A&ampquot;</span>  
  
  <span class="c">//deviceName = &ampquotRME - Fireface UFX (23148636)&ampquot;
  //portName   = &ampquotPort 2&ampquot;</span>  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> on0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotNote On 1&quot</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> of0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOff 1    &quot</span><span class="p">,</span> <span class="l">2.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> on1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotNote On 2&quot</span><span class="p">,</span> <span class="l">3.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> of1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOff 2    &quot</span><span class="p">,</span> <span class="l">4.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dm1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotDamp On  &quot</span><span class="p">,</span> <span class="l">5.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dm0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotDamp Off &quot</span><span class="p">,</span> <span class="l">6.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sf1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSoft On  &quot</span><span class="p">,</span> <span class="l">5.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sf0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSoft Off &quot</span><span class="p">,</span> <span class="l">6.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> so1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSost On  &quot</span><span class="p">,</span> <span class="l">5.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> so0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSost Off &quot</span><span class="p">,</span> <span class="l">6.0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> lst <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotSeq&quot</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotnote_list&quot</span><span class="p">)</span><span class="p">;</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mop <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotMidiOut&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> deviceName<span class="p">,</span> portName<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* prt = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>( h,&ampquotPrinter&ampquot, NULL, 1, &ampquot&ampquot );</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> ai0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> ai1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> on0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> of0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> on1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> of1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> dm1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> dm0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> sf1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> sf0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> so1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>  h<span class="p">,</span> so0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(   h, lst,     &ampquotd1&ampquot,     prt,     &ampquotin&ampquot, NULL );
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(   h, lst,     &ampquotd0&ampquot,     prt,     &ampquotin&ampquot, NULL );
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(   h, lst,     &ampquotstatus&ampquot, prt,     &ampquotin&ampquot, NULL );</span>  
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> lst<span class="p">,</span>  <span class="l">&quotd1&quot</span><span class="p">,</span>     mop<span class="p">,</span> <span class="l">&quotd1&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> lst<span class="p">,</span>  <span class="l">&quotd0&quot</span><span class="p">,</span>     mop<span class="p">,</span> <span class="l">&quotd0&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> lst<span class="p">,</span>  <span class="l">&quotstatus&quot</span><span class="p">,</span> mop<span class="p">,</span> <span class="l">&quotstatus&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Stereo_Through : Stereo audio through example program.</div><pre><a name="cmDspPgm_Stereo_Through"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Stereo_Through_defn"></a><a name="_cmDspSysPgm_Stereo_Through"></a><span class="f">_cmDspSysPgm_Stereo_Through</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ignp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotIn Gain&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">4.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* ognp = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>( h,&ampquotScalar&ampquot, &ampquotOut Gain&ampquot, 5, <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a>, 0.0,  4.0, 0.01,  1.0);</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hzp  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotHz&quot</span><span class="p">,</span>       <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> php <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>   NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wtp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// MOTU Traveler: Use channels 2&ampamp3 (out plugs:3&ampamp4) because 0&ampamp1 do not show up on plugs 1&ampamp2.</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> im0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotIn 0&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> im1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotIn 1&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut 0&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut 1&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, ai0p, &ampquotout&ampquot, ao0p, &ampquotin&ampquot); 
  //<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, ai1p, &ampquotout&ampquot, ao1p, &ampquotin&ampquot); </span>  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> im0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>         <span class="c"> // ain0 -&ampgt imtr0</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> im1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>         <span class="c"> // ain1 -&ampgt imtr1</span>
  
  <span class="k">if</span><span class="p">(</span><span class="l">0</span><span class="p">)</span>
  <span class="p">{</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> hzp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> php<span class="p">,</span> <span class="l">&quotmult&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>   <span class="c"> // hz -&ampgt phs</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> php<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // phs -&ampgt wt</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span>  <span class="p">)</span><span class="p">;</span>        <span class="c"> // wt -&ampgt aout0</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> om0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // wt -&ampgt omtr0</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ignp<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ai0p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // igain -&ampgt ain0</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain0 -&ampgt aout0 </span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> om0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain0 -&ampgt omtr0 </span>
  <span class="p">}</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ignp<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ai1p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // igain -&ampgt ain1</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain1 -&ampgt aout1 </span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> om1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain1 -&ampgt omtr1 </span>
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspSysPgm_All_In_And_Out : Meter all the input channels and pass two channels to the output.</div><pre><a name="cmDspSysPgm_All_In_And_Out"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_All_In_And_Out_defn"></a><a name="_cmDspSysPgm_All_In_And_Out"></a><span class="f">_cmDspSysPgm_All_In_And_Out</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ignp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotIn Gain&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">4.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="k">const</span> <span class="k">unsigned</span> inN <span class="p">=</span> <span class="l">18</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ainA<span class="p">[</span>inN<span class="p">]</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> aoutA<span class="p">[</span>inN<span class="p">]</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> imtrA<span class="p">[</span>inN<span class="p">]</span><span class="p">;</span>
  
  <span class="k">int</span> i<span class="p">;</span>
  <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span>i<span class="p">&lt</span>inN<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
  <span class="p">{</span>
    <span class="k">char</span> label<span class="p">[</span><span class="l">32</span><span class="p">]</span><span class="p">;</span>
    snprintf<span class="p">(</span>label<span class="p">,</span><span class="l">32</span><span class="p">,</span><span class="l">&quotin %i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
    ainA<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> i <span class="p">)</span><span class="p">;</span>
    imtrA<span class="p">[</span>i<span class="p">]</span> <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span>label<span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
    aoutA<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> i <span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>inN<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
  <span class="p">{</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ignp<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span> ainA<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // igain -&ampgt ain</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ainA<span class="p">[</span>i<span class="p">]</span><span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> imtrA<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain -&ampgt imtr </span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ainA<span class="p">[</span>i<span class="p">]</span><span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> aoutA<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>         <span class="c"> // ain -&ampgt aout </span>
  <span class="p">}</span>
  
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Stereo_Fx : Stereo audio effects example program.</div><pre><a name="cmDspPgm_Stereo_Fx"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Stereo_Fx_defn"></a><a name="_cmDspSysPgm_Stereo_Fx"></a><span class="f">_cmDspSysPgm_Stereo_Fx</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <span class="k">bool</span> useBuiltInFl <span class="p">=</span> true<span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ignp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotIn Gain&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">4.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ognp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotOut Gain&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">4.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fb0p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>( h,&ampquotScalar&ampquot, &ampquotFeeback 0&ampquot,  5, <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a>, 0.0,  1.0, 0.001,  0.0);
  //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fb1p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>( h,&ampquotScalar&ampquot, &ampquotFeedback 1&ampquot, 5, <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a>, 0.0,  1.0, 0.001,  0.0);</span>  
  
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* tm0p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>( h,&ampquotScalar&ampquot, &ampquotTime 0&ampquot,  5, <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a>, 0.0,  1000.0, 0.0001,  10.0);
  //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* tm1p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>( h,&ampquotScalar&ampquot, &ampquotTime 1&ampquot,  5, <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a>, 0.0,  1000.0, 0.0001,  10.0);</span>  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rt0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotRatio 0&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rt1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotRatio 1&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">0</span> <span class="p">:</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">1</span> <span class="p">:</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut Left&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut Right&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* dy0p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotDelay&ampquot, NULL, 2, 1000.0, 0.5 );
  //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* dy1p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotDelay&ampquot, NULL, 2, 2000.0, 0.7 );</span>  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ps0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPShift&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ps1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPShift&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// MOTU Traveler: Use channels 2&ampamp3 (out plugs:3&ampamp4) because 0&ampamp1 do not show up on plugs 1&ampamp2.</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">0</span> <span class="p">:</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">1</span> <span class="p">:</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> om0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // input meter connection</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> om1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, ai0p,&ampquotout&ampquot, dy0p, &ampquotin&ampquot );  // input -&ampgt delay
  //<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, ai1p,&ampquotout&ampquot, dy1p, &ampquotin&ampquot );</span>  
  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ps0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // delay -&ampgt pshift</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ai1p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ps1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ps0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span> <span class="c"> // pshift -&ampgt output</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ps1p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, dy0p,&ampquotout&ampquot, ao0p, &ampquotin&ampquot ); // delay -&ampgt output
  //<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, dy1p,&ampquotout&ampquot, ao1p, &ampquotin&ampquot );</span>  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ignp<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ai0p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // input gain</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ignp<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> ai1p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ognp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // output gain</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> ognp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(   h, fb0p, &ampquotval&ampquot, dy0p, &ampquotfb&ampquot, NULL);  // feedback
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(   h, fb1p, &ampquotval&ampquot, dy1p, &ampquotfb&ampquot, NULL);  </span>  
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(   h, tm0p, &ampquotval&ampquot, dy0p, &ampquottime&ampquot, NULL);  // delay time
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(   h, tm1p, &ampquotval&ampquot, dy1p, &ampquottime&ampquot, NULL);  </span>  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> rt0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ps0p<span class="p">,</span> <span class="l">&quotratio&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> // pitch ratio</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> rt1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ps1p<span class="p">,</span> <span class="l">&quotratio&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_PlaySine : Play a sine signal.</div><pre><a name="cmDspPgm_PlaySine"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_PlaySine_defn"></a><a name="_cmDspSysPgm_PlaySine"></a><span class="f">_cmDspSysPgm_PlaySine</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <span class="k">bool</span> useBuiltInFl <span class="p">=</span> true<span class="p">;</span>
  <span class="k">double</span> frqHz <span class="p">=</span> <span class="l">440.0</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotChannel&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">100.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> php <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>    NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">,</span> frqHz <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wtp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">4</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>  NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">0</span> <span class="p">:</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>  NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">1</span> <span class="p">:</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gain<span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotGain&quot</span><span class="p">,</span>     <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span>  <span class="l">0.01</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> php<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // wave table -&ampgt audio out</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> om0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> chp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotch&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> gain<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> gain<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>

<a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_PlayFile_defn"></a><a name="_cmDspSysPgm_PlayFile"></a><span class="f">_cmDspSysPgm_PlayFile</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <span class="k">bool</span>            useBuiltInFl <span class="p">=</span> true<span class="p">;</span>
  <span class="c">//const char*     fn0          = &ampquotmedia/audio/20110723-Kriesberg/Audio Files/Piano 3_01.wav&ampquot;</span>
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span>     fn0 <span class="p">=</span> <span class="l">&quotmedia/audio/sourcetone/Ella &amp Louis - Under A Blanket Of Blue&quot</span><span class="p">;</span>
  <span class="c">//int             beg          = 6900826;
  //int             end          = 13512262;</span>  
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn           <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>fn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ofp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotOffset&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">*</span><span class="l">600.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fnp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotFname&quot</span><span class="p">,</span>    NULL<span class="p">,</span>  <span class="l">3</span><span class="p">,</span> false<span class="p">,</span><span class="l">&quotAudio Files (*.wav,*.aiff,*.aif)\tAudio Files (*.{wav,aiff,aif})&quot</span><span class="p">,</span>fn<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> php <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>   NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wtp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* afp =  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotAudioFileOut&ampquot,NULL,2,&ampquot/home/kevin/temp/record0.aif&ampquot,1);</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">0</span> <span class="p">:</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">1</span> <span class="p">:</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> php<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // wave table -&ampgt audio out</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, wtp, &ampquotout&ampquot, afp,  &ampquotin0&ampquot); </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ofp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fnp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotfn&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_MultiOut : Play to multiple output channels example program.</div><pre><a name="cmDspPgm_MultiOut"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_MultiOut_defn"></a><a name="_cmDspSysPgm_MultiOut"></a><span class="f">_cmDspSysPgm_MultiOut</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>    rc           <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">double</span>       frqHz        <span class="p">=</span> <span class="l">440.0</span><span class="p">;</span>
  <span class="k">unsigned</span>     chCnt        <span class="p">=</span> <span class="l">8</span><span class="p">;</span>
  <span class="k">unsigned</span>     oneOfN_chCnt <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  <span class="k">double</span>       offs         <span class="p">=</span> <span class="l">34612504</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> aout<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
  <span class="k">unsigned</span>     i<span class="p">;</span>
  
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span>     fn0   <span class="p">=</span> <span class="l">&quotmedia/audio/20110723-Kriesberg/Audio Files/Piano 3_23.wav&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn    <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>fn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> f_phs <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>   NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> f_wt  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> f_mtr <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span>    <span class="l">&quotFile Out&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> f_rew <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotRewind&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> f_pts <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPortToSym&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quoton&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> f_beg <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotFile Begin&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">*</span><span class="l">6000.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  offs<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> f_nam <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotFname&quot</span><span class="p">,</span>    NULL<span class="p">,</span>  <span class="l">3</span><span class="p">,</span> false<span class="p">,</span><span class="l">&quotAudio Files (*.wav,*.aiff,*.aif)\tAudio Files (*.{wav,aiff,aif})&quot</span><span class="p">,</span>fn<span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> s_phs <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>    NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">,</span> frqHz <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> s_wt  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">4</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> s_mtr <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span>    <span class="l">&quotTone Out&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> swtch <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quot1ofN&quot</span><span class="p">,</span>      NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> oneOfN_chCnt<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    aout<span class="p">[</span>i<span class="p">]</span> <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> i <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  chck <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotCheckbox&quot</span><span class="p">,</span> <span class="l">&quotSource&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <span class="l">&quotTone&quot</span><span class="p">,</span><span class="l">&quotfile&quot</span><span class="p">,</span><span class="l">&quottone&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span><span class="p">*</span> vol  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInstArray">cmDspSysAllocInstArray</a><span class="p">(</span>h<span class="p">,</span>chCnt<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotGain&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> s_phs<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  s_wt<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>          <span class="c"> // sine phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> s_wt<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  s_mtr<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>           <span class="c"> // sine wave table -&ampgt meter</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> s_wt<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  swtch<span class="p">,</span> <span class="l">&quota-in-1&quot</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> f_phs<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> f_wt<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>          <span class="c"> // file phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> f_wt<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  f_mtr<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>           <span class="c"> // file wave table -&ampgt meter</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> f_wt<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  swtch<span class="p">,</span> <span class="l">&quota-in-0&quot</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio11N1">cmDspSysConnectAudio11N1</a><span class="p">(</span> h<span class="p">,</span> swtch<span class="p">,</span> <span class="l">&quota-out&quot</span><span class="p">,</span> aout<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>    h<span class="p">,</span> vol<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span>   aout<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> chck<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> swtch<span class="p">,</span> <span class="l">&quotchidx&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> f_nam<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> f_wt<span class="p">,</span>  <span class="l">&quotfn&quot</span><span class="p">,</span>    NULL <span class="p">)</span><span class="p">;</span>    
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> f_beg<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> f_wt<span class="p">,</span>  <span class="l">&quotbeg&quot</span><span class="p">,</span>   NULL <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> f_rew<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> f_pts<span class="p">,</span> <span class="l">&quoton&quot</span><span class="p">,</span>    NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> f_pts<span class="p">,</span> <span class="l">&quoton&quot</span><span class="p">,</span>  f_beg<span class="p">,</span> <span class="l">&quotsend&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> f_pts<span class="p">,</span> <span class="l">&quoton&quot</span><span class="p">,</span>  f_nam<span class="p">,</span> <span class="l">&quotsend&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> f_pts<span class="p">,</span> <span class="l">&quoton&quot</span><span class="p">,</span>  f_wt<span class="p">,</span>  <span class="l">&quotcmd&quot</span><span class="p">,</span>   NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_MultiIn : Multiple audio inputs example program.</div><pre><a name="cmDspPgm_MultiIn"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_MultiIn_defn"></a><a name="_cmDspSysPgm_MultiIn"></a><span class="f">_cmDspSysPgm_MultiIn</span><span class="p">(</span><a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr<span class="p">)</span>
<span class="p">{</span>
  <span class="k">int</span>          chCnt <span class="p">=</span> <span class="l">8</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> a<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
  <span class="k">int</span> i<span class="p">;</span>
  <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    a<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">1</span><span class="p">,</span> i <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mxp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span>         NULL<span class="p">,</span> chCnt<span class="p">+</span><span class="l">1</span><span class="p">,</span> chCnt<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>   
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> afp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioFileOut&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span><span class="l">&quot/home/kevin/temp/at/test_in.aif&quot</span><span class="p">,</span><span class="l">1</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> aop   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span>     NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// AudioFileOut needs an open message to create the output file</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> btn   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotButton&quot</span><span class="p">,</span>      <span class="l">&quotopen&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysAssignInstAttrSymbolStr">cmDspSysAssignInstAttrSymbolStr</a><span class="p">(</span>h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quot_reset&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pts <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPortToSym&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotopen&quot</span> <span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN11N">cmDspSysConnectAudioN11N</a><span class="p">(</span>h<span class="p">,</span> a<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span> mxp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>    h<span class="p">,</span> mxp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> afp<span class="p">,</span>  <span class="l">&quotin0&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>    h<span class="p">,</span> mxp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> aop<span class="p">,</span>  <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span>  pts<span class="p">,</span> <span class="l">&quotopen&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> pts<span class="p">,</span> <span class="l">&quotopen&quot</span><span class="p">,</span> afp<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_GateDetect : Gate detector example program.</div><pre><a name="cmDspPgm_GateDetect"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_GateDetect_defn"></a><a name="_cmDspSysPgm_GateDetect"></a><span class="f">_cmDspSysPgm_GateDetect</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <span class="k">bool</span>            useBuiltInFl <span class="p">=</span> true<span class="p">;</span>
  <span class="c">//const char*     fn0          = &ampquotmedia/audio/20110723-Kriesberg/Audio Files/Piano 3_01.wav&ampquot;
  //int             beg          = 6900826;
  //int             end          = 13512262;
  //const char*     fn0          = &ampquotmedia/audio/McGill-3/1 Audio Track.aiff&ampquot;</span>  
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span>     fn0          <span class="p">=</span> <span class="l">&quottemp/gate_detect0.aif&quot</span><span class="p">;</span>
  <span class="k">int</span>             beg          <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">int</span>             end          <span class="p">=</span> <span class="l">-1</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn           <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>fn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> tfn          <span class="p">=</span> <span class="l">&quot/home/kevin/temp/test0.txt&quot</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ofp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotOffset&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">*</span><span class="l">600.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fnp =  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotFname&ampquot,     NULL,  3, false,&ampquotAudio Files (*.wav,*.aiff,*.aif)\tAudio Files (*.{wav,aiff,aif})&ampquot,fn);</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> php <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>    NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wtp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> fn<span class="p">,</span> <span class="l">-1</span><span class="p">,</span> beg<span class="p">,</span> end <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gdp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotGateDetect&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">1</span><span class="p">,</span> <span class="l">20.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gmp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMeter&quot</span><span class="p">,</span>     NULL<span class="p">,</span>  <span class="l">3</span><span class="p">,</span>    <span class="l">0.0</span><span class="p">,</span>    <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rmp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMeter&quot</span><span class="p">,</span>     NULL<span class="p">,</span>  <span class="l">3</span><span class="p">,</span> <span class="l">-100.0</span><span class="p">,</span> <span class="l">-100.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> txp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotTextFile&quot</span><span class="p">,</span>  NULL<span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> tfn<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">0</span> <span class="p">:</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">1</span> <span class="p">:</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> php<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // wave table -&ampgt audio out</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> gdp<span class="p">,</span>  <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ofp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> gdp<span class="p">,</span> <span class="l">&quotgate&quot</span><span class="p">,</span> gmp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> gdp<span class="p">,</span> <span class="l">&quotrms&quot</span><span class="p">,</span>  rmp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> gdp<span class="p">,</span> <span class="l">&quotgate&quot</span><span class="p">,</span> txp<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> gdp<span class="p">,</span> <span class="l">&quotrms&quot</span><span class="p">,</span>  txp<span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> gdp<span class="p">,</span> <span class="l">&quotmean&quot</span><span class="p">,</span> txp<span class="p">,</span> <span class="l">&quotin-2&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Record : Record audio to an audio file.</div><pre><a name="cmDspPgm_Record"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Record_defn"></a><a name="_cmDspSysPgm_Record"></a><span class="f">_cmDspSysPgm_Record</span><span class="p">(</span><a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr<span class="p">)</span>
<span class="p">{</span>
  <span class="k">int</span>          chCnt <span class="p">=</span> <span class="l">8</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> a<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
  <span class="k">int</span> i<span class="p">;</span>
  <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    a<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">1</span><span class="p">,</span> i <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mxp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span>         NULL<span class="p">,</span>       chCnt<span class="p">+</span><span class="l">1</span><span class="p">,</span> chCnt<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>   
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> afp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioFileOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>       <span class="l">2</span><span class="p">,</span><span class="l">&quot/home/kevin/temp/gate_detect.aif&quot</span><span class="p">,</span><span class="l">1</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> aop   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span>     NULL<span class="p">,</span>       <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> txp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotTextFile&quot</span><span class="p">,</span>     NULL<span class="p">,</span>       <span class="l">2</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot/home/kevin/temp/gate_detect.txt&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotScalar&quot</span><span class="p">,</span>       <span class="l">&quotChannel&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">7.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// AudioFileOut needs an open message to create the output file</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> btn   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotButton&quot</span><span class="p">,</span>      <span class="l">&quotopen&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysAssignInstAttrSymbolStr">cmDspSysAssignInstAttrSymbolStr</a><span class="p">(</span>h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quot_reset&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pts <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPortToSym&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotopen&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
  <span class="p">{</span>
    <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a> lbl<span class="p">[</span><span class="l">15</span><span class="p">]</span><span class="p">;</span>
    snprintf<span class="p">(</span>lbl<span class="p">,</span><span class="l">15</span><span class="p">,</span><span class="l">&quotin-%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span>a<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> mxp<span class="p">,</span> lbl<span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> mxp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> afp<span class="p">,</span>  <span class="l">&quotin0&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> mxp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> aop<span class="p">,</span>  <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> chp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> txp<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span>  pts<span class="p">,</span> <span class="l">&quotopen&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> pts<span class="p">,</span> <span class="l">&quotopen&quot</span><span class="p">,</span> afp<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_FtRecord : Record streaming audio input to an audio file.</div><pre><a name="cmDspPgm_FtRecord"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_RtRecord_defn"></a><a name="_cmDspSysPgm_RtRecord"></a><span class="f">_cmDspSysPgm_RtRecord</span><span class="p">(</span><a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr<span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai0   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ai1   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioIn&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> afp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioFileOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">2</span><span class="p">,</span><span class="l">&quot/Users/kevin/temp/test.aif&quot</span><span class="p">,</span><span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">1</span><span class="p">,</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>  
  
  <span class="c">// AudioFileOut needs an open message to create the output file</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> btn   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotButton&quot</span><span class="p">,</span>      <span class="l">&quotopen&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysAssignInstAttrSymbolStr">cmDspSysAssignInstAttrSymbolStr</a><span class="p">(</span>h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quot_reset&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pts <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPortToSym&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotopen&quot</span> <span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span>ai0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> afp<span class="p">,</span> <span class="l">&quotin0&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span>ai1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> afp<span class="p">,</span> <span class="l">&quotin1&quot</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span>ai0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span>ai1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span>  pts<span class="p">,</span> <span class="l">&quotopen&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> pts<span class="p">,</span> <span class="l">&quotopen&quot</span><span class="p">,</span> afp<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_PitchShift : Pitch-shifter example program.</div><pre><a name="cmDspPgm_PitchShift"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_PitchShiftFile_defn"></a><a name="_cmDspSysPgm_PitchShiftFile"></a><span class="f">_cmDspSysPgm_PitchShiftFile</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <span class="k">bool</span>            useBuiltInFl <span class="p">=</span> true<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn0          <span class="p">=</span> <span class="l">&quotmedia/audio/20110723-Kriesberg/Audio Files/Piano 3_01.wav&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn1          <span class="p">=</span> <span class="l">&quottemp/record0.aif&quot</span><span class="p">;</span>
  <span class="k">int</span>             beg          <span class="p">=</span> <span class="l">6900826</span><span class="p">;</span>
  <span class="k">int</span>             end          <span class="p">=</span> <span class="l">13512262</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn           <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>fn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> ofn          <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>fn1<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rt0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotRatio 0&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rt1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotRatio 1&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ofp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotOffset&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">*</span><span class="l">600.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fnp =  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotFname&ampquot,    NULL,  3, false,&ampquotAudio Files (*.wav,*.aiff,*.aif)\tAudio Files (*.{wav,aiff,aif})&ampquot,fn);</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> php <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>   NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wtp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> fn<span class="p">,</span> <span class="l">-1</span><span class="p">,</span> beg<span class="p">,</span> end <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> afp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioFileOut&quot</span><span class="p">,</span>NULL<span class="p">,</span><span class="l">2</span><span class="p">,</span>ofn<span class="p">,</span><span class="l">1</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ps0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPShift&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ps1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPShift&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">0</span> <span class="p">:</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">1</span> <span class="p">:</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> php<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> ps0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // wave table -&ampgt shift</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> ps1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ps0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // shift -&ampgt audio out</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ps1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ps0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> afp<span class="p">,</span>  <span class="l">&quotin0&quot</span><span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ofp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fnp, &ampquotout&ampquot, wtp, &ampquotfn&ampquot, NULL);    </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> rt0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ps0p<span class="p">,</span> <span class="l">&quotratio&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> rt1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ps1p<span class="p">,</span> <span class="l">&quotratio&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_LoopRecd : Loop-recorder example program.</div><pre><a name="cmDspPgm_LoopRecd"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_LoopRecd_defn"></a><a name="_cmDspSysPgm_LoopRecd"></a><span class="f">_cmDspSysPgm_LoopRecd</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <span class="k">bool</span>            useBuiltInFl <span class="p">=</span> true<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn0          <span class="p">=</span> <span class="l">&quotmedia/audio/20110723-Kriesberg/Audio Files/Piano 3_01.wav&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn           <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>fn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  <span class="k">int</span>             beg          <span class="p">=</span>  <span class="l">6900826</span><span class="p">;</span>
  <span class="k">int</span>             end          <span class="p">=</span> <span class="l">13512262</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rfl <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotRecd&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pfl <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotPlay&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rtp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotRatio&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ofp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotOffset&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">*</span><span class="l">600.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fnp =  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotFname&ampquot,    NULL,  3, false,&ampquotAudio Files (*.wav,*.aiff,*.aif)\tAudio Files (*.{wav,aiff,aif})&ampquot,fn);</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> php <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>   NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wtp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> fn<span class="p">,</span> <span class="l">-1</span><span class="p">,</span> beg<span class="p">,</span> end <span class="p">)</span><span class="p">;</span>
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* afp =  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotAudioFileOut&ampquot,NULL,2,&ampquot/home/kevin/temp/record0.aif&ampquot,1);</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> lrp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotLoopRecd&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">0</span> <span class="p">:</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">1</span> <span class="p">:</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> php<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> lrp<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // wave table -&ampgt shift</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> lrp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // shift -&ampgt audio out</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>    
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ofp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> wtp<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fnp, &ampquotout&ampquot, wtp, &ampquotfn&ampquot, NULL);    </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> rfl<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lrp<span class="p">,</span> <span class="l">&quotrecd&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> pfl<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lrp<span class="p">,</span> <span class="l">&quotplay&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> rtp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> lrp<span class="p">,</span> <span class="l">&quotratio&quot</span><span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>



<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_UiTest : User Interface example program.</div><pre><a name="cmDspPgm_UiTest"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_UiTest_defn"></a><a name="_cmDspSysPgm_UiTest"></a><span class="f">_cmDspSysPgm_UiTest</span><span class="p">(</span><a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc        <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mdp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMode&quot</span><span class="p">,</span>      <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">4.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wsp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hfp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quothopFact&quot</span><span class="p">,</span>   <span class="l">3</span><span class="p">,</span> <span class="l">&quothopFact&quot</span><span class="p">,</span>   NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> thp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotthreshold&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">0.5</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> trp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quottarget&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">0.5</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> btn <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotbtn&quot</span><span class="p">,</span>       <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">12.3</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chk <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotcheck&quot</span><span class="p">,</span>     <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chb <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotCheckbox&quot</span><span class="p">,</span><span class="l">&quotcheckbox&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <span class="l">&quotChecker&quot</span><span class="p">,</span><span class="l">&quotup&quot</span><span class="p">,</span><span class="l">&quotdown&quot</span><span class="p">,</span> <span class="l">2.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> txt <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotText&quot</span><span class="p">,</span>   <span class="l">&quottext&quot</span><span class="p">,</span>      <span class="l">1</span><span class="p">,</span> <span class="l">&quotHello&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> prp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">&quot&gt&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMeter&quot</span><span class="p">,</span> <span class="l">&quotmeter&quot</span><span class="p">,</span>  <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">,</span> <span class="l">4.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ctp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotCounter&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> lbl <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotLabel&quot</span><span class="p">,</span>  <span class="l">&quotlabel1&quot</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotlabel2&quot</span><span class="p">)</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    <span class="k">return</span> rc<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mdp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> thp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mdp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> wsp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> hfp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> trp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> chk<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ctp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mdp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> btn<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> thp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> mtp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> thp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> trp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ctp<span class="p">,</span> <span class="l">&quotnext&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> txt<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> chb<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> chb<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mdp<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> lbl<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Xfade : Cross fader example program.</div><pre><a name="cmDspPgm_Xfade"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Xfade_defn"></a><a name="_cmDspSysPgm_Xfade"></a><span class="f">_cmDspSysPgm_Xfade</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc         <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">unsigned</span>  leftChIdx  <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  <span class="k">unsigned</span>  rightChIdx <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  <span class="k">unsigned</span>  chCnt      <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  <span class="k">double</span>    xfadeMs    <span class="p">=</span> <span class="l">1000</span><span class="p">;</span>  <span class="c"> // cross fade time</span>
  <span class="k">double</span>    sgHz       <span class="p">=</span> <span class="l">500</span><span class="p">;</span>
  <span class="k">unsigned</span>  sgShapeId  <span class="p">=</span> <span class="l">1</span><span class="p">;</span>
  <span class="k">double</span>    sgGain     <span class="p">=</span> <span class="l">0.5</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sg  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> sgHz<span class="p">,</span> sgShapeId<span class="p">,</span> sgGain <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> xfp  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotXfader&quot</span><span class="p">,</span> NULL<span class="p">,</span>    <span class="l">2</span><span class="p">,</span> chCnt<span class="p">,</span> xfadeMs <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> leftChIdx <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> rightChIdx <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> im0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotIn 0&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> im1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotIn 1&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut 0&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> om1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotOut 1&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mstr <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotMstr&quot</span><span class="p">,</span>   <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> btn0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotFade 0&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> btn1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotFade 1&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gm0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMeter&quot</span><span class="p">,</span><span class="l">&quotGain 0&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gm1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMeter&quot</span><span class="p">,</span><span class="l">&quotGain 1&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pon <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">&quoton:&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pof <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">&quotoff:&quot</span> <span class="p">)</span><span class="p">;</span>  
  
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    <span class="k">return</span> rc<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> sg<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> im0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // ain -&ampgt meter</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> sg<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> im1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> sg<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">)</span><span class="p">;</span> <span class="c"> // ain -&ampgt xfader</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> sg<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotout-0&quot</span><span class="p">,</span> om0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // xfade -&ampgt meter</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotout-1&quot</span><span class="p">,</span> om1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotout-0&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // xfade -&ampgt aout</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotout-1&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> btn0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotgate-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> <span class="c"> // check -&ampgt xfade gate</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> btn1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotgate-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mstr<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotmgate&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotgain-0&quot</span><span class="p">,</span> gm0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotgain-1&quot</span><span class="p">,</span> gm1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quoton&quot</span><span class="p">,</span> pon<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> xfp<span class="p">,</span> <span class="l">&quotoff&quot</span><span class="p">,</span> pof<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Pgm6 : Stereo strectral non-linear distortion example.</div><pre><a name="cmDspPgm_Pgm6"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm6_defn"></a><a name="_cmDspSysPgm6"></a><span class="f">_cmDspSysPgm6</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span> audioDir <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc        <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">int</span>       wndSmpCnt <span class="p">=</span> <span class="l">2048</span><span class="p">;</span>
  <span class="k">int</span>       hopFact   <span class="p">=</span> <span class="l">4</span><span class="p">;</span>
  
  <span class="c">//const char* afDir = &ampquot/Volumes/LaTetra0/media/audio/20110723-Kriesberg/Audio Files&ampquot;
  //const char* afDir = &ampquot/Users/administrator/Documents/kc&ampquot;</span>  
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span> afDir <span class="p">=</span> <span class="l">&quot/home/kevin/media/audio/20110723-Kriesberg/Audio Files&quot</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ph0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>  NULL<span class="p">,</span>   <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wt0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">0</span>  <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ro0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotReorder&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">5</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> kr0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotKr&quot</span><span class="p">,</span>      NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> wndSmpCnt<span class="p">,</span> hopFact <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> kr1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotKr&quot</span><span class="p">,</span>      NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> wndSmpCnt<span class="p">,</span> hopFact <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> prp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="k">bool</span> useBuiltInFl <span class="p">=</span> true<span class="p">;</span>
  
  <span class="c">// MOTU Traveler: Use channels 2&ampamp3 (out plugs:3&ampamp4) because 0&ampamp1 do not show up on plugs 1&ampamp2.</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">0</span> <span class="p">:</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">1</span> <span class="p">:</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// BUG: If audio inputs are not connected a 'not an audio buffer' msg is generated.
  // This is a problem with type determination in the cmDspClass related code : see cmDspClass.c 833 
  // for a place that this error would be thrown in the following audio outputs were not connected
  // to audio sources.</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao2p <span class="p">=</span> NULL<span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao3p <span class="p">=</span> NULL<span class="p">;</span>
  
  <span class="k">if</span><span class="p">(</span> <span class="p">!</span>useBuiltInFl <span class="p">)</span>
  <span class="p">{</span>
    ao2p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">4</span> <span class="p">)</span><span class="p">;</span>
    ao3p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">5</span> <span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> al0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotaudFiles&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quotaudFiles&quot</span><span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fl0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotaudFragsA&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quotaudFrags&quot</span><span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fn0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotSprintf&quot</span><span class="p">,</span><span class="l">&quotfilename&quot</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot%s/%s_%02i.wav&quot</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> md0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMode&quot</span><span class="p">,</span>      <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">4.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ws0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hf0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quothopFact&quot</span><span class="p">,</span>   <span class="l">3</span><span class="p">,</span> <span class="l">&quothopFact&quot</span><span class="p">,</span>   NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> th0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotthreshold&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">60.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> us0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotupr slope&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ls0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotlwr slope&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.3</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">2.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> of0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotoffset&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">30.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> iv0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotinvert&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>   <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>   <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>  
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* al1p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotMsgList&ampquot,&ampquotaudFiles&ampquot, 2, &ampquotaudFiles&ampquot,NULL);
  //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fl1p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotMsgList&ampquot,&ampquotaudFrags1&ampquot, 2, &ampquotaudFrags&ampquot,NULL);
  //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fn1p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotSprintf&ampquot,&ampquotfilename&ampquot, 1, &ampquot%s/%s_%02i.wav&ampquot);</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> md1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMode&quot</span><span class="p">,</span>      <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">4.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ws1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hf1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quothopFact&quot</span><span class="p">,</span>   <span class="l">3</span><span class="p">,</span> <span class="l">&quothopFact&quot</span><span class="p">,</span>   NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> th1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotthreshold&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">60.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> us1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotupr slope&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ls1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotlwr slope&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.3</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">2.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> of1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotoffset&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">30.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> iv1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotinvert&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>   <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>   <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>  
  
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dnp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotFname&quot</span><span class="p">,</span>  <span class="l">&quotaudDir&quot</span><span class="p">,</span>   <span class="l">3</span><span class="p">,</span> true<span class="p">,</span>NULL<span class="p">,</span>afDir<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMeter&quot</span><span class="p">,</span><span class="l">&quotMyMeter&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">50.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> atp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotAudio Meter&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  
  <span class="k">if</span><span class="p">(</span> <span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    <span class="k">return</span> rc<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ph0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotphs&quot</span><span class="p">)</span><span class="p">;</span> <span class="c"> // phasor-&ampgtwt:phs</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // wt-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // kr-&ampgtaout- 0</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // wt-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // kr-&ampgtaout - 1</span>
  
  <span class="k">if</span><span class="p">(</span> ao2p <span class="p">!</span><span class="p">=</span> NULL <span class="p">)</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao2p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // wt-&ampgtaout - 2</span>
  
  <span class="k">if</span><span class="p">(</span> ao3p <span class="p">!</span><span class="p">=</span> NULL <span class="p">)</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao3p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // wt-&ampgtaout - 3</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> atp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>      <span class="c"> // wt-&ampgtmeter</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ws0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotwndn&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // wndSmpCnt-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> hf0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quothopf&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // hopFact-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> md0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotmode&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // mode-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> th0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotthrh&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // thresh-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ls0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotlwrs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // lwrSlope-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> us0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotuprs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // uprSlope-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> of0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotoffs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // offset-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> iv0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotinvt&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // invert-&ampgtkr</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> th0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> mtp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ws1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotwndn&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // wndSmpCnt-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> hf1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quothopf&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // hopFact-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> md1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotmode&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // mode-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> th1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotthrh&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // thresh-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ls1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotlwrs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // lwrSlope-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> us1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotuprs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // uprSlope-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> of1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotoffs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // offset-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> iv1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotinvt&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // invert-&ampgtkr</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> dnp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  fn0p<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    <span class="c"> // dir-&ampgtfn:0</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> al0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  fn0p<span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // fn-&ampgtfn:1</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fl0p<span class="p">,</span> <span class="l">&quottake&quot</span><span class="p">,</span> fn0p<span class="p">,</span> <span class="l">&quotin-2&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // take-&ampgtfn:2</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fn0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ro0p<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    <span class="c"> // fn-&ampgtprint</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fl0p<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span>  ro0p<span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> </span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fl0p<span class="p">,</span> <span class="l">&quotend&quot</span><span class="p">,</span>  ro0p<span class="p">,</span> <span class="l">&quotin-2&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ro0p<span class="p">,</span> <span class="l">&quotout-0&quot</span><span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotfn&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // fn-&ampgtwt:fn</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ro0p<span class="p">,</span> <span class="l">&quotout-1&quot</span><span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>  <span class="c"> // beg-&ampgtwt:beg</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ro0p<span class="p">,</span> <span class="l">&quotout-2&quot</span><span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotend&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>  <span class="c"> // end-&ampgtwt:end</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ro0p<span class="p">,</span> <span class="l">&quotout-1&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> <span class="c"> </span>
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, dnp,  &ampquotout&ampquot,  fn1p, &ampquotin-0&ampquot, NULL);    // dir-&ampgtfn:0
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, al1p, &ampquotout&ampquot,  fn1p, &ampquotin-1&ampquot, NULL );   // fn-&ampgtfn:1
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fl1p, &ampquottake&ampquot, fn1p, &ampquotin-2&ampquot, NULL );   // take-&ampgtfn:2
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fn1p, &ampquotout&ampquot,  ro1p, &ampquotin-0&ampquot, NULL);    // fn-&ampgtprint</span>  
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fl1p, &ampquotbeg&ampquot,  ro1p, &ampquotin-1&ampquot, NULL);  //   
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fl1p, &ampquotend&ampquot,  ro1p, &ampquotin-2&ampquot, NULL);  //</span>  
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, ro1p, &ampquotout-0&ampquot, wt1p, &ampquotfn&ampquot, NULL );   // fn-&ampgtwt:fn
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, ro1p, &ampquotout-1&ampquot, wt1p, &ampquotbeg&ampquot, NULL );  // beg-&ampgtwt:beg
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, ro1p, &ampquotout-2&ampquot, wt1p, &ampquotend&ampquot, NULL );  // end-&ampgtwt:end</span>  
  
  
  <span class="k">return</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Guitar : Similiar to Pgm6.</div><pre><a name="cmDspPgm_Guitar"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgmGuitar_defn"></a><a name="_cmDspSysPgmGuitar"></a><span class="f">_cmDspSysPgmGuitar</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc        <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">int</span>       wndSmpCnt <span class="p">=</span> <span class="l">2048</span><span class="p">;</span>
  <span class="k">int</span>       hopFact   <span class="p">=</span> <span class="l">4</span><span class="p">;</span>
  
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span> afDir <span class="p">=</span> <span class="l">&quot/Volumes/LaTetra0/media/audio/20110723-Kriesberg/Audio Files&quot</span><span class="p">;</span>
  <span class="c">//const char* afDir = &ampquot/Users/administrator/Documents/kc&ampquot;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ph0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>  NULL<span class="p">,</span>   <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wt0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">0</span>  <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ro0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotReorder&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">5</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> kr0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotKr&quot</span><span class="p">,</span>      NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> wndSmpCnt<span class="p">,</span> hopFact <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> kr1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotKr&quot</span><span class="p">,</span>      NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> wndSmpCnt<span class="p">,</span> hopFact <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> prp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="k">bool</span> useBuiltInFl <span class="p">=</span> true<span class="p">;</span>
  
  <span class="c">// MOTU Traveler: Use channels 2&ampamp3 (out plugs:3&ampamp4) because 0&ampamp1 do not show up on plugs 1&ampamp2.</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">0</span> <span class="p">:</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> useBuiltInFl <span class="p">?</span> <span class="l">1</span> <span class="p">:</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// BUG: If audio inputs are not connected a 'not an audio buffer' msg is generated.
  // This is a problem with type determination in the cmDspClass related code : see cmDspClass.c 833 
  // for a place that this error would be thrown in the following audio outputs were not connected
  // to audio sources.</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao2p <span class="p">=</span> NULL<span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao3p <span class="p">=</span> NULL<span class="p">;</span>
  
  <span class="k">if</span><span class="p">(</span> <span class="p">!</span>useBuiltInFl <span class="p">)</span>
  <span class="p">{</span>
    ao2p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">4</span> <span class="p">)</span><span class="p">;</span>
    ao3p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">5</span> <span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> al0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotaudFiles&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quotaudFiles&quot</span><span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fl0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotaudFragsA&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quotaudFrags&quot</span><span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fn0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotSprintf&quot</span><span class="p">,</span><span class="l">&quotfilename&quot</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot%s/%s_%02i.wav&quot</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> md0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMode&quot</span><span class="p">,</span>      <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">4.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ws0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hf0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quothopFact&quot</span><span class="p">,</span>   <span class="l">3</span><span class="p">,</span> <span class="l">&quothopFact&quot</span><span class="p">,</span>   NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> th0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotthreshold&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">60.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> us0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotupr slope&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ls0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotlwr slope&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.3</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">2.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> of0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotoffset&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">30.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> iv0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotinvert&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>   <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>   <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>  
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* al1p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotMsgList&ampquot,&ampquotaudFiles&ampquot, 2, &ampquotaudFiles&ampquot,NULL);
  //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fl1p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotMsgList&ampquot,&ampquotaudFrags1&ampquot, 2, &ampquotaudFrags&ampquot,NULL);
  //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fn1p = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotSprintf&ampquot,&ampquotfilename&ampquot, 1, &ampquot%s/%s_%02i.wav&ampquot);</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> md1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMode&quot</span><span class="p">,</span>      <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">4.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ws1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">&quotwndSmpCnt&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hf1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quothopFact&quot</span><span class="p">,</span>   <span class="l">3</span><span class="p">,</span> <span class="l">&quothopFact&quot</span><span class="p">,</span>   NULL<span class="p">,</span> <span class="l">2</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> th1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotthreshold&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">60.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> us1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotupr slope&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ls1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotlwr slope&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.3</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span>  <span class="l">2.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> of1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotoffset&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">30.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> iv1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotinvert&quot</span><span class="p">,</span>    <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>   <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>   <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>  
  
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dnp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotFname&quot</span><span class="p">,</span>  <span class="l">&quotaudDir&quot</span><span class="p">,</span>   <span class="l">3</span><span class="p">,</span> true<span class="p">,</span>NULL<span class="p">,</span>afDir<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMeter&quot</span><span class="p">,</span><span class="l">&quotMyMeter&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">50.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> atp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAMeter&quot</span><span class="p">,</span><span class="l">&quotAudio Meter&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  
  <span class="k">if</span><span class="p">(</span> <span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    <span class="k">return</span> rc<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ph0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotphs&quot</span><span class="p">)</span><span class="p">;</span> <span class="c"> // phasor-&ampgtwt:phs</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // wt-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // kr-&ampgtaout- 0</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // wt-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // kr-&ampgtaout - 1</span>
  
  <span class="k">if</span><span class="p">(</span> ao2p <span class="p">!</span><span class="p">=</span> NULL <span class="p">)</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao2p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // wt-&ampgtaout - 2</span>
  
  <span class="k">if</span><span class="p">(</span> ao3p <span class="p">!</span><span class="p">=</span> NULL <span class="p">)</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao3p<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // wt-&ampgtaout - 3</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt0p<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> atp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>      <span class="c"> // wt-&ampgtmeter</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ws0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotwndn&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // wndSmpCnt-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> hf0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quothopf&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // hopFact-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> md0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotmode&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // mode-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> th0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotthrh&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // thresh-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ls0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotlwrs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // lwrSlope-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> us0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotuprs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // uprSlope-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> of0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotoffs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // offset-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> iv0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr0p<span class="p">,</span> <span class="l">&quotinvt&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // invert-&ampgtkr</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> th0p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> mtp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ws1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotwndn&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // wndSmpCnt-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> hf1p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quothopf&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // hopFact-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> md1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotmode&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // mode-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> th1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotthrh&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // thresh-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ls1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotlwrs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // lwrSlope-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> us1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotuprs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // uprSlope-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> of1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotoffs&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // offset-&ampgtkr</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> iv1p<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> kr1p<span class="p">,</span> <span class="l">&quotinvt&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // invert-&ampgtkr</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> dnp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  fn0p<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    <span class="c"> // dir-&ampgtfn:0</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> al0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  fn0p<span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // fn-&ampgtfn:1</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fl0p<span class="p">,</span> <span class="l">&quottake&quot</span><span class="p">,</span> fn0p<span class="p">,</span> <span class="l">&quotin-2&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // take-&ampgtfn:2</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fn0p<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ro0p<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    <span class="c"> // fn-&ampgtprint</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fl0p<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span>  ro0p<span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> </span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fl0p<span class="p">,</span> <span class="l">&quotend&quot</span><span class="p">,</span>  ro0p<span class="p">,</span> <span class="l">&quotin-2&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>  <span class="c"> </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ro0p<span class="p">,</span> <span class="l">&quotout-0&quot</span><span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotfn&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>   <span class="c"> // fn-&ampgtwt:fn</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ro0p<span class="p">,</span> <span class="l">&quotout-1&quot</span><span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>  <span class="c"> // beg-&ampgtwt:beg</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ro0p<span class="p">,</span> <span class="l">&quotout-2&quot</span><span class="p">,</span> wt0p<span class="p">,</span> <span class="l">&quotend&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>  <span class="c"> // end-&ampgtwt:end</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ro0p<span class="p">,</span> <span class="l">&quotout-1&quot</span><span class="p">,</span> prp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> <span class="c"> </span>
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, dnp,  &ampquotout&ampquot,  fn1p, &ampquotin-0&ampquot, NULL);    // dir-&ampgtfn:0
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, al1p, &ampquotout&ampquot,  fn1p, &ampquotin-1&ampquot, NULL );   // fn-&ampgtfn:1
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fl1p, &ampquottake&ampquot, fn1p, &ampquotin-2&ampquot, NULL );   // take-&ampgtfn:2
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fn1p, &ampquotout&ampquot,  ro1p, &ampquotin-0&ampquot, NULL);    // fn-&ampgtprint</span>  
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fl1p, &ampquotbeg&ampquot,  ro1p, &ampquotin-1&ampquot, NULL);  //   
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, fl1p, &ampquotend&ampquot,  ro1p, &ampquotin-2&ampquot, NULL);  //</span>  
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, ro1p, &ampquotout-0&ampquot, wt1p, &ampquotfn&ampquot, NULL );   // fn-&ampgtwt:fn
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, ro1p, &ampquotout-1&ampquot, wt1p, &ampquotbeg&ampquot, NULL );  // beg-&ampgtwt:beg
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, ro1p, &ampquotout-2&ampquot, wt1p, &ampquotend&ampquot, NULL );  // end-&ampgtwt:end</span>  
  
  
  <span class="k">return</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
<span class="p">}</span>



<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Pickups0 : 'fluxo' with loop-record, echo, rectify, and pitch-shift.</div><pre><a name="cmDspPgm_Pickups0"></a>
<a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Pickups0_defn"></a><a name="_cmDspSysPgm_Pickups0"></a><span class="f">_cmDspSysPgm_Pickups0</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <span class="k">unsigned</span> i<span class="p">;</span>
  <span class="k">unsigned</span> chCnt <span class="p">=</span> <span class="l">8</span><span class="p">;</span>
  
  <span class="k">double</span> delayFb    <span class="p">=</span> <span class="l">0.0</span><span class="p">;</span>
  <span class="k">double</span> delayMaxMs <span class="p">=</span> <span class="l">1000.0</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chArray<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_mxWet  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMstr Wet&quot</span><span class="p">,</span>      <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">2.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_mxDry  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMstr Dry&quot</span><span class="p">,</span>      <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">2.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_lpByp  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotMstr Lp Byps&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_lpRcd  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotMstr Lp Recd&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_lpRat  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMstr Lp Ratio&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_dlyByp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotMstr Dly Byps&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_dlyMs  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMstr Dly Time&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  delayMaxMs<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_dlyFb  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMstr Dly Fb&quot</span><span class="p">,</span>   <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">0.999</span><span class="p">,</span>      <span class="l">0.01</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_psByp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotMstr PS Byps&quot</span><span class="p">,</span>   <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_psRat <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotMstr PS Ratio&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> m_rcByp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotMstr Rect Byps&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInsertHorzBorder">cmDspSysInsertHorzBorder</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
  
  <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
  <span class="p">{</span>
    <span class="k">int</span>    chIdx      <span class="p">=</span> i<span class="p">;</span>
    
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mxWet  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotWet&quot</span><span class="p">,</span>        <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">2.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span> 
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mxDry  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotDry&quot</span><span class="p">,</span>        <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">2.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> lpByp  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotLp Byps&quot</span><span class="p">,</span>    <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> lpRcd  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotLp Recd&quot</span><span class="p">,</span>    <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> lpRat  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotLp Ratio&quot</span><span class="p">,</span>   <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dlyByp <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotDelay Byps&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dlyMs  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotDelay Time&quot</span><span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  delayMaxMs<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dlyFb  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotDelay Fb&quot</span><span class="p">,</span>   <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">0.999</span><span class="p">,</span>      <span class="l">0.01</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> psByp  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotPS Byps&quot</span><span class="p">,</span>    <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> psRat  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotPS Ratio&quot</span><span class="p">,</span>   <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rcByp  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotRect Byps&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ain  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotAudioIn&quot</span><span class="p">,</span>   NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> chIdx <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> loop <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotLoopRecd&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dely <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotDelay&quot</span><span class="p">,</span>     NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> delayMaxMs<span class="p">,</span> delayFb <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pshf <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotPShift&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rect <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotRectify&quot</span><span class="p">,</span>   NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> amix <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span>      NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
    <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* aout = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h, &ampquotAudioOut&ampquot, NULL, 1, chIdx );</span>
    
    chArray<span class="p">[</span>i<span class="p">]</span> <span class="p">=</span> amix<span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ain<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> loop<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>          <span class="c"> // ain -&ampgt loop</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> loop<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> dely<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>          <span class="c"> // loop -&ampgt delay</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> dely<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> pshf<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>          <span class="c"> // delay -&ampgt pshf</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> pshf<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> rect<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>          <span class="c"> // pshf -&ampgt rect</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> rect<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> amix<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">)</span><span class="p">;</span>        <span class="c"> // rect -&ampgt mix_wet</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> ain<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> amix<span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">)</span><span class="p">;</span>        <span class="c"> // ain -&ampgt mix_dry</span>
    <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a>(h, amix, &ampquotout&ampquot, aout, &ampquotin&ampquot);          // mix   -&ampgt out </span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mxWet<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> amix<span class="p">,</span> <span class="l">&quotgain-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mxDry<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> amix<span class="p">,</span> <span class="l">&quotgain-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> lpByp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> loop<span class="p">,</span> <span class="l">&quotbypass&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> lpRcd<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> loop<span class="p">,</span> <span class="l">&quotrecd&quot</span><span class="p">,</span>   NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> lpRat<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> loop<span class="p">,</span> <span class="l">&quotratio&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> dlyByp<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> dely<span class="p">,</span> <span class="l">&quotbypass&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> dlyMs<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> dely<span class="p">,</span> <span class="l">&quottime&quot</span><span class="p">,</span>   NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> dlyFb<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> dely<span class="p">,</span> <span class="l">&quotfb&quot</span><span class="p">,</span>     NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> psByp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> pshf<span class="p">,</span> <span class="l">&quotbypass&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> psRat<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> pshf<span class="p">,</span> <span class="l">&quotratio&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> rcByp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> rect<span class="p">,</span> <span class="l">&quotbypass&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_mxWet<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> mxWet<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_mxDry<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> mxDry<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_lpByp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lpByp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_lpRcd<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> lpRcd<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_lpRat<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> lpRat<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span> 
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_dlyByp<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> dlyByp<span class="p">,</span><span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_dlyMs<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> dlyMs<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_dlyFb<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> dlyFb<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_psByp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> psByp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_psRat<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> psRat<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>   
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> m_rcByp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> rcByp<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
    
  <span class="p">}</span>
  
  <span class="k">double</span> dfltGain <span class="p">=</span> <span class="l">0.5</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> omix <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span>  <span class="l">&quotAMix&quot</span><span class="p">,</span>     NULL<span class="p">,</span> <span class="l">9</span><span class="p">,</span> <span class="l">8</span><span class="p">,</span> dfltGain<span class="p">,</span> dfltGain<span class="p">,</span> dfltGain<span class="p">,</span> dfltGain<span class="p">,</span> dfltGain<span class="p">,</span> dfltGain<span class="p">,</span> dfltGain<span class="p">,</span> dfltGain <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> aout0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> aout1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> aout2 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> aout3 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">3</span> <span class="p">)</span><span class="p">;</span>
  
  
  <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
  <span class="p">{</span>
    <span class="k">char</span> label<span class="p">[</span><span class="l">32</span><span class="p">]</span><span class="p">;</span>
    snprintf<span class="p">(</span>label<span class="p">,</span><span class="l">32</span><span class="p">,</span><span class="l">&quotin-%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> chArray<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> omix<span class="p">,</span> label<span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> omix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> aout0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> omix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> aout1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> omix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> aout2<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> omix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> aout3<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_AutoGain : 'fluxo' channel calibration program.</div><pre><a name="cmDspPgm_AutoGain"></a>
<span class="m">#include &quot<a href="cmAudioFile_h_0.html#cmAudioFile.h">cmAudioFile.h</a>&quot</span>
<span class="m">#include &quot<a href="cmProcObj_h_0.html#cmProcObj.h">cmProcObj.h</a>&quot</span>
<span class="m">#include &quot<a href="cmProc_h_0.html#cmProc.h">cmProc.h</a>&quot</span>
<span class="m">#include &quot<a href="cmProc3_h_0.html#cmProc3.h">cmProc3.h</a>&quot</span>

<span class="c">// Usage:
// 1) Push 'start'.
// 2) Select the first element in the Ch Cfg List UI.
// 3) Play several examples of the note.
// 4) Select the next element in the Ch Cfg List UI.
// 5) Go to 3) until all ch's have been played.
// 6) Push 'proc'. A new set of gains will be calc'd and sent to the audio input channels.
// Note that if a mistake is made while playing a set of notes in 3) then 
// push select the same element from the list again and replay.
// The order the notes are played in does not make any difference.</span>

<a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_AutoGain_defn"></a><a name="_cmDspSysPgm_AutoGain"></a><span class="f">_cmDspSysPgm_AutoGain</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc              <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">unsigned</span>        i<span class="p">;</span>
  <span class="c">//unsigned        j;</span>
  <a href="cmErr_h_0.html#cmErr_t">cmErr_t</a>         err<span class="p">;</span>  
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> errLabelPtr     <span class="p">=</span> NULL<span class="p">;</span>
  <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span>        <a href="cmProcObj_h_0.html#cmCtx">cmCtx</a>           <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysPgmCtx">cmDspSysPgmCtx</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
  <span class="k">unsigned</span>        chCnt           <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">unsigned</span>        nsChCnt         <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgFn         <span class="p">=</span> NULL<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgPath       <span class="p">=</span> NULL<span class="p">;</span>
  <span class="k">unsigned</span>        agMedCnt        <span class="p">=</span> <span class="l">5</span><span class="p">;</span>
  <span class="k">unsigned</span>        agAvgCnt        <span class="p">=</span> <span class="l">9</span><span class="p">;</span>
  <span class="k">unsigned</span>        agSuprCnt       <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  <span class="k">unsigned</span>        agOffCnt        <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  <a href="cmFloatTypes_h_0.html#cmReal_t">cmReal_t</a>        agSuprCoeff     <span class="p">=</span> <span class="l">1.4</span><span class="p">;</span>
  <a href="cmFloatTypes_h_0.html#cmReal_t">cmReal_t</a>        agOnThreshDb    <span class="p">=</span> <span class="l">-53.0</span><span class="p">;</span>
  <a href="cmFloatTypes_h_0.html#cmReal_t">cmReal_t</a>        agOffThreshDb   <span class="p">=</span> <span class="l">-80.0</span><span class="p">;</span>
  <a href="cmFloatTypes_h_0.html#cmReal_t">cmReal_t</a>        agHopMs         <span class="p">=</span> <span class="l">25</span><span class="p">;</span>
  <span class="c">//<a href="cmFloatTypes_h_0.html#cmReal_t">cmReal_t</a>        cdMaxTimeSpanMs = 50;
  //<a href="cmFloatTypes_h_0.html#cmReal_t">cmReal_t</a>        cdMinNoteCnt    = 3;</span>  
  <span class="k">unsigned</span>        labelCharCnt    <span class="p">=</span> <span class="l">31</span><span class="p">;</span>
  <span class="k">char</span>            label0<span class="p">[</span> labelCharCnt <span class="p">+</span> <span class="l">1</span><span class="p">]</span><span class="p">;</span>
  
  
  <a href="cmErr_h_0.html#cmErrSetup">cmErrSetup</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><span class="p">&amp</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">-</span><span class="p">&gt</span>rpt<span class="p">,</span><span class="l">&quotAuto-gain&quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// get the name of channel cfg file</span>
  <span class="k">if</span><span class="p">(</span> <a href="cmJson_h_0.html#cmJsonPathValues">cmJsonPathValues</a><span class="p">(</span> <a href="cmDspSys_h_0.html#cmDspSysPgmRsrcHandle">cmDspSysPgmRsrcHandle</a><span class="p">(</span>h<span class="p">)</span><span class="p">,</span><span class="l">&quotcfg/&quot</span><span class="p">,</span>NULL<span class="p">,</span><span class="p">&amp</span>errLabelPtr<span class="p">,</span>
  <span class="l">&quotchCfgFn&quot</span><span class="p">,</span>             <a href="cmJson_h_0.html#kStringTId">kStringTId</a><span class="p">,</span> <span class="p">&amp</span>chCfgFn<span class="p">,</span>
  <span class="l">&quotagParms/hopMs&quot</span><span class="p">,</span>       <a href="cmJson_h_0.html#kRealTId">kRealTId</a><span class="p">,</span>   <span class="p">&amp</span>agHopMs<span class="p">,</span>
  <span class="l">&quotagParms/medCnt&quot</span><span class="p">,</span>      <a href="cmJson_h_0.html#kIntTId">kIntTId</a><span class="p">,</span>    <span class="p">&amp</span>agMedCnt<span class="p">,</span>
  <span class="l">&quotagParms/avgCnt&quot</span><span class="p">,</span>      <a href="cmJson_h_0.html#kIntTId">kIntTId</a><span class="p">,</span>    <span class="p">&amp</span>agAvgCnt<span class="p">,</span>
  <span class="l">&quotagParms/suprCnt&quot</span><span class="p">,</span>     <a href="cmJson_h_0.html#kIntTId">kIntTId</a><span class="p">,</span>    <span class="p">&amp</span>agSuprCnt<span class="p">,</span>
  <span class="l">&quotagParms/offCnt&quot</span><span class="p">,</span>      <a href="cmJson_h_0.html#kIntTId">kIntTId</a><span class="p">,</span>    <span class="p">&amp</span>agOffCnt<span class="p">,</span>
  <span class="l">&quotagParms/suprCoeff&quot</span><span class="p">,</span>   <a href="cmJson_h_0.html#kRealTId">kRealTId</a><span class="p">,</span>   <span class="p">&amp</span>agSuprCoeff<span class="p">,</span>
  <span class="l">&quotagParms/onThreshDb&quot</span><span class="p">,</span>  <a href="cmJson_h_0.html#kRealTId">kRealTId</a><span class="p">,</span>   <span class="p">&amp</span>agOnThreshDb<span class="p">,</span>
  <span class="l">&quotagParms/offThreshDb&quot</span><span class="p">,</span> <a href="cmJson_h_0.html#kRealTId">kRealTId</a><span class="p">,</span>   <span class="p">&amp</span>agOffThreshDb<span class="p">,</span>
  NULL<span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmJson_h_0.html#kOkJsRC">kOkJsRC</a> <span class="p">)</span>
  <span class="p">{</span>
    rc <span class="p">=</span> <a href="cmErr_h_0.html#cmErrMsg">cmErrMsg</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><a href="cmDspClass_h_0.html#kPgmCfgFailDspRC">kPgmCfgFailDspRC</a><span class="p">,</span><span class="l">&quotAn error occurred while reading the required auto-tune JSON parameters.&quot</span><span class="p">)</span><span class="p">;</span>
    goto errLabel<span class="p">;</span>
  <span class="p">}</span>
  
  <span class="c">// get the count of channels from the ch. cfg. array</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span> chCnt <span class="p">=</span> <a href="cmProc3_h_0.html#cmChCfgChannelCount">cmChCfgChannelCount</a><span class="p">(</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">,</span>chCfgFn<span class="p">,</span><span class="p">&amp</span>nsChCnt<span class="p">)</span><span class="p">)</span> <span class="p">=</span><span class="p">=</span> <span class="l">0</span> <span class="p">)</span>
  <span class="p">{</span>
    rc <span class="p">=</span> <a href="cmErr_h_0.html#cmErrMsg">cmErrMsg</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><a href="cmDspClass_h_0.html#kPgmCfgFailDspRC">kPgmCfgFailDspRC</a><span class="p">,</span><span class="l">&quotUnable to obtain the channel count from '%s'.&quot</span><span class="p">,</span><a href="cmGlobal_h_0.html#cmStringNullGuard">cmStringNullGuard</a><span class="p">(</span>chCfgFn<span class="p">)</span><span class="p">)</span><span class="p">;</span>
    goto errLabel<span class="p">;</span>
  <span class="p">}</span>
  
  <span class="c">// prepend the prefs directory to the ch. cfg filename </span>
  chCfgPath <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsPrefsDir">cmFsPrefsDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>chCfgFn<span class="p">,</span>NULL<span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  
  <span class="k">if</span><span class="p">(</span> rc <span class="p">=</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
  <span class="p">{</span>
    <span class="c">//mDspInst_t* ain[chCnt];</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ef<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtr<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> amtr<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> on<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> off<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rms<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <span class="c">///<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fdr0[chCnt];
    ///<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fdr1[chCnt];
    ///<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fdr2[chCnt];</span>    
    
    <span class="c">// allocate the audio inputs
    //for(i=0; i&ampltchCnt; ++i)
    //  ain[i] = <a href="cmDspSys_h_0.html#cmDspSysAllocAudioIn">cmDspSysAllocAudioIn</a>(h,i,1.0);</span>    
    <span class="k">unsigned</span> inChCnt<span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span><span class="p">*</span> ain <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioInAR">cmDspSysAllocAudioInAR</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotaudioInMap&quot</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="p">&amp</span>inChCnt <span class="p">)</span><span class="p">;</span>
    
    <span class="c">// allocate the auto-gain calibration object</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ag     <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAutoGain&quot</span><span class="p">,</span>     NULL<span class="p">,</span>     <span class="l">9</span><span class="p">,</span> chCnt<span class="p">,</span> agHopMs<span class="p">,</span>agMedCnt<span class="p">,</span>agAvgCnt<span class="p">,</span>agSuprCnt<span class="p">,</span>agOffCnt<span class="p">,</span>agSuprCoeff<span class="p">,</span>agOnThreshDb<span class="p">,</span>agOffThreshDb <span class="p">)</span><span class="p">;</span>
    
    <span class="c">// allocate the command buttons</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> start  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotstart&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> proc   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotproc&quot</span><span class="p">,</span>   <span class="l">0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> cancel <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotcancel&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> write  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotwrite&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> <a href="cmMain_c_0.html#print">print</a>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotprint&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chMenu <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocMsgList">cmDspSysAllocMsgList</a><span class="p">(</span>h<span class="p">,</span> chCfgPath<span class="p">,</span> <span class="l">&quotch_array&quot</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> onThr  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotOn  Thresh&quot</span><span class="p">,</span><span class="l">-100.0</span><span class="p">,</span><span class="l">0.0</span><span class="p">,</span><span class="l">0.1</span><span class="p">,</span><span class="l">-45.0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> offThr <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotOff Thresh&quot</span><span class="p">,</span><span class="l">-100.0</span><span class="p">,</span><span class="l">0.0</span><span class="p">,</span><span class="l">0.1</span><span class="p">,</span><span class="l">-80.0</span><span class="p">)</span><span class="p">;</span>
    <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* prt    = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotPrinter&ampquot,NULL,1,&ampquotag&ampgt&ampquot);</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sub    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalarOp&quot</span><span class="p">,</span>NULL<span class="p">,</span><span class="l">6</span><span class="p">,</span><span class="l">2</span><span class="p">,</span><span class="l">&quot+&quot</span><span class="p">,</span><span class="l">&quotin-0&quot</span><span class="p">,</span><span class="l">0.0</span><span class="p">,</span><span class="l">&quotin-1&quot</span><span class="p">,</span><span class="l">-1.0</span><span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">200</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysAllocLabel">cmDspSysAllocLabel</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotEF Gate&quot</span><span class="p">,</span><a href="cmMsgProtocol_h_0.html#kLeftAlignDuiId">kLeftAlignDuiId</a><span class="p">)</span><span class="p">;</span>
    
    <span class="c">// allocate the envelope followers and meters</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i <span class="p">)</span>
    <span class="p">{</span>
      snprintf<span class="p">(</span>label0<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quot%2i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
      ef<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotEnvFollow&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
      mtr<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMeter&quot</span><span class="p">,</span>label0<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <span class="p">}</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">200</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysAllocLabel">cmDspSysAllocLabel</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudio&quot</span><span class="p">,</span><a href="cmMsgProtocol_h_0.html#kLeftAlignDuiId">kLeftAlignDuiId</a><span class="p">)</span><span class="p">;</span>
    
    <span class="c">// allocate the envelope followers and meters</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i <span class="p">)</span>
    <span class="p">{</span>
      amtr<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAMeter&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c">// chord detector, note selector, mix0, mix1, mix2
    ///<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* cdp = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h, &ampquotChordDetect&ampquot, NULL, 1, &ampquotcdSel&ampquot );
    ///<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* nsp = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h, &ampquotNoteSelect&ampquot,  NULL, 1, chCnt );</span>    
    
    <span class="c">// onset count display</span>
    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">150</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysAllocLabel">cmDspSysAllocLabel</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotOnsets&quot</span><span class="p">,</span><a href="cmMsgProtocol_h_0.html#kLeftAlignDuiId">kLeftAlignDuiId</a><span class="p">)</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
      on<span class="p">[</span>i<span class="p">]</span> <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>h<span class="p">,</span>NULL<span class="p">,</span><span class="l">0</span><span class="p">,</span><span class="l">1</span><span class="p">,</span><span class="l">0</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
    
    <span class="c">// offset count display</span>
    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">150</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysAllocLabel">cmDspSysAllocLabel</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotOffsets&quot</span><span class="p">,</span><a href="cmMsgProtocol_h_0.html#kLeftAlignDuiId">kLeftAlignDuiId</a><span class="p">)</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
      off<span class="p">[</span>i<span class="p">]</span> <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>h<span class="p">,</span>NULL<span class="p">,</span><span class="l">0</span><span class="p">,</span><span class="l">1</span><span class="p">,</span><span class="l">0</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
    
    <span class="c">// offset count display</span>
    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">150</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysAllocLabel">cmDspSysAllocLabel</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotRMS&quot</span><span class="p">,</span><a href="cmMsgProtocol_h_0.html#kLeftAlignDuiId">kLeftAlignDuiId</a><span class="p">)</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
      rms<span class="p">[</span>i<span class="p">]</span> <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>h<span class="p">,</span>NULL<span class="p">,</span><span class="l">0</span><span class="p">,</span><span class="l">1</span><span class="p">,</span><span class="l">0</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
    
    <span class="c">//
    //    // note select gate meters
    //    for(j=0; j&amplt3; ++j)
    //    {
    //      snprintf(label0,labelCharCnt,&ampquotSet %i&ampquot,j);
    //      <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a>(h,50);
    //      <a href="cmDspSys_h_0.html#cmDspSysAllocLabel">cmDspSysAllocLabel</a>(h,label0,<a href="cmMsgProtocol_h_0.html#kLeftAlignDuiId">kLeftAlignDuiId</a> );
    //
    //      
    //      for(i=0; i&ampltchCnt; ++i)
    //      {
    //        <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* m = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h, &ampquotMeter&ampquot, NULL, 3, 0.0, 0.0, 1.0 );
    //        switch(j)
    //        {
    //          case 0: fdr0[i] = m; break;
    //          case 1: fdr1[i] = m; break;
    //          case 2: fdr2[i] = m; break;
    //            
    //        }
    //      }
    //    }
    //    
    //    // chord detector parameters
    //    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a>(h,150);
    //    <a href="cmDspSys_h_0.html#cmDspSysAllocLabel">cmDspSysAllocLabel</a>(h,&ampquotChord Detector&ampquot,<a href="cmMsgProtocol_h_0.html#kLeftAlignDuiId">kLeftAlignDuiId</a>);
    //    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* cdSpanMs  = <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a>(h,&ampquotSpan Ms&ampquot, 10.0,1000.0,1.0,cdMaxTimeSpanMs);
    //    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* cdNoteCnt = <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a>(h,&ampquotNote Cnt&ampquot, 1.0, 100.0,1.0,cdMinNoteCnt );
    //    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* cdCount   = <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a>(h,&ampquotCh. Count&ampquot,    0,1,0,0);
    //
    //</span>    
    <span class="c">//    </span>
    
    <span class="c">// allocate an audio mixer and two audio output channels</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> amix   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> chCnt<span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">,</span><span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span>h<span class="p">,</span><span class="l">1</span><span class="p">,</span><span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
    
    <span class="c">// alloc chCfg last so that it's default outputs are applied to connected objects</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chCfg  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotChCfg&quot</span><span class="p">,</span>     NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> chCfgFn <span class="p">)</span><span class="p">;</span>
    
    <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
      goto errLabel<span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN11N">cmDspSysConnectAudioN11N</a><span class="p">(</span>h<span class="p">,</span>ain<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ag<span class="p">,</span>   <span class="l">&quotin&quot</span><span class="p">,</span> chCnt<span class="p">)</span><span class="p">;</span> <span class="c"> // ain -&ampgt auto gain</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN11N">cmDspSysConnectAudioN11N</a><span class="p">(</span>h<span class="p">,</span>ain<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> amix<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> chCnt<span class="p">)</span><span class="p">;</span> <span class="c"> // ain -&ampgt amix</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span>h<span class="p">,</span>ain<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ef<span class="p">,</span>   <span class="l">&quotin&quot</span><span class="p">,</span> chCnt<span class="p">)</span><span class="p">;</span> <span class="c"> // ain -&ampgt EF</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span>h<span class="p">,</span> ain<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> amtr<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>chCnt<span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb1N1N">cmDspSysInstallCb1N1N</a><span class="p">(</span>h<span class="p">,</span> ag<span class="p">,</span>    <span class="l">&quotgain&quot</span><span class="p">,</span>  chCfg<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // ag -&ampgt chCfg (gain)</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span>h<span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span>  ain<span class="p">,</span>   <span class="l">&quotgain&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // cgCfg -&ampgt ain (gain)</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span>h<span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quotch&quot</span><span class="p">,</span>    ain<span class="p">,</span>   <span class="l">&quotch&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // cgCfg -&ampgt ain (ch)</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>h<span class="p">,</span> ef<span class="p">,</span>    <span class="l">&quotgate&quot</span><span class="p">,</span>  mtr<span class="p">,</span>   <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // EF gate -&ampgt meter</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>h<span class="p">,</span> onThr<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span>  ef<span class="p">,</span>    <span class="l">&quotondb&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> </span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>h<span class="p">,</span> offThr<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  ef<span class="p">,</span>    <span class="l">&quotoffdb&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> </span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>h<span class="p">,</span> ef<span class="p">,</span>     <span class="l">&quotons&quot</span><span class="p">,</span>  on<span class="p">,</span>    <span class="l">&quotval&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // EF -&ampgt onset count</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>h<span class="p">,</span> ef<span class="p">,</span>     <span class="l">&quotoffs&quot</span><span class="p">,</span> off<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // EF -&ampgt offset count</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>h<span class="p">,</span> ef<span class="p">,</span>     <span class="l">&quotrms&quot</span><span class="p">,</span>  rms<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>
    
    <span class="c">///<a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a>(h, ef,     &ampquotgate&ampquot, cdp,   &ampquotgate&ampquot, chCnt ); // EF -&ampgt CD gate
    ///<a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a>(h, ef,     &ampquotrms&ampquot,  cdp,   &ampquotrms&ampquot,  chCnt ); // EF -&ampgt CD rms</span>    
    
    <span class="c">///<a href="cmDspSys_h_0.html#cmDspSysInstallCb1N1N">cmDspSysInstallCb1N1N</a>(h, cdp,    &ampquotgate&ampquot, nsp,   &ampquotgate&ampquot, chCnt ); // CD -&ampgt NS gate
    ///<a href="cmDspSys_h_0.html#cmDspSysInstallCb1N1N">cmDspSysInstallCb1N1N</a>(h, cdp,    &ampquotrms&ampquot,  nsp,   &ampquotrms&ampquot,  chCnt ); // CD -&ampgt NS rms
    ///<a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a>(h, nsp,    &ampquotgate-0&ampquot,fdr0,  &ampquotin&ampquot,   chCnt ); // NS -&ampgt Fader 0 gate
    ///<a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a>(h, nsp,    &ampquotgate-1&ampquot,fdr1,  &ampquotin&ampquot,   chCnt ); // NS -&ampgt Fader 1 gate
    ///<a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a>(h, nsp,    &ampquotgate-2&ampquot,fdr2,  &ampquotin&ampquot,   chCnt ); // NS -&ampgt Fader 2 gate   </span>    
    
    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> amix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // amix -&ampgt aout 0</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> amix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>  <span class="c"> // amix -&ampgt aout 1</span>
    
    
    <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, chMenu, &ampquotch&ampquot,  ag,    &ampquotid&ampquot, NULL );</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> chMenu<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> sub<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> sub<span class="p">,</span>    <span class="l">&quotout&quot</span><span class="p">,</span> ag<span class="p">,</span> <span class="l">&quotid&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> start<span class="p">,</span>  <span class="l">&quotsym&quot</span><span class="p">,</span> ag<span class="p">,</span>    <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> proc<span class="p">,</span>   <span class="l">&quotsym&quot</span><span class="p">,</span> ag<span class="p">,</span>    <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> cancel<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span> ag<span class="p">,</span>    <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> <a href="cmMain_c_0.html#print">print</a><span class="p">,</span>  <span class="l">&quotsym&quot</span><span class="p">,</span> ag<span class="p">,</span>    <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>  
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> <a href="cmMain_c_0.html#print">print</a><span class="p">,</span>  <span class="l">&quotsym&quot</span><span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> write<span class="p">,</span>  <span class="l">&quotsym&quot</span><span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
    
    <span class="c">//
    //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, cdSpanMs,  &ampquotval&ampquot,    cdp,     &ampquotspan&ampquot,  NULL );
    //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, cdNoteCnt, &ampquotval&ampquot,    cdp,     &ampquotnotes&ampquot, NULL );
    //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, cdp,       &ampquotcount&ampquot,  cdCount, &ampquotval&ampquot,   NULL );
    //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, cdp,       &ampquotdetect&ampquot, nsp,     &ampquottrig&ampquot,  NULL );
    //</span>    
    <span class="c">//    </span>
  <span class="p">}</span>
  errLabel<span class="p">:</span>
  
  <a href="cmFileSys_h_0.html#cmFsFreeFn">cmFsFreeFn</a><span class="p">(</span>chCfgPath<span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_PickupFxFile : 'fluxo' noise shapers.</div><pre><a name="cmDspPgm_PickupFxFile"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_PickupFxFile_defn"></a><a name="_cmDspSysPgm_PickupFxFile"></a><span class="f">_cmDspSysPgm_PickupFxFile</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc        <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <a href="cmErr_h_0.html#cmErr_t">cmErr_t</a>         err<span class="p">;</span>
  <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span>        <a href="cmProcObj_h_0.html#cmCtx">cmCtx</a>     <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysPgmCtx">cmDspSysPgmCtx</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
  <span class="k">unsigned</span>        chCnt     <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">unsigned</span>        nsChCnt   <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgPath <span class="p">=</span> NULL<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgFn   <span class="p">=</span> <span class="l">&quotpick_chs8.js&quot</span><span class="p">;</span>
  <span class="k">double</span>          cfMinHz   <span class="p">=</span> <span class="l">20.0</span><span class="p">;</span>
  <span class="k">double</span>          cfAlpha   <span class="p">=</span> <span class="l">0.9</span><span class="p">;</span>
  <span class="k">bool</span>            cfFbFl    <span class="p">=</span> true<span class="p">;</span>
  <span class="k">unsigned</span>        sgShapeId <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> afn       <span class="p">=</span> <span class="l">&quot/home/kevin/media/audio/gate_detect/gate_detect0.aif&quot</span><span class="p">;</span>
  <span class="k">double</span>        abeg<span class="p">[</span><span class="p">]</span>    <span class="p">=</span> <span class="p">{</span> <span class="l">9.842046</span><span class="p">,</span> <span class="l">18.838291</span><span class="p">,</span> <span class="l">27.007957</span><span class="p">,</span> <span class="l">35.562079</span><span class="p">,</span> <span class="l">45.461793</span><span class="p">,</span> <span class="l">52.920218</span><span class="p">,</span> <span class="l">60.436312</span><span class="p">,</span> <span class="l">68.913543</span><span class="p">}</span><span class="p">;</span>
  <span class="k">double</span>        aend<span class="p">[</span><span class="p">]</span>    <span class="p">=</span> <span class="p">{</span><span class="l">11.399088</span><span class="p">,</span> <span class="l">20.645229</span><span class="p">,</span> <span class="l">28.891786</span><span class="p">,</span> <span class="l">37.311349</span><span class="p">,</span> <span class="l">47.287954</span><span class="p">,</span> <span class="l">54.131251</span><span class="p">,</span> <span class="l">62.473923</span><span class="p">,</span> <span class="l">72.142964</span><span class="p">}</span><span class="p">;</span>
  <span class="k">bool</span>            cfBypassFl  <span class="p">=</span> false<span class="p">;</span>
  <span class="k">unsigned</span>        i<span class="p">;</span>
  
  
  <a href="cmErr_h_0.html#cmErrSetup">cmErrSetup</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><span class="p">&amp</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">-</span><span class="p">&gt</span>rpt<span class="p">,</span><span class="l">&quotPickup Effects&quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// prepend the prefs directory to the ch. cfg filename </span>
  chCfgPath <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsPrefsDir">cmFsPrefsDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>chCfgFn<span class="p">,</span>NULL<span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  
  <span class="c">// get the count of channels from the ch. cfg. array</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span> chCnt <span class="p">=</span> <a href="cmProc3_h_0.html#cmChCfgChannelCount">cmChCfgChannelCount</a><span class="p">(</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">,</span>chCfgFn<span class="p">,</span><span class="p">&amp</span>nsChCnt<span class="p">)</span><span class="p">)</span> <span class="p">=</span><span class="p">=</span> <span class="l">0</span> <span class="p">)</span>
  <span class="p">{</span>
    rc <span class="p">=</span> <a href="cmErr_h_0.html#cmErrMsg">cmErrMsg</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><a href="cmDspClass_h_0.html#kPgmCfgFailDspRC">kPgmCfgFailDspRC</a><span class="p">,</span><span class="l">&quotUnable to obtain the channel count from '%s'.&quot</span><span class="p">,</span><a href="cmGlobal_h_0.html#cmStringNullGuard">cmStringNullGuard</a><span class="p">(</span>chCfgFn<span class="p">)</span><span class="p">)</span><span class="p">;</span>
    goto errLabel<span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">if</span><span class="p">(</span> rc <span class="p">=</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
  <span class="p">{</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> af<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* aout[chCnt];</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ef<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> cf<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sg<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtr<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mute<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> phs <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>   NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
    
    <span class="c">// allocate the audio inputs</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      <span class="k">unsigned</span> labelCharCnt <span class="p">=</span> <span class="l">31</span><span class="p">;</span>
      <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a> label<span class="p">[</span>labelCharCnt<span class="p">+</span><span class="l">1</span><span class="p">]</span><span class="p">;</span>
      snprintf<span class="p">(</span>label<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quot%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
      
      <span class="k">int</span> sbeg <span class="p">=</span> floor<span class="p">(</span>abeg<span class="p">[</span>i<span class="p">]</span> <span class="p">*</span> <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">;</span>
      <span class="k">int</span> send <span class="p">=</span> floor<span class="p">(</span>aend<span class="p">[</span>i<span class="p">]</span> <span class="p">*</span> <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">;</span>
      
      <span class="c">//ain[i]  = <a href="cmDspSys_h_0.html#cmDspSysAllocAudioIn">cmDspSysAllocAudioIn</a>( h,i,1.0);</span>
      af<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> afn<span class="p">,</span> <span class="l">-1</span><span class="p">,</span> sbeg<span class="p">,</span> send <span class="p">)</span><span class="p">;</span>
      <span class="c">//aout[i] = <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a>(h,i,1.0);      </span>
      ef<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotEnvFollow&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
      sg<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">1000.0</span><span class="p">,</span> sgShapeId <span class="p">)</span><span class="p">;</span>
      cf<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotCombFilt&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">5</span><span class="p">,</span> cfBypassFl<span class="p">,</span> cfMinHz<span class="p">,</span> cfFbFl<span class="p">,</span> cfMinHz<span class="p">,</span> cfAlpha <span class="p">)</span><span class="p">;</span>
      mtr<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMeter&quot</span><span class="p">,</span>label<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c">// allocate the ch cfg last so that it's default outputs initialize connected objects</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chCfg  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotChCfg&quot</span><span class="p">,</span>     NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> chCfgFn <span class="p">)</span><span class="p">;</span>  
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mix    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span>     NULL<span class="p">,</span>      <span class="l">1</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">50</span><span class="p">)</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
      mute<span class="p">[</span>i<span class="p">]</span> <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocCheck">cmDspSysAllocCheck</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quot&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
    
    <span class="c">// checkk for allocation errors</span>
    <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
      goto errLabel<span class="p">;</span>
    
    <span class="c">// 
    //<a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a>(h, ain,   &ampquotout&ampquot,  aout,  &ampquotin&ampquot,   chCnt );</span>    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio11N1">cmDspSysConnectAudio11N1</a><span class="p">(</span>h<span class="p">,</span> phs<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span>  af<span class="p">,</span>    <span class="l">&quotphs&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span> 
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span>h<span class="p">,</span> af<span class="p">,</span>    <span class="l">&quotout&quot</span><span class="p">,</span>  ef<span class="p">,</span>    <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // af -&ampgt EF </span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span>h<span class="p">,</span> sg<span class="p">,</span>    <span class="l">&quotout&quot</span><span class="p">,</span>  cf<span class="p">,</span>    <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // sg -&ampgt CF</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN11N">cmDspSysConnectAudioN11N</a><span class="p">(</span>h<span class="p">,</span> cf<span class="p">,</span>    <span class="l">&quotout&quot</span><span class="p">,</span>  mix<span class="p">,</span>   <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // CF -&ampgt mix</span>
    <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a>(   h, chCfg, &ampquotgain&ampquot, ain,   &ampquotgain&ampquot, chCnt ); // chCfg -&ampgt ain gain</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span>   h<span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quothz&quot</span><span class="p">,</span>   cf<span class="p">,</span>    <span class="l">&quothz&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // chCfg -&ampgt CF Hz</span>
    <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a>(   h, ef,    &ampquotrms&ampquot,  aout,  &ampquotgain&ampquot, chCnt ); // EF  -&ampgt aout gain</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span>    <span class="l">&quotrms&quot</span><span class="p">,</span>  mtr<span class="p">,</span>   <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // EF -&ampgt meter RMS</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span>    <span class="l">&quotrms&quot</span><span class="p">,</span>  mix<span class="p">,</span>   <span class="l">&quotgain&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a><span class="p">(</span>   h<span class="p">,</span> mute<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  mix<span class="p">,</span>   <span class="l">&quotmute&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // mute -&ampgt mix</span>
  <span class="p">}</span>
  
  errLabel<span class="p">:</span>
  <a href="cmFileSys_h_0.html#cmFsFreeFn">cmFsFreeFn</a><span class="p">(</span>chCfgPath<span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_NoiseTails : 'fluxo' noise shapers.</div><pre><a name="cmDspPgm_NoiseTails"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_NoiseTails_defn"></a><a name="_cmDspSysPgm_NoiseTails"></a><span class="f">_cmDspSysPgm_NoiseTails</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc        <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <a href="cmErr_h_0.html#cmErr_t">cmErr_t</a>         err<span class="p">;</span>
  <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span>        <a href="cmProcObj_h_0.html#cmCtx">cmCtx</a>     <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysPgmCtx">cmDspSysPgmCtx</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
  <span class="k">unsigned</span>        chCnt     <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">unsigned</span>        nsChCnt   <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgPath <span class="p">=</span> NULL<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgFn   <span class="p">=</span> <span class="l">&quotpick_chs8.js&quot</span><span class="p">;</span>
  <span class="k">double</span>          cfMinHz   <span class="p">=</span> <span class="l">20.0</span><span class="p">;</span>
  <span class="k">double</span>          cfHz      <span class="p">=</span> <span class="l">500</span><span class="p">;</span>
  <span class="k">double</span>          cfAlpha   <span class="p">=</span> <span class="l">0.9</span><span class="p">;</span>
  <span class="k">bool</span>            cfFbFl    <span class="p">=</span> true<span class="p">;</span>
  <span class="k">bool</span>            cfBypassFl<span class="p">=</span> false<span class="p">;</span>
  <span class="k">unsigned</span>        sgShapeId <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  <span class="k">double</span>          dfltDelayMs <span class="p">=</span> <span class="l">100</span><span class="p">;</span>
  <span class="k">unsigned</span>        i<span class="p">;</span>
  
  
  <a href="cmErr_h_0.html#cmErrSetup">cmErrSetup</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><span class="p">&amp</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">-</span><span class="p">&gt</span>rpt<span class="p">,</span><span class="l">&quotNoise Tails&quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// prepend the prefs directory to the ch. cfg filename </span>
  chCfgPath <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsPrefsDir">cmFsPrefsDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>chCfgFn<span class="p">,</span>NULL<span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  
  <span class="c">// get the count of channels from the ch. cfg. array</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span> chCnt <span class="p">=</span> <a href="cmProc3_h_0.html#cmChCfgChannelCount">cmChCfgChannelCount</a><span class="p">(</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">,</span>chCfgFn<span class="p">,</span><span class="p">&amp</span>nsChCnt<span class="p">)</span><span class="p">)</span> <span class="p">=</span><span class="p">=</span> <span class="l">0</span> <span class="p">)</span>
  <span class="p">{</span>
    rc <span class="p">=</span> <a href="cmErr_h_0.html#cmErrMsg">cmErrMsg</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><a href="cmDspClass_h_0.html#kPgmCfgFailDspRC">kPgmCfgFailDspRC</a><span class="p">,</span><span class="l">&quotUnable to obtain the channel count from '%s'.&quot</span><span class="p">,</span><a href="cmGlobal_h_0.html#cmStringNullGuard">cmStringNullGuard</a><span class="p">(</span>chCfgFn<span class="p">)</span><span class="p">)</span><span class="p">;</span>
    goto errLabel<span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">if</span><span class="p">(</span> rc <span class="p">=</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
  <span class="p">{</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ain<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ef<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> cf<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sg<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtr<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> add<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mul<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dly<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    
    <span class="c">// allocate the audio inputs</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      <span class="k">unsigned</span> labelCharCnt <span class="p">=</span> <span class="l">31</span><span class="p">;</span>
      <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a> label<span class="p">[</span>labelCharCnt<span class="p">+</span><span class="l">1</span><span class="p">]</span><span class="p">;</span>
      snprintf<span class="p">(</span>label<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quot%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
      
      ain<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioIn">cmDspSysAllocAudioIn</a><span class="p">(</span>  h<span class="p">,</span> i<span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
      ef<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotEnvFollow&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
      sg<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">1000.0</span><span class="p">,</span> sgShapeId <span class="p">)</span><span class="p">;</span>
      cf<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotCombFilt&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">5</span><span class="p">,</span> cfBypassFl<span class="p">,</span> cfMinHz<span class="p">,</span> cfFbFl<span class="p">,</span> cfHz<span class="p">,</span> cfAlpha <span class="p">)</span><span class="p">;</span>
      mtr<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMeter&quot</span><span class="p">,</span>label<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
      add<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotScalarOp&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">6</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quot+&quot</span><span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
      mul<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotScalarOp&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">6</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quot*&quot</span><span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> <span class="l">0.99</span><span class="p">)</span><span class="p">;</span>
      dly<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMsgDelay&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">1000</span><span class="p">,</span> dfltDelayMs <span class="p">)</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c">// allocate the ch cfg last so that it's default outputs initialize connected objects</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chCfg  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotChCfg&quot</span><span class="p">,</span>    NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> chCfgFn <span class="p">)</span><span class="p">;</span>  
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mix    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span>     NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> alpha  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotalpha&quot</span><span class="p">,</span> <span class="l">-1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> cfAlpha <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> decay  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotdecay&quot</span><span class="p">,</span> <span class="l">-1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.5</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> delay  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotdelay&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">1000.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> dfltDelayMs <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> zero   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotzero&quot</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
    
    <span class="c">// check for allocation errors</span>
    <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
      goto errLabel<span class="p">;</span>
    
    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span> h<span class="p">,</span> ain<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ef<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // ain -&ampgt EF </span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span> h<span class="p">,</span> sg<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  cf<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // sg -&ampgt CF</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN11N">cmDspSysConnectAudioN11N</a><span class="p">(</span> h<span class="p">,</span> cf<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  mix<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span>  <span class="c"> // cf -&ampgt mix</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ao0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // mix -&ampgt aout L </span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ao1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // mix -&ampgt aout R</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span>   h<span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> ain<span class="p">,</span>  <span class="l">&quotgain&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // chCfg -&ampgt ain gain</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span>   h<span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quothz&quot</span><span class="p">,</span>   cf<span class="p">,</span>   <span class="l">&quothz&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // chCfg -&ampgt CF Hz</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span>    <span class="l">&quotrms&quot</span><span class="p">,</span>  add<span class="p">,</span>  <span class="l">&quotin-0&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // EF -&ampgt mul 0</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> mul<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span>  add<span class="p">,</span>  <span class="l">&quotin-1&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // mul -&ampgt add</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> add<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span>  dly<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // add -&ampgt delay</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a><span class="p">(</span>   h<span class="p">,</span> dly<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span>  mix<span class="p">,</span>  <span class="l">&quotgain&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // delay -&ampgt mix gain</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> add<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span>  mul<span class="p">,</span>  <span class="l">&quotin-0&quot</span><span class="p">,</span> chCnt<span class="p">)</span><span class="p">;</span>    <span class="c"> // add -&ampgt mul (feedback)</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> decay<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  mul<span class="p">,</span>  <span class="l">&quotin-1&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // decay ctl</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span>    <span class="l">&quotgate&quot</span><span class="p">,</span> mtr<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // EF -&ampgt meter RMS</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> alpha<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  cf<span class="p">,</span>   <span class="l">&quotalpha&quot</span><span class="p">,</span>chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // CF alpha</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> delay<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  dly<span class="p">,</span>  <span class="l">&quotdelay&quot</span><span class="p">,</span>chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // Delay ctl</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb111N">cmDspSysInstallCb111N</a><span class="p">(</span>   h<span class="p">,</span> zero<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span>  mix<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>  <span class="c"> </span>
  <span class="p">}</span>
  
  errLabel<span class="p">:</span>
  <a href="cmFileSys_h_0.html#cmFsFreeFn">cmFsFreeFn</a><span class="p">(</span>chCfgPath<span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_NoiseTails2 : 'fluxo' noise shapers.</div><pre><a name="cmDspPgm_NoiseTails2"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_NoiseTails2_defn"></a><a name="_cmDspSysPgm_NoiseTails2"></a><span class="f">_cmDspSysPgm_NoiseTails2</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc           <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <a href="cmErr_h_0.html#cmErr_t">cmErr_t</a>         err<span class="p">;</span>
  <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span>        <a href="cmProcObj_h_0.html#cmCtx">cmCtx</a>        <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysPgmCtx">cmDspSysPgmCtx</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
  <span class="k">unsigned</span>        chCnt        <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">unsigned</span>        nsChCnt      <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgPath    <span class="p">=</span> NULL<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgFn      <span class="p">=</span> <span class="l">&quotpick_chs8.js&quot</span><span class="p">;</span>
  <span class="k">double</span>          cfMinHz      <span class="p">=</span> <span class="l">20.0</span><span class="p">;</span>
  
  <span class="k">double</span>          cfHz         <span class="p">=</span> <span class="l">500</span><span class="p">;</span>
  <span class="k">double</span>          cfAlpha      <span class="p">=</span> <span class="l">0.9</span><span class="p">;</span>
  <span class="k">bool</span>            cfFbFl       <span class="p">=</span> true<span class="p">;</span>
  <span class="k">bool</span>            cfBypassFl   <span class="p">=</span> false<span class="p">;</span>
  <span class="k">unsigned</span>        sgShapeId    <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  
  <span class="k">double</span>          adsrMaxMs    <span class="p">=</span> <span class="l">10000</span><span class="p">;</span>
  <span class="k">double</span>          adsrMinMs    <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">double</span>          adsrIncMs    <span class="p">=</span> <span class="l">1</span><span class="p">;</span>
  <span class="k">double</span>          adsrMaxLevel <span class="p">=</span> <span class="l">100.0</span><span class="p">;</span>
  <span class="k">double</span>          adsrSusLevel <span class="p">=</span> <span class="l">100.0</span><span class="p">;</span>
  <span class="k">double</span>          adsrMinLevel <span class="p">=</span>   <span class="l">0.0</span><span class="p">;</span>
  <span class="k">double</span>          adsrIncLevel <span class="p">=</span> <span class="l">0.001</span><span class="p">;</span>
  
  <span class="k">bool</span>            eqBypassFl <span class="p">=</span> false<span class="p">;</span>
  <span class="k">unsigned</span>        eqModeSymId <span class="p">=</span> <a href="cmSymTbl_h_0.html#cmSymTblRegisterStaticSymbol">cmSymTblRegisterStaticSymbol</a><span class="p">(</span><a href="cmDspSys_h_0.html#cmDspSysSymbolTable">cmDspSysSymbolTable</a><span class="p">(</span>h<span class="p">)</span><span class="p">,</span><span class="l">&quotLP&quot</span><span class="p">)</span><span class="p">;</span>
  <span class="k">double</span>          eqF0hz      <span class="p">=</span> <span class="l">250</span><span class="p">;</span>
  <span class="k">double</span>          eqQ         <span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  <span class="k">double</span>          eqFgain     <span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  
  <span class="k">bool</span>            mtBypassFl <span class="p">=</span> false<span class="p">;</span>
  <span class="k">double</span>          mtTimeScale<span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  <span class="k">double</span>          mtFeedback <span class="p">=</span> <span class="l">0.0</span><span class="p">;</span>
  
  <span class="k">unsigned</span>        i<span class="p">;</span>
  
  
  <a href="cmErr_h_0.html#cmErrSetup">cmErrSetup</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><span class="p">&amp</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">-</span><span class="p">&gt</span>rpt<span class="p">,</span><span class="l">&quotNoise Tails&quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// prepend the prefs directory to the ch. cfg filename </span>
  chCfgPath <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsPrefsDir">cmFsPrefsDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>chCfgFn<span class="p">,</span>NULL<span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  
  <span class="c">// get the count of channels from the ch. cfg. array</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span> chCnt <span class="p">=</span> <a href="cmProc3_h_0.html#cmChCfgChannelCount">cmChCfgChannelCount</a><span class="p">(</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">,</span>chCfgFn<span class="p">,</span><span class="p">&amp</span>nsChCnt<span class="p">)</span><span class="p">)</span> <span class="p">=</span><span class="p">=</span> <span class="l">0</span> <span class="p">)</span>
  <span class="p">{</span>
    rc <span class="p">=</span> <a href="cmErr_h_0.html#cmErrMsg">cmErrMsg</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><a href="cmDspClass_h_0.html#kPgmCfgFailDspRC">kPgmCfgFailDspRC</a><span class="p">,</span><span class="l">&quotUnable to obtain the channel count from '%s'.&quot</span><span class="p">,</span><a href="cmGlobal_h_0.html#cmStringNullGuard">cmStringNullGuard</a><span class="p">(</span>chCfgFn<span class="p">)</span><span class="p">)</span><span class="p">;</span>
    goto errLabel<span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">if</span><span class="p">(</span> rc <span class="p">=</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
  <span class="p">{</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ain<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ef<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> cf<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sg<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtr<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> add<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mul<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> env<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> d2l<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> eq<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mt<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    
    <span class="c">// allocate the audio inputs</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      <span class="k">unsigned</span> labelCharCnt <span class="p">=</span> <span class="l">31</span><span class="p">;</span>
      <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a> label<span class="p">[</span>labelCharCnt<span class="p">+</span><span class="l">1</span><span class="p">]</span><span class="p">;</span>
      snprintf<span class="p">(</span>label<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quot%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
      
      ain<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioIn">cmDspSysAllocAudioIn</a><span class="p">(</span>  h<span class="p">,</span> i<span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
      ef<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotEnvFollow&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
      sg<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">1000.0</span><span class="p">,</span> sgShapeId <span class="p">)</span><span class="p">;</span>
      cf<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotCombFilt&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">5</span><span class="p">,</span> cfBypassFl<span class="p">,</span> cfMinHz<span class="p">,</span> cfFbFl<span class="p">,</span> cfHz<span class="p">,</span> cfAlpha <span class="p">)</span><span class="p">;</span>
      mtr<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMeter&quot</span><span class="p">,</span>label<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
      env<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAdsr&quot</span><span class="p">,</span>     NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> true<span class="p">,</span> adsrMinLevel <span class="p">)</span><span class="p">;</span>
      d2l<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotDbToLin&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
      add<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotScalarOp&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">6</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quot+&quot</span><span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
      mul<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotScalarOp&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">6</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quot*&quot</span><span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> <span class="l">0.99</span><span class="p">)</span><span class="p">;</span>
      eq<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotBiQuadEq&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">5</span><span class="p">,</span> eqBypassFl<span class="p">,</span> eqModeSymId<span class="p">,</span> eqF0hz<span class="p">,</span> eqQ<span class="p">,</span> eqFgain <span class="p">)</span><span class="p">;</span> 
      mt<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMtDelay&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">9</span><span class="p">,</span> mtBypassFl<span class="p">,</span> mtTimeScale<span class="p">,</span> mtFeedback<span class="p">,</span>   <span class="l">20.0</span><span class="p">,</span> <span class="l">0.8</span><span class="p">,</span>   <span class="l">15.0</span><span class="p">,</span> <span class="l">0.9</span><span class="p">,</span>    <span class="l">12.0</span><span class="p">,</span> <span class="l">0.9</span> <span class="p">)</span><span class="p">;</span>  
    <span class="p">}</span>
    
    <span class="c">// allocate the ch cfg last so that it's default outputs initialize connected objects</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chCfg  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>     h<span class="p">,</span> <span class="l">&quotChCfg&quot</span><span class="p">,</span>    NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> chCfgFn <span class="p">)</span><span class="p">;</span>  
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mix    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>     h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span>     NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> alpha  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotalpha&quot</span><span class="p">,</span> <span class="l">-1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> cfAlpha <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> decay  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotdecay&quot</span><span class="p">,</span> <span class="l">-1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.5</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> zero   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotzero&quot</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
    <span class="c">// <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* <a href="cmMain_c_0.html#print">print</a>  = <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a>(   h, &ampquotprint&ampquot, 0 );</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">200</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dly   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotDly Ms&quot</span><span class="p">,</span>  adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> atk   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAtk Ms&quot</span><span class="p">,</span>  adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">2000.0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dcy   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotDcy Ms&quot</span><span class="p">,</span>  adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">100.0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hold  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotHold Ms&quot</span><span class="p">,</span> adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">100.0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rls   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotRls Ms&quot</span><span class="p">,</span>  adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">4000.0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> alvl  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAdsrMax&quot</span><span class="p">,</span> adsrMinLevel<span class="p">,</span>adsrMaxLevel<span class="p">,</span>adsrIncLevel<span class="p">,</span> adsrMaxLevel<span class="p">)</span><span class="p">;</span>  
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sus   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSustain&quot</span><span class="p">,</span> adsrMinLevel<span class="p">,</span>adsrMaxLevel<span class="p">,</span>adsrIncLevel<span class="p">,</span> adsrSusLevel <span class="p">)</span><span class="p">;</span>  
    
    <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">200</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> onThr  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotOn  Thresh&quot</span><span class="p">,</span><span class="l">-100.0</span><span class="p">,</span><span class="l">0.0</span><span class="p">,</span><span class="l">0.1</span><span class="p">,</span><span class="l">-55.0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> offThr <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotOff Thresh&quot</span><span class="p">,</span><span class="l">-100.0</span><span class="p">,</span><span class="l">0.0</span><span class="p">,</span><span class="l">0.1</span><span class="p">,</span><span class="l">-80.0</span><span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> eqbyp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocCheck">cmDspSysAllocCheck</a><span class="p">(</span>  h<span class="p">,</span> <span class="l">&quotEq Byp&quot</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> eqmode  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotMode&quot</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotbiQuadEqMode&quot</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> eqq     <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotQ&quot</span><span class="p">,</span>          <span class="l">-100.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> eqQ<span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> eqfgn   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotFilt Gain&quot</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span>     <span class="l">1.0</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> eqFgain<span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtfb   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMt Feedback&quot</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span>     <span class="l">1.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> mtFeedback<span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtscale<span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMt Time Scale&quot</span><span class="p">,</span>   <span class="l">0.01</span><span class="p">,</span>   <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> mtTimeScale<span class="p">)</span><span class="p">;</span>
    
    <span class="c">// check for allocation errors</span>
    <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
      goto errLabel<span class="p">;</span>
    
    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span> h<span class="p">,</span> ain<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ef<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // ain -&ampgt EF </span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span> h<span class="p">,</span> sg<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  cf<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // sg -&ampgt CF</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span> h<span class="p">,</span> cf<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  eq<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span> h<span class="p">,</span> eq<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  mt<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN11N">cmDspSysConnectAudioN11N</a><span class="p">(</span> h<span class="p">,</span> mt<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  mix<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span>  <span class="c"> // cf -&ampgt mix</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ao0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // mix -&ampgt aout L </span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ao1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // mix -&ampgt aout R</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span>   h<span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> ain<span class="p">,</span>  <span class="l">&quotgain&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // chCfg -&ampgt ain gain</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span>   h<span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quothz&quot</span><span class="p">,</span>   cf<span class="p">,</span>   <span class="l">&quothz&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // chCfg -&ampgt CF Hz</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span>   h<span class="p">,</span> chCfg<span class="p">,</span> <span class="l">&quothz&quot</span><span class="p">,</span>   eq<span class="p">,</span>   <span class="l">&quotf0&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // chCfg -&ampgt Eq Hz</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> mul<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span>  add<span class="p">,</span>  <span class="l">&quotin-1&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // mul -&ampgt add</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span>    <span class="l">&quotgate&quot</span><span class="p">,</span> env<span class="p">,</span>  <span class="l">&quotgate&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // EF -&ampgt adsr (gate)</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span>    <span class="l">&quotrms&quot</span><span class="p">,</span>  env<span class="p">,</span>  <span class="l">&quotrms&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // EF -&ampgtadsr (rms)</span>
    <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a>(   h, <a href="cmMain_c_0.html#print">print</a>,   &ampquotout&ampquot,  env,  &ampquotcmd&ampquot,  chCnt );</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> env<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span>  d2l<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a><span class="p">(</span>   h<span class="p">,</span> d2l<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span>  mix<span class="p">,</span>  <span class="l">&quotgain&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span> 
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> add<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span>  mul<span class="p">,</span>  <span class="l">&quotin-0&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // add -&ampgt mul (feedback)</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> decay<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  mul<span class="p">,</span>  <span class="l">&quotin-1&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // decay ctl</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span>    <span class="l">&quotgate&quot</span><span class="p">,</span> mtr<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // EF -&ampgt meter RMS</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> alpha<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  cf<span class="p">,</span>   <span class="l">&quotalpha&quot</span><span class="p">,</span>chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // CF alpha</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb111N">cmDspSysInstallCb111N</a><span class="p">(</span>   h<span class="p">,</span> zero<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span>  mix<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>  <span class="c"> </span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span> h<span class="p">,</span> dly<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> env<span class="p">,</span> <span class="l">&quotdly&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span> h<span class="p">,</span> atk<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> env<span class="p">,</span> <span class="l">&quotatk&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span> h<span class="p">,</span> dcy<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> env<span class="p">,</span> <span class="l">&quotdcy&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span> h<span class="p">,</span> hold<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> env<span class="p">,</span> <span class="l">&quothold&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span> h<span class="p">,</span> rls<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> env<span class="p">,</span> <span class="l">&quotrls&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span> h<span class="p">,</span> alvl<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> env<span class="p">,</span> <span class="l">&quotalvl&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span> h<span class="p">,</span> sus<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> env<span class="p">,</span> <span class="l">&quotsus&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> onThr<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span>  ef<span class="p">,</span>    <span class="l">&quotondb&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> </span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> offThr<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  ef<span class="p">,</span>    <span class="l">&quotoffdb&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> </span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> eqbyp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  eq<span class="p">,</span>    <span class="l">&quotbypass&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> eqmode<span class="p">,</span> <span class="l">&quotmode&quot</span><span class="p">,</span> eq<span class="p">,</span>    <span class="l">&quotmode&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> eqq<span class="p">,</span>    <span class="l">&quotval&quot</span><span class="p">,</span>  eq<span class="p">,</span>    <span class="l">&quotQ&quot</span><span class="p">,</span>      chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> eqfgn<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span>  eq<span class="p">,</span>    <span class="l">&quotgain&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> mtfb<span class="p">,</span>    <span class="l">&quotval&quot</span><span class="p">,</span>  mt<span class="p">,</span>    <span class="l">&quotfb&quot</span><span class="p">,</span>      chCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span>   h<span class="p">,</span> mtscale<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  mt<span class="p">,</span>    <span class="l">&quotscale&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>
    
  <span class="p">}</span>
  
  errLabel<span class="p">:</span>
  <a href="cmFileSys_h_0.html#cmFsFreeFn">cmFsFreeFn</a><span class="p">(</span>chCfgPath<span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>



<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_CombFilt : Comb filter example program.</div><pre><a name="cmDspPgm_CombFilt"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_CombFilt_defn"></a><a name="_cmDspSysPgm_CombFilt"></a><span class="f">_cmDspSysPgm_CombFilt</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc        <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">double</span>    cfMinHz   <span class="p">=</span> <span class="l">20.0</span><span class="p">;</span>
  <span class="k">double</span>    cfAlpha   <span class="p">=</span> <span class="l">0.9</span><span class="p">;</span>
  <span class="k">bool</span>      cfFbFl    <span class="p">=</span> true<span class="p">;</span>
  <span class="k">bool</span>      cfBypassFl<span class="p">=</span> false<span class="p">;</span>
  <span class="k">unsigned</span>  sgShapeId <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sg  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">1000.0</span><span class="p">,</span> sgShapeId <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> cf  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotCombFilt&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">5</span><span class="p">,</span> cfBypassFl<span class="p">,</span> cfMinHz<span class="p">,</span> cfFbFl<span class="p">,</span> cfMinHz<span class="p">,</span> cfAlpha <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hz  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotHz&quot</span><span class="p">,</span> <span class="l">25</span><span class="p">,</span> <span class="l">10000</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">1000</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> a   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAlpha&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">2.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> cfAlpha<span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> sg<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> cf<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> cf<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> hz<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> cf<span class="p">,</span> <span class="l">&quothz&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> a<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> cf<span class="p">,</span> <span class="l">&quotalpha&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>  
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_ScalarOp : Scalar operations example program.</div><pre><a name="cmDspPgm_ScalarOp"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_ScalarOp_defn"></a><a name="_cmDspSysPgm_ScalarOp"></a><span class="f">_cmDspSysPgm_ScalarOp</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> add   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotScalarOp&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quot+&quot</span><span class="p">,</span>  <span class="l">&quotin-0&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mul0  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotScalarOp&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quot*$&quot</span><span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mul1  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotScalarOp&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quot*&quot</span><span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotInput&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in_m  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotInput_M&quot</span><span class="p">,</span>    <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fb    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotFeedback&quot</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fb_m  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotFeedback_M&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> out   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOut&quot</span><span class="p">,</span>        <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <span class="c">// Notice that changing 'in' or 'in_m' causes 'out' to be recomputed, but other
  // changes are cached prior to 'add'.  This prevents the program from going into
  // an infinite loop.
  //
  //     in   -&ampgt mult0
  //     in_m -&ampgt mult0--+
  // +--&ampgtfb   -&ampgt mult1  +----&ampgt add
  // |   fb_m -&ampgt mult1-------&ampgt add --------+------&ampgt out
  // |                                     |
  // +-------------------------------------+
  //</span>  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in<span class="p">,</span>    <span class="l">&quotval&quot</span><span class="p">,</span> mul0<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in_m<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> mul0<span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> fb<span class="p">,</span>    <span class="l">&quotval&quot</span><span class="p">,</span> mul1<span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> fb_m<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> mul1<span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> mul0<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> add<span class="p">,</span>  <span class="l">&quotin-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> mul1<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> add<span class="p">,</span>  <span class="l">&quotin-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> add<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span> fb<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> add<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span> out<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_RingMod : Ring modulation example program.</div><pre><a name="cmDspPgm_RingMod"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_RingMod_defn"></a><a name="_cmDspSysPgm_RingMod"></a><span class="f">_cmDspSysPgm_RingMod</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc          <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <a href="cmErr_h_0.html#cmErr_t">cmErr_t</a>         err<span class="p">;</span>
  <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span>        <a href="cmProcObj_h_0.html#cmCtx">cmCtx</a>       <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysPgmCtx">cmDspSysPgmCtx</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
  <span class="k">unsigned</span>        chCnt       <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">unsigned</span>        nsChCnt     <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgPath   <span class="p">=</span> NULL<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgFn     <span class="p">=</span> <span class="l">&quotpick_chs8.js&quot</span><span class="p">;</span>
  <span class="k">unsigned</span>        groupCnt    <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  <span class="k">unsigned</span>        chsPerGroup <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  <a href="cmFloatTypes_h_0.html#cmReal_t">cmReal_t</a>        fadeTimeMs  <span class="p">=</span> <span class="l">25</span><span class="p">;</span>
  <span class="k">unsigned</span>        i<span class="p">,</span>j<span class="p">,</span>k<span class="p">;</span>
  
  
  <a href="cmErr_h_0.html#cmErrSetup">cmErrSetup</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><span class="p">&amp</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">-</span><span class="p">&gt</span>rpt<span class="p">,</span><span class="l">&quotPickup Effects&quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// prepend the prefs directory to the ch. cfg filename </span>
  chCfgPath <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsPrefsDir">cmFsPrefsDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>chCfgFn<span class="p">,</span>NULL<span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  
  <span class="c">// get the count of channels from the ch. cfg. array</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span> chCnt <span class="p">=</span> <a href="cmProc3_h_0.html#cmChCfgChannelCount">cmChCfgChannelCount</a><span class="p">(</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">,</span>chCfgFn<span class="p">,</span><span class="p">&amp</span>nsChCnt<span class="p">)</span><span class="p">)</span> <span class="p">=</span><span class="p">=</span> <span class="l">0</span> <span class="p">)</span>
  <span class="p">{</span>
    rc <span class="p">=</span> <a href="cmErr_h_0.html#cmErrMsg">cmErrMsg</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><a href="cmDspClass_h_0.html#kPgmCfgFailDspRC">kPgmCfgFailDspRC</a><span class="p">,</span><span class="l">&quotUnable to obtain the channel count from '%s'.&quot</span><span class="p">,</span><a href="cmGlobal_h_0.html#cmStringNullGuard">cmStringNullGuard</a><span class="p">(</span>chCfgFn<span class="p">)</span><span class="p">)</span><span class="p">;</span>
    goto errLabel<span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">if</span><span class="p">(</span> rc <span class="p">=</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
  <span class="p">{</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ain<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ef<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtr<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> nom<span class="p">[</span>groupCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rm<span class="p">[</span>groupCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> nm_mtr<span class="p">[</span>groupCnt<span class="p">*</span>chsPerGroup<span class="p">]</span><span class="p">;</span>
    <span class="k">unsigned</span> labelCharCnt <span class="p">=</span> <span class="l">31</span><span class="p">;</span>
    <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a> label<span class="p">[</span>labelCharCnt<span class="p">+</span><span class="l">1</span><span class="p">]</span><span class="p">;</span>
    
    <span class="c">// allocate the audio inputs and envelope followers</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      snprintf<span class="p">(</span>label<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quot%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
      
      ain<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioIn">cmDspSysAllocAudioIn</a><span class="p">(</span>  h<span class="p">,</span> i<span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
      ef<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotEnvFollow&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
      mtr<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMeter&quot</span><span class="p">,</span>     label<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <span class="p">}</span>
    
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gs <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotGroupSel&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> chCnt<span class="p">,</span> groupCnt<span class="p">,</span> chsPerGroup <span class="p">)</span><span class="p">;</span>
    
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>groupCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      nom<span class="p">[</span>i<span class="p">]</span> <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotAudioNofM&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> chCnt<span class="p">,</span> chsPerGroup<span class="p">,</span> fadeTimeMs <span class="p">)</span><span class="p">;</span>
      rm<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotRingMod&quot</span><span class="p">,</span>   NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> chsPerGroup <span class="p">)</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">,</span>k<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>groupCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">50</span><span class="p">)</span><span class="p">;</span>
      snprintf<span class="p">(</span>label<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quot%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
      <a href="cmDspSys_h_0.html#cmDspSysAllocLabel">cmDspSysAllocLabel</a><span class="p">(</span>h<span class="p">,</span>label<span class="p">,</span><a href="cmMsgProtocol_h_0.html#kLeftAlignDuiId">kLeftAlignDuiId</a> <span class="p">)</span><span class="p">;</span>
      
      <span class="k">for</span><span class="p">(</span>j<span class="p">=</span><span class="l">0</span><span class="p">;</span> j<span class="p">&lt</span>chsPerGroup<span class="p">;</span> <span class="p">+</span><span class="p">+</span>j<span class="p">,</span><span class="p">+</span><span class="p">+</span>k<span class="p">)</span>
      <span class="p">{</span>        
        snprintf<span class="p">(</span>label<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quot%i&quot</span><span class="p">,</span>j<span class="p">)</span><span class="p">;</span>
        nm_mtr<span class="p">[</span>k<span class="p">]</span> <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotMeter&quot</span><span class="p">,</span> label<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
      <span class="p">}</span> 
    <span class="p">}</span>
    assert<span class="p">(</span>k<span class="p">=</span><span class="p">=</span>groupCnt<span class="p">*</span>chsPerGroup<span class="p">)</span><span class="p">;</span>
    
    <span class="c">// allocate the ch cfg last so that it's default outputs initialize connected objects
    //<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* chCfg  = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>( h, &ampquotChCfg&ampquot,    NULL,     1, chCfgFn );  </span>    
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mix    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span>     NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> groupCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    
    <span class="c">// check for allocation errors</span>
    <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
      goto errLabel<span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span> h<span class="p">,</span> ain<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ef<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // ain -&ampgt EF </span>
    
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>groupCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN11N">cmDspSysConnectAudioN11N</a><span class="p">(</span> h<span class="p">,</span> ain<span class="p">,</span>    <span class="l">&quotout&quot</span><span class="p">,</span> nom<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
      <a href="cmDspSys_h_0.html#cmDspSysConnectAudio1N1N">cmDspSysConnectAudio1N1N</a><span class="p">(</span> h<span class="p">,</span> nom<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> rm<span class="p">[</span>i<span class="p">]</span><span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span> chsPerGroup<span class="p">)</span><span class="p">;</span>
      
      snprintf<span class="p">(</span>label<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quotgate-%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
      <a href="cmDspSys_h_0.html#cmDspSysInstallCb1N1N">cmDspSysInstallCb1N1N</a><span class="p">(</span> h<span class="p">,</span> gs<span class="p">,</span> label<span class="p">,</span> nom<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotgate&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
      
      <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span> h<span class="p">,</span> nom<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> nm_mtr <span class="p">+</span> i <span class="p">*</span> chsPerGroup<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> chsPerGroup<span class="p">)</span><span class="p">;</span>
    <span class="p">}</span>
    
    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN11N">cmDspSysConnectAudioN11N</a><span class="p">(</span> h<span class="p">,</span> rm<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  mix<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> groupCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ao0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // mix -&ampgt aout L </span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ao1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // mix -&ampgt aout R</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span> <span class="l">&quotgate&quot</span><span class="p">,</span>  gs<span class="p">,</span>   <span class="l">&quotgate&quot</span><span class="p">,</span>   chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // EF -&ampgt grp_sel gate</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span> <span class="l">&quotrms&quot</span><span class="p">,</span>   gs<span class="p">,</span>   <span class="l">&quotrms&quot</span><span class="p">,</span>    chCnt <span class="p">)</span><span class="p">;</span>   <span class="c"> // EF -&ampgt grp_sel RMS</span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>   h<span class="p">,</span> ef<span class="p">,</span> <span class="l">&quotgate&quot</span><span class="p">,</span>  mtr<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>     chCnt <span class="p">)</span><span class="p">;</span>
  <span class="p">}</span>
  
  errLabel<span class="p">:</span>
  <a href="cmFileSys_h_0.html#cmFsFreeFn">cmFsFreeFn</a><span class="p">(</span>chCfgPath<span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_RingMod2 : Ring modulation example program.</div><pre><a name="cmDspPgm_RingMod2"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_RingMod2_defn"></a><a name="_cmDspSysPgm_RingMod2"></a><span class="f">_cmDspSysPgm_RingMod2</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc          <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <a href="cmErr_h_0.html#cmErr_t">cmErr_t</a>         err<span class="p">;</span>
  <a href="cmCtx_h_0.html#cmCtx_t">cmCtx_t</a><span class="p">*</span>        <a href="cmProcObj_h_0.html#cmCtx">cmCtx</a>       <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysPgmCtx">cmDspSysPgmCtx</a><span class="p">(</span>h<span class="p">)</span><span class="p">;</span>
  <span class="k">unsigned</span>        iChCnt       <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">unsigned</span>        oChCnt       <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">unsigned</span>        nsChCnt      <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgPath   <span class="p">=</span> NULL<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> chCfgFn     <span class="p">=</span> <span class="l">&quotpick_chs8.js&quot</span><span class="p">;</span>
  <span class="k">unsigned</span>        i<span class="p">;</span>
  
  <a href="cmErr_h_0.html#cmErrSetup">cmErrSetup</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><span class="p">&amp</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">-</span><span class="p">&gt</span>rpt<span class="p">,</span><span class="l">&quotPickup Effects&quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// prepend the prefs directory to the ch. cfg filename </span>
  chCfgPath <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsPrefsDir">cmFsPrefsDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>chCfgFn<span class="p">,</span>NULL<span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  
  <span class="c">// get the count of channels from the ch. cfg. array</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span> iChCnt <span class="p">=</span> <a href="cmProc3_h_0.html#cmChCfgChannelCount">cmChCfgChannelCount</a><span class="p">(</span><a href="cmProcObj_h_0.html#cmCtx">cmCtx</a><span class="p">,</span>chCfgFn<span class="p">,</span><span class="p">&amp</span>nsChCnt<span class="p">)</span><span class="p">)</span> <span class="p">=</span><span class="p">=</span> <span class="l">0</span> <span class="p">)</span>
  <span class="p">{</span>
    rc <span class="p">=</span> <a href="cmErr_h_0.html#cmErrMsg">cmErrMsg</a><span class="p">(</span><span class="p">&amp</span>err<span class="p">,</span><a href="cmDspClass_h_0.html#kPgmCfgFailDspRC">kPgmCfgFailDspRC</a><span class="p">,</span><span class="l">&quotUnable to obtain the channel count from '%s'.&quot</span><span class="p">,</span><a href="cmGlobal_h_0.html#cmStringNullGuard">cmStringNullGuard</a><span class="p">(</span>chCfgFn<span class="p">)</span><span class="p">)</span><span class="p">;</span>
    goto errLabel<span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">if</span><span class="p">(</span> rc <span class="p">=</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">&amp</span><span class="p">&amp</span> iChCnt <span class="p">&gt</span> <span class="l">0</span> <span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span> iChCnt <span class="p">%</span> <span class="l">2</span> <span class="p">)</span>
      iChCnt <span class="p">-</span><span class="p">=</span> <span class="l">1</span><span class="p">;</span>
    
    oChCnt <span class="p">=</span> iChCnt<span class="p">/</span><span class="l">2</span><span class="p">;</span>
    
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ain<span class="p">[</span>iChCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ef<span class="p">[</span>iChCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtr<span class="p">[</span>iChCnt<span class="p">]</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rm<span class="p">[</span>oChCnt<span class="p">]</span><span class="p">;</span>
    <span class="k">unsigned</span>     labelCharCnt <span class="p">=</span> <span class="l">31</span><span class="p">;</span>
    <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>     label<span class="p">[</span>labelCharCnt<span class="p">+</span><span class="l">1</span><span class="p">]</span><span class="p">;</span>
    
    <span class="c">// allocate the audio inputs and envelope followers</span>
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>iChCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      snprintf<span class="p">(</span>label<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quot%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>
      
      ain<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioIn">cmDspSysAllocAudioIn</a><span class="p">(</span>  h<span class="p">,</span> i<span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
      ef<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotEnvFollow&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
      mtr<span class="p">[</span>i<span class="p">]</span>  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMeter&quot</span><span class="p">,</span>     label<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>oChCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      rm<span class="p">[</span>i<span class="p">]</span>   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotRingMod&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">2</span> <span class="p">)</span><span class="p">;</span>
    <span class="p">}</span>
    
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gain   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotRM Gain&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mix    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span>     NULL<span class="p">,</span>     <span class="l">1</span><span class="p">,</span> oChCnt <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
    
    <span class="c">// check for allocation errors</span>
    <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
      goto errLabel<span class="p">;</span>
    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN1N1">cmDspSysConnectAudioN1N1</a><span class="p">(</span> h<span class="p">,</span> ain<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ef<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>   iChCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // ain -&ampgt EF </span>
    <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span>    h<span class="p">,</span> ef<span class="p">,</span>  <span class="l">&quotgate&quot</span><span class="p">,</span> mtr<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>   iChCnt <span class="p">)</span><span class="p">;</span> <span class="c"> // EF -&ampgt mtr (gate)</span>
    
    <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>oChCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    <span class="p">{</span>
      <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> ain<span class="p">[</span>i<span class="p">*</span><span class="l">2</span><span class="p">+</span><span class="l">0</span><span class="p">]</span><span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> rm<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">)</span><span class="p">;</span>   <span class="c"> // ain -&ampgt rm 0</span>
      <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> ain<span class="p">[</span>i<span class="p">*</span><span class="l">2</span><span class="p">+</span><span class="l">1</span><span class="p">]</span><span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> rm<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">)</span><span class="p">;</span>   <span class="c"> // ain -&ampgt rm 1</span>
      
      snprintf<span class="p">(</span>label<span class="p">,</span>labelCharCnt<span class="p">,</span><span class="l">&quotin-%i&quot</span><span class="p">,</span>i<span class="p">)</span><span class="p">;</span>              
      <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> rm<span class="p">[</span>i<span class="p">]</span><span class="p">,</span>      <span class="l">&quotout&quot</span><span class="p">,</span> mix<span class="p">,</span>   label<span class="p">)</span><span class="p">;</span>   <span class="c"> // rm -&ampgt mix</span>
      
      <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> gain<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> rm<span class="p">[</span>i<span class="p">]</span><span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>     <span class="c"> // gain -&ampgt rm gain</span>
    <span class="p">}</span>
    
    
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ao0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // mix -&ampgt aout L </span>
    <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>     h<span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  ao1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">)</span><span class="p">;</span>           <span class="c"> // mix -&ampgt aout R</span>
    
    
  <span class="p">}</span>
  
  errLabel<span class="p">:</span>
  <a href="cmFileSys_h_0.html#cmFsFreeFn">cmFsFreeFn</a><span class="p">(</span>chCfgPath<span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_MsgDelay : Message delay example program.</div><pre><a name="cmDspPgm_MsgDelay"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_MsgDelay_defn"></a><a name="_cmDspSysPgm_MsgDelay"></a><span class="f">_cmDspSysPgm_MsgDelay</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc              <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">double</span>    dfltDelayTimeMs <span class="p">=</span> <span class="l">100.0</span><span class="p">;</span>
  <span class="k">double</span>    maxDelayTimeMs  <span class="p">=</span> <span class="l">10000.0</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ctl   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotDelay&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> maxDelayTimeMs<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> dfltDelayTimeMs <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dly   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotMsgDelay&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">1000</span><span class="p">,</span> dfltDelayTimeMs <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> <a href="cmMain_c_0.html#print">print</a> <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot&gt&quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="k">if</span><span class="p">(</span> <span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    <span class="k">return</span> rc<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> ctl<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  dly<span class="p">,</span>   <span class="l">&quotdelay&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> ctl<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  dly<span class="p">,</span>   <span class="l">&quotin&quot</span><span class="p">,</span>    NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> dly<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> <a href="cmMain_c_0.html#print">print</a><span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>    NULL <span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Adsr : ADSR envelope generator example program.</div><pre><a name="cmDspPgm_Adsr"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Adsr_defn"></a><a name="_cmDspSysPgm_Adsr"></a><span class="f">_cmDspSysPgm_Adsr</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  <span class="k">bool</span>   trigModeFl <span class="p">=</span> true<span class="p">;</span>
  <span class="k">double</span> adsrMaxMs <span class="p">=</span> <span class="l">5000</span><span class="p">;</span>
  <span class="k">double</span> adsrMinMs <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">double</span> adsrIncMs <span class="p">=</span> <span class="l">1</span><span class="p">;</span>
  <span class="k">double</span> adsrMaxLevel <span class="p">=</span> <span class="l">100.0</span><span class="p">;</span> <span class="c"> // 1.0;</span>
  <span class="k">double</span> adsrSusLevel <span class="p">=</span>  <span class="l">80.0</span><span class="p">;</span> <span class="c"> // 0.8;</span>
  <span class="k">double</span> adsrMinLevel <span class="p">=</span>  <span class="l">0.0</span><span class="p">;</span> <span class="c"> // 0.0;</span>
  
  <span class="k">double</span> adsrIncLevel <span class="p">=</span> <span class="l">0.001</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn <span class="p">=</span> <span class="l">&quot/home/kevin/temp/adsr1.bin&quot</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> adsr <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotAdsr&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> trigModeFl<span class="p">,</span> adsrMinLevel <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chck <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocCheck">cmDspSysAllocCheck</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotGate&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtr   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMeter&quot</span><span class="p">,</span><span class="l">&quotOut&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> adsrMinLevel<span class="p">,</span> adsrMinLevel<span class="p">,</span> adsrMaxLevel <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> bmf   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotBinMtxFile&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> fn <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dly   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotDly Ms&quot</span><span class="p">,</span>  adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> atk   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAtk Ms&quot</span><span class="p">,</span>  adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">1000.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dcy   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotDcy Ms&quot</span><span class="p">,</span>  adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">300.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hold  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotHold Ms&quot</span><span class="p">,</span> adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">500.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rls   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotRls Ms&quot</span><span class="p">,</span>  adsrMinMs<span class="p">,</span>   adsrMaxMs<span class="p">,</span>   adsrIncMs<span class="p">,</span> <span class="l">1000.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> alvl  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAdsrMax&quot</span><span class="p">,</span> adsrMinLevel<span class="p">,</span>adsrMaxLevel<span class="p">,</span>adsrIncLevel<span class="p">,</span> adsrMaxLevel<span class="p">)</span><span class="p">;</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sus   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSustain&quot</span><span class="p">,</span> adsrMinLevel<span class="p">,</span>adsrMaxLevel<span class="p">,</span>adsrIncLevel<span class="p">,</span> adsrSusLevel<span class="p">)</span><span class="p">;</span>  
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> dly<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quotdly&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> atk<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quotatk&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> dcy<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quotdcy&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> hold<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quothold&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> rls<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quotrls&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> alvl<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quotalvl&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> sus<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quotsus&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> chck<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quotgate&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> mtr<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>   NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> adsr<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> bmf<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>



<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Adsr : Dynamics compressor example program.</div><pre><a name="cmDspPgm_Adsr"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Compressor_defn"></a><a name="_cmDspSysPgm_Compressor"></a><span class="f">_cmDspSysPgm_Compressor</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> ofn       <span class="p">=</span> <span class="l">&quot/home/kevin/temp/adsr0.bin&quot</span><span class="p">;</span>
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span>     afn0      <span class="p">=</span> <span class="l">&quotmedia/audio/20110723-Kriesberg/Audio Files/Piano 3_01.wav&quot</span><span class="p">;</span>
  <span class="k">int</span>             beg       <span class="p">=</span> <span class="l">6900826</span><span class="p">;</span>
  <span class="k">int</span>             end       <span class="p">=</span> <span class="l">13512262</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> afn       <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>afn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  <span class="k">bool</span>            bypassFl  <span class="p">=</span> false<span class="p">;</span>
  <span class="k">double</span>          inGain    <span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  <span class="k">double</span>          threshDb  <span class="p">=</span> <span class="l">-40.0</span><span class="p">;</span>
  <span class="k">double</span>          ratio_num <span class="p">=</span> <span class="l">4.0</span><span class="p">;</span>
  <span class="k">double</span>          atkMs     <span class="p">=</span> <span class="l">100.0</span><span class="p">;</span>
  <span class="k">double</span>          rlsMs     <span class="p">=</span> <span class="l">100.0</span><span class="p">;</span>
  <span class="k">double</span>          makeup    <span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  <span class="k">double</span>          wndMaxMs  <span class="p">=</span> <span class="l">1000.0</span><span class="p">;</span>
  <span class="k">double</span>          wndMs     <span class="p">=</span> <span class="l">200.0</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> off <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotOffset&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">*</span><span class="l">600.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> phs <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>   NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wt  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> afn<span class="p">,</span> <span class="l">-1</span><span class="p">,</span> beg<span class="p">,</span> end <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> cmp <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotCompressor&quot</span><span class="p">,</span>NULL<span class="p">,</span> <span class="l">8</span><span class="p">,</span> bypassFl<span class="p">,</span> threshDb<span class="p">,</span> ratio_num<span class="p">,</span> atkMs<span class="p">,</span> rlsMs<span class="p">,</span> makeup<span class="p">,</span> wndMs<span class="p">,</span> wndMaxMs <span class="p">)</span><span class="p">;</span> 
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> bmf   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotBinMtxFile&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> ofn <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtr   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotMeter&quot</span><span class="p">,</span><span class="l">&quotEnv&quot</span><span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> igain <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotIn Gain&quot</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">,</span>   <span class="l">10.0</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> inGain<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> thr   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotThreshDb&quot</span><span class="p">,</span> <span class="l">-100.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> threshDb<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rat   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotRatio&quot</span><span class="p">,</span>    <span class="l">0.1</span><span class="p">,</span> <span class="l">100</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> ratio_num<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> atk   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAtk Ms&quot</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span> <span class="l">1000.0</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> atkMs<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rls   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotRls Ms&quot</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span> <span class="l">1000.0</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> rlsMs<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mkup  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMakeup&quot</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span>   <span class="l">0.01</span><span class="p">,</span> makeup<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wnd   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotWnd Ms&quot</span><span class="p">,</span>   <span class="l">1.0</span><span class="p">,</span> wndMaxMs<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> wndMs <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> phs<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wt<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // wave table -&ampgt cmp in</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // comp -&ampgt aout</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> off<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> wt<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> igain<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotigain&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> thr<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotthr&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> rat<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotratio&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> atk<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotatk&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> rls<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotrls&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mkup<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotogain&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> wnd<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> cmp<span class="p">,</span> <span class="l">&quotwnd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> cmp<span class="p">,</span>  <span class="l">&quotenv&quot</span><span class="p">,</span> bmf<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> cmp<span class="p">,</span>  <span class="l">&quotenv&quot</span><span class="p">,</span> mtr<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_BiQuadEq : Biquad EQ example program.</div><pre><a name="cmDspPgm_BiQuadEq"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_BiQuadEq_defn"></a><a name="_cmDspSysPgm_BiQuadEq"></a><span class="f">_cmDspSysPgm_BiQuadEq</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc        <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span>     afn0      <span class="p">=</span> <span class="l">&quotmedia/audio/20110723-Kriesberg/Audio Files/Piano 3_01.wav&quot</span><span class="p">;</span>
  <span class="k">int</span>             beg       <span class="p">=</span> <span class="l">6900826</span><span class="p">;</span>
  <span class="k">int</span>             end       <span class="p">=</span> <span class="l">13512262</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> afn       <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>afn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  <span class="k">bool</span>            bypassFl  <span class="p">=</span> false<span class="p">;</span>
  <span class="k">unsigned</span>        modeSymId <span class="p">=</span> <a href="cmSymTbl_h_0.html#cmSymTblRegisterStaticSymbol">cmSymTblRegisterStaticSymbol</a><span class="p">(</span><a href="cmDspSys_h_0.html#cmDspSysSymbolTable">cmDspSysSymbolTable</a><span class="p">(</span>h<span class="p">)</span><span class="p">,</span><span class="l">&quotLP&quot</span><span class="p">)</span><span class="p">;</span>
  <span class="k">double</span>          f0hz      <span class="p">=</span> <span class="l">264.0</span><span class="p">;</span>
  <span class="k">double</span>          Q         <span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  <span class="k">double</span>          fgain     <span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> off <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotOffset&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">*</span><span class="l">600.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> phs <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>   NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wt  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> afn<span class="p">,</span> <span class="l">-1</span><span class="p">,</span> beg<span class="p">,</span> end <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> flt <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotBiQuadEq&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">5</span><span class="p">,</span> bypassFl<span class="p">,</span> modeSymId<span class="p">,</span>f0hz<span class="p">,</span> Q<span class="p">,</span> fgain  <span class="p">)</span><span class="p">;</span> 
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mode  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotMode&quot</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotbiQuadEqMode&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fhz   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotFc Hz&quot</span><span class="p">,</span>       <span class="l">0.0</span><span class="p">,</span> <span class="l">15000.0</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> f0hz<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> q     <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotQ&quot</span><span class="p">,</span>          <span class="l">-100.0</span><span class="p">,</span> <span class="l">100</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span>   Q<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fgn   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotFilt Gain&quot</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> fgain<span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> phs<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wt<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> flt<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // wave table -&ampgt cmp in</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> flt<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // filter -&ampgt aout</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> flt<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> off<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> wt<span class="p">,</span>  <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> mode<span class="p">,</span><span class="l">&quotmode&quot</span><span class="p">,</span>flt<span class="p">,</span> <span class="l">&quotmode&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fhz<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> flt<span class="p">,</span> <span class="l">&quotf0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> q<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span> flt<span class="p">,</span> <span class="l">&quotQ&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fgn<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> flt<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_DistDs : Guitar distortion example program.</div><pre><a name="cmDspPgm_DistDs"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_DistDs_defn"></a><a name="_cmDspSysPgm_DistDs"></a><span class="f">_cmDspSysPgm_DistDs</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc        <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span>     afn0      <span class="p">=</span> <span class="l">&quotmedia/audio/20110723-Kriesberg/Audio Files/Piano 3_01.wav&quot</span><span class="p">;</span>
  <span class="k">int</span>             beg       <span class="p">=</span> <span class="l">6900826</span><span class="p">;</span>
  <span class="k">int</span>             end       <span class="p">=</span> <span class="l">13512262</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> afn       <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>afn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  <span class="k">bool</span>            bypassFl  <span class="p">=</span> false<span class="p">;</span>
  <span class="k">double</span>          inGain    <span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  <span class="k">double</span>          dsrate    <span class="p">=</span> <span class="l">44100.0</span><span class="p">;</span>
  <span class="k">double</span>          bits      <span class="p">=</span> <span class="l">24.0</span><span class="p">;</span>
  <span class="k">bool</span>            rectifyFl <span class="p">=</span> false<span class="p">;</span>
  <span class="k">bool</span>            fullRectFl <span class="p">=</span> false<span class="p">;</span>
  <span class="k">double</span>          clipDb     <span class="p">=</span> <span class="l">-10.0</span><span class="p">;</span>
  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> off <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotOffset&quot</span><span class="p">,</span>  <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">*</span><span class="l">600.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> phs <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPhasor&quot</span><span class="p">,</span>   NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wt  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotWaveTable&quot</span><span class="p">,</span>NULL<span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> afn<span class="p">,</span> <span class="l">-1</span><span class="p">,</span> beg<span class="p">,</span> end <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dst <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotDistDs&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">3</span><span class="p">,</span> bypassFl<span class="p">,</span> inGain<span class="p">,</span> dsrate<span class="p">,</span> bits  <span class="p">)</span><span class="p">;</span> 
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ign   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotIn Gain&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rct   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocCheck">cmDspSysAllocCheck</a><span class="p">(</span>  h<span class="p">,</span> <span class="l">&quotRectify&quot</span><span class="p">,</span>   rectifyFl<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ful   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocCheck">cmDspSysAllocCheck</a><span class="p">(</span>  h<span class="p">,</span> <span class="l">&quotFull/Half&quot</span><span class="p">,</span> fullRectFl<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dsr   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSrate&quot</span><span class="p">,</span>        <span class="l">0.0</span><span class="p">,</span> <span class="l">96000</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> dsrate<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dbt   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotbits&quot</span><span class="p">,</span>         <span class="l">2.0</span><span class="p">,</span>  <span class="l">32.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> bits<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> clip  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotClip dB&quot</span><span class="p">,</span>   <span class="l">-100.0</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span> <span class="l">0.1</span><span class="p">,</span> clipDb<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ogn   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOut Gain&quot</span><span class="p">,</span>    <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> phs<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> wt<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wt<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // wave table -&ampgt cmp in</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao0<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // filter -&ampgt aout</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> ao1<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> off<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> wt<span class="p">,</span>  <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ign<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotigain&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> dsr<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotsrate&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> dbt<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotbits&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> rct<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotrect&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ful<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotfull&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> clip<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotclip&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> ogn<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> dst<span class="p">,</span> <span class="l">&quotogain&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Seq : Message list 'seq' mode example program.</div><pre><a name="cmDspPgm_Seq"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Seq_defn"></a><a name="_cmDspSysPgm_Seq"></a><span class="f">_cmDspSysPgm_Seq</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  <span class="k">double</span> min <span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  <span class="k">double</span> max <span class="p">=</span> <span class="l">10.0</span><span class="p">;</span>
  <span class="k">double</span> incr <span class="p">=</span> <span class="l">1.0</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> btn <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotsmack&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> cnt <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotCounter&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">3</span><span class="p">,</span> min<span class="p">,</span> max<span class="p">,</span> incr <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> lst <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotMsgList&quot</span><span class="p">,</span><span class="l">&quotSeq&quot</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotseqTest&quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> prt <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot&gt&quot</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotcnt&quot</span><span class="p">,</span>  cnt<span class="p">,</span> <span class="l">&quotmax&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> btn<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  cnt<span class="p">,</span> <span class="l">&quotnext&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> cnt<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>  lst<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> lst<span class="p">,</span> <span class="l">&quotmidi&quot</span><span class="p">,</span> prt<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_ThunkNet : UDP network receiver example program.</div><pre><a name="cmDspPgm_ThunkNet"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_ThunkNet_defn"></a><a name="_cmDspSysPgm_ThunkNet"></a><span class="f">_cmDspSysPgm_ThunkNet</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> add   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotScalarOp&quot</span><span class="p">,</span> <span class="l">&quotadder-0&quot</span><span class="p">,</span>  <span class="l">6</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="l">&quot+&quot</span><span class="p">,</span> <span class="l">&quotin-0&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">&quotin-1&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotInput&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> out   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOut&quot</span><span class="p">,</span>        <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in<span class="p">,</span>    <span class="l">&quotval&quot</span><span class="p">,</span> add<span class="p">,</span>  <span class="l">&quotin-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> add<span class="p">,</span>   <span class="l">&quotout&quot</span><span class="p">,</span> out<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_WhirlNet : UDP network sender example program.</div><pre><a name="cmDspPgm_WhirlNet"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_WhirlNet_defn"></a><a name="_cmDspSysPgm_WhirlNet"></a><span class="f">_cmDspSysPgm_WhirlNet</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotInput&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallNetCb">cmDspSysInstallNetCb</a><span class="p">(</span> h<span class="p">,</span> in<span class="p">,</span>    <span class="l">&quotval&quot</span><span class="p">,</span> <span class="l">&quotthunk&quot</span><span class="p">,</span>  <span class="l">&quotadder-0&quot</span><span class="p">,</span> <span class="l">&quotin-0&quot</span> <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
  
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_NofM : Select NofM example program.</div><pre><a name="cmDspPgm_NofM"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_NofM_defn"></a><a name="_cmDspSysPgm_NofM"></a><span class="f">_cmDspSysPgm_NofM</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  <span class="k">unsigned</span> iChCnt <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  <span class="k">unsigned</span> oChCnt <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  <span class="k">unsigned</span> sgShapeId <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">double</span>  sgGain <span class="p">=</span> <span class="l">0.4</span><span class="p">;</span>
  <span class="k">double</span>  xfadeMs <span class="p">=</span> <span class="l">1000</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> onBtn <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quoton&quot</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> offBtn <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>h<span class="p">,</span> <span class="l">&quotoff&quot</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sg0  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">500.0</span><span class="p">,</span> sgShapeId<span class="p">,</span> sgGain <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sg1  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">1000.0</span><span class="p">,</span> sgShapeId<span class="p">,</span> sgGain <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sg2  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">2000.0</span><span class="p">,</span> sgShapeId<span class="p">,</span> sgGain <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> nom  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span><span class="l">&quotNofM&quot</span><span class="p">,</span>     NULL<span class="p">,</span>   <span class="l">3</span><span class="p">,</span> iChCnt<span class="p">,</span> oChCnt<span class="p">,</span> xfadeMs <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mix  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> oChCnt  <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span>h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span> 
  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> btn <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotcfg&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sel0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocCheck">cmDspSysAllocCheck</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotSel-0&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sel1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocCheck">cmDspSysAllocCheck</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotSel-1&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sel2 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocCheck">cmDspSysAllocCheck</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotSel-2&quot</span><span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in0  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotIn-0&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in1  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotIn-1&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in2  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotIn-2&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> out0  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOut-0&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> out1  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOut-1&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> sg0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quota-in-0&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> sg1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quota-in-1&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> sg2<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quota-in-2&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> nom<span class="p">,</span> <span class="l">&quota-out-0&quot</span><span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotin-0&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> nom<span class="p">,</span> <span class="l">&quota-out-1&quot</span><span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotin-1&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span> h<span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>     ao<span class="p">,</span>  <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> btn<span class="p">,</span>  <span class="l">&quotsym&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> sel0<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotsel-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> sel1<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotsel-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> sel2<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotsel-2&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in0<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotf-in-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in1<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotf-in-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in2<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotf-in-2&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotf-out-0&quot</span><span class="p">,</span> out0<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotf-out-1&quot</span><span class="p">,</span> out1<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> onBtn<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> offBtn<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span> nom<span class="p">,</span> <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_1ofM : Select 1 of N example program.</div><pre><a name="cmDspPgm_1ofM"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_1ofN_defn"></a><a name="_cmDspSysPgm_1ofN"></a><span class="f">_cmDspSysPgm_1ofN</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  <span class="k">unsigned</span> inCnt <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  <span class="k">unsigned</span> initSel <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> oom <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quot1ofN&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> inCnt<span class="p">,</span> initSel <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sel  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSel&quot</span><span class="p">,</span>      <span class="l">0</span><span class="p">,</span> inCnt<span class="l">-1</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in0  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotIn-0&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in1  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotIn-1&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in2  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotIn-2&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> out  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOut&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> sel<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> oom<span class="p">,</span> <span class="l">&quotchidx&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in0<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> oom<span class="p">,</span> <span class="l">&quotf-in-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in1<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> oom<span class="p">,</span> <span class="l">&quotf-in-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in2<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> oom<span class="p">,</span> <span class="l">&quotf-in-2&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> oom<span class="p">,</span> <span class="l">&quotf-out&quot</span><span class="p">,</span> out<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Router : Router example program.</div><pre><a name="cmDspPgm_Router"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Router_defn"></a><a name="_cmDspSysPgm_Router"></a><span class="f">_cmDspSysPgm_Router</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  <span class="k">unsigned</span> inCnt <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  <span class="k">unsigned</span> initSel <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rtr <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotRouter&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> inCnt<span class="p">,</span> initSel <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sel  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotSel&quot</span><span class="p">,</span>      <span class="l">0</span><span class="p">,</span> inCnt<span class="l">-1</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> in  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotIn&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> out0  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOut-0&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> out1  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOut-1&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> out2  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotOut-2&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.001</span><span class="p">,</span> <span class="l">0.0</span><span class="p">)</span><span class="p">;</span>  
  
  
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> sel<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> rtr<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> in<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> rtr<span class="p">,</span> <span class="l">&quotf-in&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> rtr<span class="p">,</span> <span class="l">&quotf-out-0&quot</span><span class="p">,</span> out0<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> rtr<span class="p">,</span> <span class="l">&quotf-out-1&quot</span><span class="p">,</span> out1<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> rtr<span class="p">,</span> <span class="l">&quotf-out-2&quot</span><span class="p">,</span> out2<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  
  
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Preset : Preset save/restore example program.</div><pre><a name="cmDspPgm_Preset"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Preset_defn"></a><a name="_cmDspSysPgm_Preset"></a><span class="f">_cmDspSysPgm_Preset</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  
  <span class="k">unsigned</span>        sgShapeId <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">double</span>          sgHz      <span class="p">=</span> <span class="l">500</span><span class="p">;</span>
  <span class="k">double</span>          sgGain    <span class="p">=</span> <span class="l">0.02</span><span class="p">;</span>
  <span class="k">unsigned</span>        grpSymId  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysPresetRegisterGroup">cmDspSysPresetRegisterGroup</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quottest&quot</span><span class="p">)</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> prefixLabel    <span class="p">=</span> NULL<span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sg  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> sgHz<span class="p">,</span> sgShapeId<span class="p">,</span> sgGain <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> shapes <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocMsgListP">cmDspSysAllocMsgListP</a><span class="p">(</span>h<span class="p">,</span> grpSymId<span class="p">,</span> prefixLabel<span class="p">,</span> <span class="l">&quotShape&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">&quotshapeList&quot</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gains  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocMsgListP">cmDspSysAllocMsgListP</a><span class="p">(</span>h<span class="p">,</span> grpSymId<span class="p">,</span> prefixLabel<span class="p">,</span> <span class="l">&quotGains&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">&quotgainMenu&quot</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hz     <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalarP">cmDspSysAllocScalarP</a><span class="p">(</span> h<span class="p">,</span> grpSymId<span class="p">,</span> prefixLabel<span class="p">,</span> <span class="l">&quotHz&quot</span><span class="p">,</span>        <span class="l">0.0</span><span class="p">,</span> <span class="l">10000.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> sgHz<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> gain   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalarP">cmDspSysAllocScalarP</a><span class="p">(</span> h<span class="p">,</span> grpSymId<span class="p">,</span> prefixLabel<span class="p">,</span> <span class="l">&quotGain&quot</span><span class="p">,</span>      <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>     <span class="l">0.01</span><span class="p">,</span> sgGain<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> preset    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotPreset&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> grpSymId <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> presetLbl <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotText&quot</span><span class="p">,</span>   <span class="l">&quotPreset&quot</span><span class="p">,</span>      <span class="l">1</span><span class="p">,</span> <span class="l">&quot&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> storeBtn  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotstore&quot</span><span class="p">,</span>  <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> recallBtn <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotrecall&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> sg<span class="p">,</span>    <span class="l">&quotout&quot</span><span class="p">,</span> ao<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> shapes<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> sg<span class="p">,</span> <span class="l">&quotshape&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> hz<span class="p">,</span>    <span class="l">&quotval&quot</span><span class="p">,</span> sg<span class="p">,</span> <span class="l">&quothz&quot</span><span class="p">,</span>    NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> gain<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> sg<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> gains<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> gain<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> presetLbl<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> preset<span class="p">,</span> <span class="l">&quotlabel&quot</span><span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> storeBtn<span class="p">,</span>  <span class="l">&quotsym&quot</span><span class="p">,</span> preset<span class="p">,</span> <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> recallBtn<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span> preset<span class="p">,</span> <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_RsrcWr : Set a resource value example program.</div><pre><a name="cmDspPgm_RsrcWr"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_RsrcWr_defn"></a><a name="_cmDspSysPgm_RsrcWr"></a><span class="f">_cmDspSysPgm_RsrcWr</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>    rc      <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> lbl1 <span class="p">=</span> <span class="l">&quotrsrc1&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> lbl2 <span class="p">=</span> <span class="l">&quotrsrc2&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> str1 <span class="p">=</span> NULL<span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> str2 <span class="p">=</span> NULL<span class="p">;</span>
  
  <span class="k">if</span><span class="p">(</span> <a href="cmDspSys_h_0.html#cmDspRsrcString">cmDspRsrcString</a><span class="p">(</span>h<span class="p">,</span><span class="p">&amp</span>str1<span class="p">,</span> lbl1<span class="p">,</span> NULL <span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    str1 <span class="p">=</span> <span class="l">&quot1&quot</span><span class="p">;</span>
  
  <span class="k">if</span><span class="p">(</span> <a href="cmDspSys_h_0.html#cmDspRsrcString">cmDspRsrcString</a><span class="p">(</span>h<span class="p">,</span><span class="p">&amp</span>str2<span class="p">,</span> lbl2<span class="p">,</span> NULL <span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    str2 <span class="p">=</span> <span class="l">&quot2&quot</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rsrcWr  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotRsrcWr&quot</span><span class="p">,</span> NULL<span class="p">,</span>    <span class="l">2</span><span class="p">,</span> lbl1<span class="p">,</span> lbl2 <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> textUi0 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotText&quot</span><span class="p">,</span>   <span class="l">&quotValue1&quot</span><span class="p">,</span>      <span class="l">1</span><span class="p">,</span> str1 <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> textUi1 <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotText&quot</span><span class="p">,</span>   <span class="l">&quotValue2&quot</span><span class="p">,</span>      <span class="l">1</span><span class="p">,</span> str2 <span class="p">)</span><span class="p">;</span>
  
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> textUi0<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> rsrcWr<span class="p">,</span> <span class="l">&quotrsrc1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> textUi1<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> rsrcWr<span class="p">,</span> <span class="l">&quotrsrc2&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_1Up : 1Up example program.</div><pre><a name="cmDspPgm_1Up"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_1Up_defn"></a><a name="_cmDspSysPgm_1Up"></a><span class="f">_cmDspSysPgm_1Up</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  <span class="k">unsigned</span> chCnt <span class="p">=</span> <span class="l">3</span><span class="p">;</span>
  <span class="k">double</span>   maxIdx <span class="p">=</span> chCnt <span class="p">-</span> <span class="l">1</span><span class="p">;</span>
  <span class="k">unsigned</span> initIdx <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sel  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotChan&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> maxIdx<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> up   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quot1Up&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> chCnt<span class="p">,</span> initIdx <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pr0  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot0:&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pr1  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot1:&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pr2  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot2:&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> sel<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> up<span class="p">,</span> <span class="l">&quotsel&quot</span><span class="p">,</span>NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> up<span class="p">,</span>  <span class="l">&quotout-0&quot</span><span class="p">,</span> pr0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> up<span class="p">,</span>  <span class="l">&quotout-1&quot</span><span class="p">,</span> pr1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> up<span class="p">,</span>  <span class="l">&quotout-2&quot</span><span class="p">,</span> pr2<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_PortToSym : PortToSym example program.</div><pre><a name="cmDspPgm_PortToSym"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_PortToSym_defn"></a><a name="_cmDspSysPgm_PortToSym"></a><span class="f">_cmDspSysPgm_PortToSym</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  inst_t<span class="p">*</span> btn0  <span class="p">=</span> button<span class="p">(</span> <span class="l">&quotBtn0&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  inst_t<span class="p">*</span> btn1  <span class="p">=</span> button<span class="p">(</span> <span class="l">&quotBtn1&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  inst_t<span class="p">*</span> btn2  <span class="p">=</span> button<span class="p">(</span> <span class="l">&quotBtn2&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>  
  
  inst_t<span class="p">*</span> pts   <span class="p">=</span> inst<span class="p">(</span> <span class="l">&quotPortToSym&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">&quotone&quot</span><span class="p">,</span> <span class="l">&quottwo&quot</span><span class="p">,</span> <span class="l">&quotthree&quot</span><span class="p">)</span><span class="p">;</span>
  
  inst_t<span class="p">*</span> pr0  <span class="p">=</span> inst<span class="p">(</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">&quotsym:&quot</span> <span class="p">)</span><span class="p">;</span>
  inst_t<span class="p">*</span> pr1  <span class="p">=</span> inst<span class="p">(</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">&quotbtn:&quot</span> <span class="p">)</span><span class="p">;</span>
  inst_t<span class="p">*</span> pr2  <span class="p">=</span> inst<span class="p">(</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">&quotout:&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  event<span class="p">(</span> btn0<span class="p">,</span> out<span class="p">,</span> pts<span class="p">,</span> one <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> btn1<span class="p">,</span> out<span class="p">,</span> pts<span class="p">,</span> two <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> btn2<span class="p">,</span> out<span class="p">,</span> pts<span class="p">,</span> three <span class="p">)</span><span class="p">;</span>
  
  event<span class="p">(</span> btn0<span class="p">,</span> out<span class="p">,</span> pr1<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> btn1<span class="p">,</span> out<span class="p">,</span> pr1<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> btn2<span class="p">,</span> out<span class="p">,</span> pr1<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  
  event<span class="p">(</span> pts<span class="p">,</span>  one<span class="p">,</span>   pr0<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> pts<span class="p">,</span>  two<span class="p">,</span>   pr0<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> pts<span class="p">,</span>  three<span class="p">,</span> pr0<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> pts<span class="p">,</span>  out<span class="p">,</span>   pr2<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_IntToSym : IntToSym example program.</div><pre><a name="cmDspPgm_IntToSym"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_IntToSym_defn"></a><a name="_cmDspSysPgm_IntToSym"></a><span class="f">_cmDspSysPgm_IntToSym</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  inst_t<span class="p">*</span> sel0   <span class="p">=</span> scalar<span class="p">(</span> <span class="l">&quotSel0&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  inst_t<span class="p">*</span> sel1   <span class="p">=</span> scalar<span class="p">(</span> <span class="l">&quotSel1&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  inst_t<span class="p">*</span> sel2   <span class="p">=</span> scalar<span class="p">(</span> <span class="l">&quotSel2&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  inst_t<span class="p">*</span> val    <span class="p">=</span> scalar<span class="p">(</span> <span class="l">&quotVal&quot</span><span class="p">,</span>  <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  
  inst_t<span class="p">*</span> pts   <span class="p">=</span> inst<span class="p">(</span> <span class="l">&quotIntToSym&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">&quotone&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">&quottwo&quot</span><span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">&quotthree&quot</span><span class="p">)</span><span class="p">;</span>
  
  inst_t<span class="p">*</span> pr0  <span class="p">=</span> inst<span class="p">(</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">&quotval:&quot</span> <span class="p">)</span><span class="p">;</span>
  inst_t<span class="p">*</span> pr1  <span class="p">=</span> inst<span class="p">(</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">&quotsym:&quot</span> <span class="p">)</span><span class="p">;</span>
  inst_t<span class="p">*</span> pr2  <span class="p">=</span> inst<span class="p">(</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">&quotout:&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  event<span class="p">(</span> sel0<span class="p">,</span> val<span class="p">,</span> pts<span class="p">,</span> one<span class="p">-</span><span class="k">int</span> <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> sel1<span class="p">,</span> val<span class="p">,</span> pts<span class="p">,</span> two<span class="p">-</span><span class="k">int</span> <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> sel2<span class="p">,</span> val<span class="p">,</span> pts<span class="p">,</span> three<span class="p">-</span><span class="k">int</span> <span class="p">)</span><span class="p">;</span>
  
  event<span class="p">(</span> val<span class="p">,</span> val<span class="p">,</span> pts<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> val<span class="p">,</span> val<span class="p">,</span> pr0<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  
  event<span class="p">(</span> pts<span class="p">,</span>  one<span class="p">,</span>   pr1<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> pts<span class="p">,</span>  two<span class="p">,</span>   pr1<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  event<span class="p">(</span> pts<span class="p">,</span>  three<span class="p">,</span> pr1<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  
  event<span class="p">(</span> pts<span class="p">,</span> out<span class="p">,</span> pr2<span class="p">,</span> in <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Line : Line generator example program.</div><pre><a name="cmDspPgm_Line"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Line_defn"></a><a name="_cmDspSysPgm_Line"></a><span class="f">_cmDspSysPgm_Line</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> beg   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> <span class="l">-10.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> end   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotend&quot</span><span class="p">,</span> <span class="l">-10.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> dur   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotdur&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">10000.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> reset <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotreset&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> line  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotLine&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">1000.0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mtr   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotMeter&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> <span class="l">-10.0</span><span class="p">,</span> <span class="l">10.0</span><span class="p">,</span> <span class="l">0.0</span>  <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> pr1   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot&gt&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> beg<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> line<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> end<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> line<span class="p">,</span> <span class="l">&quotend&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> dur<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> line<span class="p">,</span> <span class="l">&quotdur&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> line<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> mtr<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> reset<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span> line<span class="p">,</span> <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> line<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> pr1<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Array : Array and pitch converter example program.</div><pre><a name="cmDspPgm_Array"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Array_defn"></a><a name="_cmDspSysPgm_Array"></a><span class="f">_cmDspSysPgm_Array</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc           <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="k">unsigned</span>        cnt          <span class="p">=</span> <span class="l">0</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> rsrcLabelStr <span class="p">=</span> <span class="l">&quottest&quot</span><span class="p">;</span>
  
  <span class="k">if</span><span class="p">(</span> <a href="cmDspSys_h_0.html#cmDspRsrcArrayCount">cmDspRsrcArrayCount</a><span class="p">(</span> h<span class="p">,</span> <span class="p">&amp</span>cnt<span class="p">,</span> rsrcLabelStr<span class="p">,</span> NULL <span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    <span class="k">return</span> <a href="cmErr_h_0.html#cmErrMsg">cmErrMsg</a><span class="p">(</span><span class="p">&amp</span><a href="cmDspSys_h_0.html#cmDspSysPgmCtx">cmDspSysPgmCtx</a><span class="p">(</span>h<span class="p">)</span><span class="p">-</span><span class="p">&gt</span>err<span class="p">,</span><a href="cmDspClass_h_0.html#kPgmCfgFailDspRC">kPgmCfgFailDspRC</a><span class="p">,</span><span class="l">&quotThe resource '%s' could not be read.&quot</span><span class="p">,</span>rsrcLabelStr<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  printBtn <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>    h<span class="p">,</span> <span class="l">&quotprint&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  sendBtn  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>    h<span class="p">,</span> <span class="l">&quotsend&quot</span><span class="p">,</span>  <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  cntBtn   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>    h<span class="p">,</span> <span class="l">&quotcount&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  offsCtl  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>    h<span class="p">,</span> <span class="l">&quotoffset&quot</span><span class="p">,</span><span class="l">0.0</span><span class="p">,</span> <span class="l">128.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">60.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  array    <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>      h<span class="p">,</span> <span class="l">&quotArray&quot</span><span class="p">,</span>    NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> rsrcLabelStr <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span><span class="p">*</span> pcvt     <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInstArray">cmDspSysAllocInstArray</a><span class="p">(</span> h<span class="p">,</span> cnt<span class="p">,</span> <span class="l">&quotPitchCvt&quot</span><span class="p">,</span> NULL<span class="p">,</span> NULL<span class="p">,</span>  <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  printer  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>      h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot&gt&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>     h<span class="p">,</span> printBtn<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span>  array<span class="p">,</span>   <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>     h<span class="p">,</span> sendBtn<span class="p">,</span>  <span class="l">&quotsym&quot</span><span class="p">,</span>  array<span class="p">,</span>   <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>     h<span class="p">,</span> cntBtn<span class="p">,</span>   <span class="l">&quotsym&quot</span><span class="p">,</span>  array<span class="p">,</span>   <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb11N1">cmDspSysInstallCb11N1</a><span class="p">(</span> h<span class="p">,</span> offsCtl<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span>  pcvt<span class="p">,</span>    <span class="l">&quotoffs&quot</span><span class="p">,</span> cnt <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span> h<span class="p">,</span> array<span class="p">,</span>    <span class="l">&quotout&quot</span><span class="p">,</span>  pcvt<span class="p">,</span>    <span class="l">&quotmidi&quot</span><span class="p">,</span> cnt <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCbN111">cmDspSysInstallCbN111</a><span class="p">(</span> h<span class="p">,</span> pcvt<span class="p">,</span>     <span class="l">&quotmidi&quot</span><span class="p">,</span> printer<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  cnt <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>     h<span class="p">,</span> array<span class="p">,</span>    <span class="l">&quotcnt&quot</span><span class="p">,</span>  printer<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_SegLine_defn"></a><a name="_cmDspSysPgm_SegLine"></a><span class="f">_cmDspSysPgm_SegLine</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  btn     <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span>    h<span class="p">,</span> <span class="l">&quotTrig&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  sline   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>      h<span class="p">,</span> <span class="l">&quotSegLine&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotarray&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  printer <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>      h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot&gt&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> btn<span class="p">,</span>   <span class="l">&quotsym&quot</span><span class="p">,</span>  sline<span class="p">,</span>   <span class="l">&quottrig&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> sline<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> printer<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span>   NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_AvailCh : AvailCh and XFader example program.</div><pre><a name="cmDspPgm_AvailCh"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_AvailCh_defn"></a><a name="_cmDspSysPgm_AvailCh"></a><span class="f">_cmDspSysPgm_AvailCh</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <span class="k">double</span>   frqHz       <span class="p">=</span> <span class="l">440.0</span><span class="p">;</span>
  <span class="k">unsigned</span> xfadeChCnt  <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  <span class="k">double</span>   xfadeMs     <span class="p">=</span> <span class="l">250.0</span><span class="p">;</span>
  <span class="k">bool</span>     xfadeInitFl <span class="p">=</span> false<span class="p">;</span>
  
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span>  fn    <span class="p">=</span> <span class="l">&quot/Users/kevin/media/audio/20110723-Kriesberg/Audio Files/Piano 3_01.wav&quot</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> chk0   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quot0&quot</span><span class="p">,</span>  <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> hz     <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quothz&quot</span><span class="p">,</span><span class="l">0.0</span><span class="p">,</span> <span class="l">10000.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* chk1   = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotButton&ampquot, &ampquot1&ampquot,  2, <a href="cmMsgProtocol_h_0.html#kCheckDuiId">kCheckDuiId</a>, 0.0 );</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> achp  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAvailCh&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> xfadeChCnt <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> sphp  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotPhasor&quot</span><span class="p">,</span>    NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">,</span> frqHz <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> swtp  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotWaveTable&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">2</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">4</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fphp  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotPhasor&quot</span><span class="p">,</span>    NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fwtp  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotWaveTable&quot</span><span class="p">,</span> NULL<span class="p">,</span>   <span class="l">5</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span><span class="p">,</span> fn<span class="p">,</span> <span class="l">-1</span><span class="p">,</span> <span class="l">7000000</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> fad0  <span class="p">=</span>  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotXfader&quot</span><span class="p">,</span>    NULL<span class="p">,</span>   <span class="l">3</span><span class="p">,</span> xfadeChCnt<span class="p">,</span>  xfadeMs<span class="p">,</span> xfadeInitFl <span class="p">)</span><span class="p">;</span> 
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  prp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>  h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotch:&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  prg0  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>  h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotg0:&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  prg1  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>  h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotg1:&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>  NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotAudioOut&quot</span><span class="p">,</span>  NULL<span class="p">,</span>   <span class="l">1</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  
  
  <span class="c">// phasor-&ampgtsine-&ampgtfad-0-&ampgtaout</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> sphp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>   swtp<span class="p">,</span> <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> swtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>   fad0<span class="p">,</span> <span class="l">&quotin-0&quot</span> <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> fad0<span class="p">,</span> <span class="l">&quotout-0&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// phasor-&ampgtfile-&ampgtfad-1-&ampgtaout</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> fphp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>   fwtp<span class="p">,</span> <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> fwtp<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>   fad0<span class="p">,</span> <span class="l">&quotin-1&quot</span> <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> fad0<span class="p">,</span> <span class="l">&quotout-1&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span> 
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, chk0, &ampquotout&ampquot, fad0, &ampquotgate-0&ampquot, NULL);
  //<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(h, chk1, &ampquotout&ampquot, fad0, &ampquotgate-1&ampquot, NULL);</span>  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> chk0<span class="p">,</span> <span class="l">&quotsym&quot</span><span class="p">,</span>     achp<span class="p">,</span> <span class="l">&quottrig&quot</span><span class="p">,</span>   NULL<span class="p">)</span><span class="p">;</span> <span class="c"> // btn-&ampgtavailCh.trig</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> achp<span class="p">,</span> <span class="l">&quotch&quot</span><span class="p">,</span>      prp<span class="p">,</span>  <span class="l">&quotin&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span> <span class="c"> // availCh.ch -&ampgt printer</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> achp<span class="p">,</span> <span class="l">&quotgate-0&quot</span><span class="p">,</span>  fad0<span class="p">,</span> <span class="l">&quotgate-0&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>  <span class="c"> // availCh.gate-&ampgtxfad.gate </span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fad0<span class="p">,</span> <span class="l">&quotstate-0&quot</span><span class="p">,</span> achp<span class="p">,</span> <span class="l">&quotdis-0&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>  <span class="c"> // xfad-&ampgtstate -&ampgtavailCh.dis</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> achp<span class="p">,</span> <span class="l">&quotgate-1&quot</span><span class="p">,</span>  fad0<span class="p">,</span> <span class="l">&quotgate-1&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> fad0<span class="p">,</span> <span class="l">&quotstate-1&quot</span><span class="p">,</span> achp<span class="p">,</span> <span class="l">&quotdis-1&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> hz<span class="p">,</span>   <span class="l">&quotval&quot</span><span class="p">,</span>     sphp<span class="p">,</span> <span class="l">&quotmult&quot</span><span class="p">,</span>   NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> achp<span class="p">,</span> <span class="l">&quotgate-0&quot</span><span class="p">,</span>  prg0<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> achp<span class="p">,</span> <span class="l">&quotgate-1&quot</span><span class="p">,</span>  prg1<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_Goertzel : Goertzel detector example program.</div><pre><a name="cmDspPgm_Goertzel"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_Goertzel_defn"></a><a name="_cmDspSysPgm_Goertzel"></a><span class="f">_cmDspSysPgm_Goertzel</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> rc<span class="p">;</span>
  <span class="k">const</span> <span class="k">unsigned</span> chCnt        <span class="p">=</span> <span class="l">8</span><span class="p">;</span>
  <span class="k">unsigned</span>       hopFact      <span class="p">=</span> <span class="l">2</span><span class="p">;</span>
  <span class="k">double</span>         dfltHz       <span class="p">=</span> <span class="l">18000.0</span><span class="p">;</span>
  <span class="k">unsigned</span>       sigGenMode   <span class="p">=</span> <span class="l">2</span><span class="p">;</span> <span class="c"> // sine</span>
  <span class="k">double</span>         sigGenGain   <span class="p">=</span> <span class="l">0.9</span><span class="p">;</span>
  <span class="k">double</span>         dfltMixGain  <span class="p">=</span> <span class="l">1.0</span><span class="p">/</span>chCnt<span class="p">;</span>
  <span class="k">double</span>         fcHzV<span class="p">[</span>chCnt<span class="p">]</span><span class="p">;</span>
  <span class="k">unsigned</span>       i<span class="p">;</span>
  
  <span class="k">for</span><span class="p">(</span>i<span class="p">=</span><span class="l">0</span><span class="p">;</span> i<span class="p">&lt</span>chCnt<span class="p">;</span> <span class="p">+</span><span class="p">+</span>i<span class="p">)</span>
    fcHzV<span class="p">[</span>i<span class="p">]</span> <span class="p">=</span> <span class="l">18000.0</span> <span class="p">+</span> <span class="p">(</span><span class="l">20000.0</span><span class="l">-18000.0</span><span class="p">)</span> <span class="p">*</span> i <span class="p">/</span>chCnt<span class="p">;</span>
  
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  ain   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioIn">cmDspSysAllocAudioIn</a><span class="p">(</span>  h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  amtr  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>     h<span class="p">,</span> <span class="l">&quotAMeter&quot</span><span class="p">,</span> <span class="l">&quotIn&quot</span><span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  goer  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>     h<span class="p">,</span> <span class="l">&quotGoertzel&quot</span><span class="p">,</span>  NULL<span class="p">,</span>   <span class="l">3</span><span class="p">,</span> hopFact<span class="p">,</span> chCnt<span class="p">,</span> fcHzV <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span><span class="p">*</span> mtrV  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInstArray">cmDspSysAllocInstArray</a><span class="p">(</span>h<span class="p">,</span> chCnt<span class="p">,</span> <span class="l">&quotMeter&quot</span><span class="p">,</span>  <span class="l">&quotMtr&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">3</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span><span class="p">*</span> sgV   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInstArray">cmDspSysAllocInstArray</a><span class="p">(</span>h<span class="p">,</span> chCnt<span class="p">,</span> <span class="l">&quotSigGen&quot</span><span class="p">,</span> <span class="l">&quotSG&quot</span><span class="p">,</span>  NULL<span class="p">,</span>  <span class="l">2</span><span class="p">,</span> dfltHz<span class="p">,</span> sigGenMode<span class="p">,</span> sigGenGain<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  mix   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>     h<span class="p">,</span> <span class="l">&quotAMix&quot</span><span class="p">,</span> NULL<span class="p">,</span><span class="l">1</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  ao0   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>  ao1   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocAudioOut">cmDspSysAllocAudioOut</a><span class="p">(</span> h<span class="p">,</span> <span class="l">0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span><span class="p">*</span>  hzV   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInstArray">cmDspSysAllocInstArray</a><span class="p">(</span> h<span class="p">,</span> chCnt<span class="p">,</span> <span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotHz&quot</span><span class="p">,</span>   NULL<span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">22000.0</span><span class="p">,</span> <span class="l">100.0</span><span class="p">,</span> dfltHz <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysNewColumn">cmDspSysNewColumn</a><span class="p">(</span>h<span class="p">,</span><span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span><span class="p">*</span>  gnV   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInstArray">cmDspSysAllocInstArray</a><span class="p">(</span> h<span class="p">,</span> chCnt<span class="p">,</span> <span class="l">&quotScalar&quot</span><span class="p">,</span> <span class="l">&quotGain&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">5</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kNumberDuiId">kNumberDuiId</a><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> dfltMixGain <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>   igain <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>    h<span class="p">,</span> <span class="l">&quotigain&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span>  <span class="l">3.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>   hop   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span>    h<span class="p">,</span> <span class="l">&quothop&quot</span><span class="p">,</span>   <span class="l">0.0</span><span class="p">,</span> <span class="l">16.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span>  <span class="l">4.0</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* prnt = <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>( h,&ampquotPrinter&ampquot, NULL,     1, &ampquot&ampgt&ampquot );</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span>ain<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> goer<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span>ain<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> amtr<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudioN11N">cmDspSysConnectAudioN11N</a><span class="p">(</span>h<span class="p">,</span>sgV<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span>mix<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao0<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span>mix<span class="p">,</span><span class="l">&quotout&quot</span><span class="p">,</span> ao1<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span> h<span class="p">,</span> igain<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> ain<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCbN1N1">cmDspSysInstallCbN1N1</a><span class="p">(</span> h<span class="p">,</span> hzV<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> sgV<span class="p">,</span> <span class="l">&quothz&quot</span><span class="p">,</span>   chCnt<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a><span class="p">(</span> h<span class="p">,</span> hzV<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> goer<span class="p">,</span> <span class="l">&quothz&quot</span><span class="p">,</span>  chCnt <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCbN11N">cmDspSysInstallCbN11N</a><span class="p">(</span> h<span class="p">,</span> gnV<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span> mix<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> chCnt<span class="p">)</span><span class="p">;</span> 
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb1NN1">cmDspSysInstallCb1NN1</a><span class="p">(</span> h<span class="p">,</span> goer<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span> mtrV<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> chCnt <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>     h<span class="p">,</span> hop<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  goer<span class="p">,</span> <span class="l">&quothop&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span> 
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_TakeSeqBldr : Take sequence builder example program.</div><pre><a name="cmDspPgm_TakeSeqBldr"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_TakeSeqBldr_defn"></a><a name="_cmDspSysPgm_TakeSeqBldr"></a><span class="f">_cmDspSysPgm_TakeSeqBldr</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>  
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc         <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  <span class="c">//const <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>* tksbFn     = &ampquot/User/kevin/src/cmkc/src/kc/data/takeSeqBldr0.js&ampquot;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> tksbFn     <span class="p">=</span>  <span class="l">&quot/Users/kevin/src/cmkc/src/kc/data/takeSeqBldr_osx.js&quot</span><span class="p">;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> deviceName <span class="p">=</span> <span class="l">&quotMOTU - Traveler mk3&quot</span><span class="p">;</span> <span class="c"> // &ampquotFastlane&ampquot;</span>
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> portName   <span class="p">=</span> <span class="l">&quotMIDI Port&quot</span><span class="p">;</span>           <span class="c"> // &ampquotFastlane MIDI A&ampquot;</span>
  
  <span class="c">//const <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>* deviceName = &ampquotDKV-M4&ampquot;
  //const <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a>* portName   = &ampquotDKV-M4 MIDI 1&ampquot;</span>  
  
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn  <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>tksbFn<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> tsb   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotTakeSeqBldr&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> tksbFn <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> tsr   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotTakeSeqRend&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> nano  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotNanoMap&quot</span><span class="p">,</span>     NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> mop   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotMidiOut&quot</span><span class="p">,</span>     NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> deviceName<span class="p">,</span> portName<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysNewPage">cmDspSysNewPage</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotControls&quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a>* fnp   =  <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a>(h,&ampquotFname&ampquot,       NULL,  3, false,&ampquotJS Files (*.js)\tJS Files (*.{js})&ampquot,fn);</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> start <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotstart&quot</span><span class="p">,</span>    <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> stop  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotstop&quot</span><span class="p">,</span>     <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> cont  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span><span class="l">&quotButton&quot</span><span class="p">,</span> <span class="l">&quotcontinue&quot</span><span class="p">,</span> <span class="l">2</span><span class="p">,</span> <a href="cmMsgProtocol_h_0.html#kButtonDuiId">kButtonDuiId</a><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> prt  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>  h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot&gt&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> tsb<span class="p">,</span>    <span class="l">&quotbldr&quot</span><span class="p">,</span>  tsr<span class="p">,</span>    <span class="l">&quotbldr&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> tsb<span class="p">,</span> <span class="l">&quotrefresh&quot</span><span class="p">,</span>  tsr<span class="p">,</span> <span class="l">&quotrefresh&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> tsb<span class="p">,</span>     <span class="l">&quotsel&quot</span><span class="p">,</span>  tsr<span class="p">,</span>     <span class="l">&quotsel&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> start<span class="p">,</span>   <span class="l">&quotsym&quot</span><span class="p">,</span>   tsr<span class="p">,</span>    <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> stop<span class="p">,</span>    <span class="l">&quotsym&quot</span><span class="p">,</span>   tsr<span class="p">,</span>    <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> cont<span class="p">,</span>    <span class="l">&quotsym&quot</span><span class="p">,</span>   tsr<span class="p">,</span>    <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> tsr<span class="p">,</span>  <span class="l">&quotd1&quot</span><span class="p">,</span>     nano<span class="p">,</span> <span class="l">&quotd1&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> tsr<span class="p">,</span>  <span class="l">&quotd0&quot</span><span class="p">,</span>     nano<span class="p">,</span> <span class="l">&quotd0&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> tsr<span class="p">,</span>  <span class="l">&quotstatus&quot</span><span class="p">,</span> nano<span class="p">,</span> <span class="l">&quotstatus&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> nano<span class="p">,</span> <span class="l">&quotd1&quot</span><span class="p">,</span>     mop<span class="p">,</span>  <span class="l">&quotd1&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> nano<span class="p">,</span> <span class="l">&quotd0&quot</span><span class="p">,</span>     mop<span class="p">,</span>  <span class="l">&quotd0&quot</span><span class="p">,</span>     NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> nano<span class="p">,</span> <span class="l">&quotstatus&quot</span><span class="p">,</span> mop<span class="p">,</span>  <span class="l">&quotstatus&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  
  <span class="c">//<a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a>(   h, tsb, &ampquotsel&ampquot, prt, &ampquotin&ampquot, NULL );</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> tsb<span class="p">,</span> <span class="l">&quotrefresh&quot</span><span class="p">,</span> prt<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  errLabel<span class="p">:</span>
  
  <a href="cmFileSys_h_0.html#cmFsFreeFn">cmFsFreeFn</a><span class="p">(</span>fn<span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>


<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_TwoD : Two dimensional controller  example program.</div><pre><a name="cmDspPgm_TwoD"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_TwoD_defn"></a><a name="_cmDspSysPgm_TwoD"></a><span class="f">_cmDspSysPgm_TwoD</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc         <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> twod <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quottwod&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> aprt  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span>NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quota: &quot</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> rprt  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotPrinter&quot</span><span class="p">,</span>NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quotr: &quot</span><span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> twod<span class="p">,</span> <span class="l">&quotangle&quot</span><span class="p">,</span>  aprt<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>h<span class="p">,</span> twod<span class="p">,</span> <span class="l">&quotradius&quot</span><span class="p">,</span> rprt<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span>

<span class="c"><hr id="hr1"></span></pre>
</div>
<div class="cod"><div class="blk_title">cmDspPgm_BinEnc : HRTF binaural encoder example program.</div><pre><a name="cmDspPgm_BinEnc"></a><a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a> <a name="_cmDspSysPgm_BinEnc_defn"></a><a name="_cmDspSysPgm_BinEnc"></a><span class="f">_cmDspSysPgm_BinEnc</span><span class="p">(</span> <a href="cmDspCtx_h_0.html#cmDspSysH_t">cmDspSysH_t</a> h<span class="p">,</span> <span class="k">void</span><span class="p">*</span><span class="p">*</span> userPtrPtr <span class="p">)</span>
<span class="p">{</span>
  <a href="cmDspClass_h_0.html#cmDspRC_t">cmDspRC_t</a>       rc         <span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  <span class="k">double</span> durMs    <span class="p">=</span> <span class="l">10000.0</span><span class="p">;</span>  
  <span class="k">double</span> lineHz   <span class="p">=</span> <span class="l">0.2</span><span class="p">;</span>
  <span class="k">double</span> maxDurMs <span class="p">=</span> <span class="l">60000.0</span><span class="p">;</span>
  <span class="k">double</span> azimBeg  <span class="p">=</span>     <span class="l">0.0</span><span class="p">;</span>
  <span class="k">double</span> azimEnd  <span class="p">=</span>   <span class="l">360.0</span><span class="p">;</span>
  <span class="c">//const char* fn1 = &ampquotmedia/audio/sourcetone/Jazz/Ella &ampamp Louis - Under A Blanket Of Blue&ampquot;</span>
  <span class="k">const</span> <span class="k">char</span><span class="p">*</span> fn0 <span class="p">=</span> <span class="l">&quottemp/comhear/drw/monty.wav&quot</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> twod <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quottwod&quot</span><span class="p">,</span>       NULL<span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> php  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotPhasor&quot</span><span class="p">,</span>     NULL<span class="p">,</span> <span class="l">0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> wtp  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotWaveTable&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">2</span><span class="p">,</span> <span class="p">(</span><span class="p">(</span><span class="k">int</span><span class="p">)</span><a href="cmDspSys_h_0.html#cmDspSysSampleRate">cmDspSysSampleRate</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span><span class="p">,</span> <span class="l">1</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> bep  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotBinauralEnc&quot</span><span class="p">,</span>NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">0</span><span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao0p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">0</span>  <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> ao1p <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotAudioOut&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">1</span>  <span class="p">)</span><span class="p">;</span>
  
  
  <a href="cmDspSys_h_0.html#cmDspSysNewPage">cmDspSysNewPage</a><span class="p">(</span>h<span class="p">,</span><span class="l">&quotControls&quot</span><span class="p">)</span><span class="p">;</span>  
  
  <span class="k">const</span> <a href="cmGlobal_h_0.html#cmChar_t">cmChar_t</a><span class="p">*</span> fn    <span class="p">=</span> <a href="cmFileSys_h_0.html#cmFsMakeFn">cmFsMakeFn</a><span class="p">(</span><a href="cmFileSys_h_0.html#cmFsUserDir">cmFsUserDir</a><span class="p">(</span><span class="p">)</span><span class="p">,</span>fn0<span class="p">,</span>NULL<span class="p">,</span>NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>    fnp   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span><span class="l">&quotFname&quot</span><span class="p">,</span> NULL<span class="p">,</span>  <span class="l">3</span><span class="p">,</span> false<span class="p">,</span><span class="l">&quotAudio Files (*.wav,*.aiff,*.aif)\tAudio Files (*.{wav,aiff,aif})&quot</span><span class="p">,</span>fn<span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>    beg   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> azimEnd<span class="p">,</span>  <span class="l">1.0</span><span class="p">,</span> azimBeg <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>    end   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotend&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> azimEnd<span class="p">,</span>  <span class="l">1.0</span><span class="p">,</span> azimEnd <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>    dur   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotdur&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> maxDurMs<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> durMs <span class="p">)</span><span class="p">;</span>  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>    reset <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocButton">cmDspSysAllocButton</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotreset&quot</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>    azm   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotazimuth&quot</span><span class="p">,</span> azimBeg<span class="p">,</span> azimEnd<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>    angle <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotangle&quot</span><span class="p">,</span>   azimBeg<span class="p">,</span> azimEnd<span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>    mode  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotmode&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">1.0</span><span class="p">,</span> <span class="l">0.0</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span>    gain  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocScalar">cmDspSysAllocScalar</a><span class="p">(</span> h<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> <span class="l">0.0</span><span class="p">,</span><span class="l">10.0</span><span class="p">,</span> <span class="l">0.01</span><span class="p">,</span> <span class="l">1.0</span> <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> line  <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotLine&quot</span><span class="p">,</span> NULL<span class="p">,</span> <span class="l">3</span><span class="p">,</span> azimBeg<span class="p">,</span> azimEnd<span class="p">,</span> durMs<span class="p">,</span> lineHz <span class="p">)</span><span class="p">;</span>
  <a href="cmDspClass_h_0.html#cmDspInst_t">cmDspInst_t</a><span class="p">*</span> prt   <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysAllocInst">cmDspSysAllocInst</a><span class="p">(</span>   h<span class="p">,</span> <span class="l">&quotPrinter&quot</span><span class="p">,</span>  NULL<span class="p">,</span> <span class="l">1</span><span class="p">,</span> <span class="l">&quot&gt&quot</span> <span class="p">)</span><span class="p">;</span>
  
  <span class="c">// check for allocation errors</span>
  <span class="k">if</span><span class="p">(</span><span class="p">(</span>rc <span class="p">=</span> <a href="cmDspSys_h_0.html#cmDspSysLastRC">cmDspSysLastRC</a><span class="p">(</span>h<span class="p">)</span><span class="p">)</span> <span class="p">!</span><span class="p">=</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a> <span class="p">)</span>
    goto errLabel<span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> php<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  wtp<span class="p">,</span>  <span class="l">&quotphs&quot</span> <span class="p">)</span><span class="p">;</span>  <span class="c"> // phasor -&ampgt wave table</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span>  bep<span class="p">,</span>  <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> bep<span class="p">,</span>  <span class="l">&quotout0&quot</span><span class="p">,</span> ao0p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> // wave table -&ampgt audio out</span>
  <a href="cmDspSys_h_0.html#cmDspSysConnectAudio">cmDspSysConnectAudio</a><span class="p">(</span>h<span class="p">,</span> bep<span class="p">,</span>  <span class="l">&quotout1&quot</span><span class="p">,</span> ao1p<span class="p">,</span> <span class="l">&quotin&quot</span> <span class="p">)</span><span class="p">;</span>   <span class="c"> </span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> fnp<span class="p">,</span>  <span class="l">&quotout&quot</span><span class="p">,</span> wtp<span class="p">,</span>  <span class="l">&quotfn&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>    
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> beg<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> line<span class="p">,</span> <span class="l">&quotbeg&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> end<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> line<span class="p">,</span> <span class="l">&quotend&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> dur<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span> line<span class="p">,</span> <span class="l">&quotdur&quot</span><span class="p">,</span> NULL<span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> reset<span class="p">,</span><span class="l">&quotsym&quot</span><span class="p">,</span> line<span class="p">,</span> <span class="l">&quotcmd&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> line<span class="p">,</span> <span class="l">&quotout&quot</span><span class="p">,</span>   azm<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>  NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> azm<span class="p">,</span>  <span class="l">&quotval&quot</span><span class="p">,</span>   bep<span class="p">,</span> <span class="l">&quotazim&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> twod<span class="p">,</span> <span class="l">&quotangle&quot</span><span class="p">,</span> angle<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> angle<span class="p">,</span><span class="l">&quotval&quot</span><span class="p">,</span>   bep<span class="p">,</span> <span class="l">&quotazim&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> mode<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>   bep<span class="p">,</span> <span class="l">&quotmode&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> twod<span class="p">,</span> <span class="l">&quotangle&quot</span><span class="p">,</span> prt<span class="p">,</span> <span class="l">&quotin&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> gain<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>   ao0p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  <a href="cmDspSys_h_0.html#cmDspSysInstallCb">cmDspSysInstallCb</a><span class="p">(</span>   h<span class="p">,</span> gain<span class="p">,</span> <span class="l">&quotval&quot</span><span class="p">,</span>   ao1p<span class="p">,</span> <span class="l">&quotgain&quot</span><span class="p">,</span> NULL <span class="p">)</span><span class="p">;</span>
  
  <span class="k">return</span> <a href="cmDspClass_h_0.html#kOkDspRC">kOkDspRC</a><span class="p">;</span>
  
  
  
  errLabel<span class="p">:</span>
  <span class="k">return</span> rc<span class="p">;</span>
<span class="p">}</span></pre>
</div>
<div class="cod"><pre><a name="cmDspPgm_c_code_1"></a><a href="cmDspPgm_h_0.html#_cmDspSysPgm_t">_cmDspSysPgm_t</a> _cmDspSysPgmArray<span class="p">[</span><span class="p">]</span> <span class="p">=</span> 
<span class="p">{</span>
  <span class="p">{</span> <span class="l">&quotreflect&quot</span><span class="p">,</span>           <a href="#_cmDspSysPgm_ReflectCalc">_cmDspSysPgm_ReflectCalc</a><span class="p">,</span>    NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quottksblite&quot</span><span class="p">,</span>          <a href="cmDspPgmKr_h_0.html#_cmDspSysPgm_TksbLite">_cmDspSysPgm_TksbLite</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span> 
  <span class="p">{</span> <span class="l">&quottksb&quot</span><span class="p">,</span>              <a href="cmDspPgmKr_h_0.html#_cmDspSysPgm_Tksb">_cmDspSysPgm_Tksb</a><span class="p">,</span>           NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quottime_line&quot</span><span class="p">,</span>         <a href="cmDspPgmKr_h_0.html#_cmDspSysPgm_TimeLine">_cmDspSysPgm_TimeLine</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quottime_line_lite&quot</span><span class="p">,</span>    <a href="cmDspPgmKr_h_0.html#_cmDspSysPgm_TimeLineLite">_cmDspSysPgm_TimeLineLite</a><span class="p">,</span>   NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quottime_line_lite_af&quot</span><span class="p">,</span> <a href="cmDspPgmKr_h_0.html#_cmDspSysPgm_TimeLineLiteAf">_cmDspSysPgm_TimeLineLiteAf</a><span class="p">,</span> NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotseq-bldr&quot</span><span class="p">,</span>          <a href="#_cmDspSysPgm_TakeSeqBldr">_cmDspSysPgm_TakeSeqBldr</a><span class="p">,</span>    NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotmulti-out&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_MultiOut">_cmDspSysPgm_MultiOut</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotmulti-in&quot</span><span class="p">,</span>          <a href="#_cmDspSysPgm_MultiIn">_cmDspSysPgm_MultiIn</a><span class="p">,</span>        NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotgoertzel&quot</span><span class="p">,</span>          <a href="#_cmDspSysPgm_Goertzel">_cmDspSysPgm_Goertzel</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotmain&quot</span><span class="p">,</span>              <a href="cmDspPgmPP_h_0.html#_cmDspSysPgm_Main">_cmDspSysPgm_Main</a><span class="p">,</span>           NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotarray&quot</span><span class="p">,</span>             <a href="#_cmDspSysPgm_Array">_cmDspSysPgm_Array</a><span class="p">,</span>          NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotline&quot</span><span class="p">,</span>              <a href="#_cmDspSysPgm_Line">_cmDspSysPgm_Line</a><span class="p">,</span>           NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quot1Up&quot</span><span class="p">,</span>               <a href="#_cmDspSysPgm_1Up">_cmDspSysPgm_1Up</a><span class="p">,</span>            NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotPortToSym&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_PortToSym">_cmDspSysPgm_PortToSym</a><span class="p">,</span>      NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotIntToSym&quot</span><span class="p">,</span>          <a href="#_cmDspSysPgm_IntToSym">_cmDspSysPgm_IntToSym</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotpreset&quot</span><span class="p">,</span>            <a href="#_cmDspSysPgm_Preset">_cmDspSysPgm_Preset</a><span class="p">,</span>         NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotrsrcWr&quot</span><span class="p">,</span>            <a href="#_cmDspSysPgm_RsrcWr">_cmDspSysPgm_RsrcWr</a><span class="p">,</span>         NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotrouter&quot</span><span class="p">,</span>            <a href="#_cmDspSysPgm_Router">_cmDspSysPgm_Router</a><span class="p">,</span>         NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quot1ofN&quot</span><span class="p">,</span>              <a href="#_cmDspSysPgm_1ofN">_cmDspSysPgm_1ofN</a><span class="p">,</span>           NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotNofM&quot</span><span class="p">,</span>              <a href="#_cmDspSysPgm_NofM">_cmDspSysPgm_NofM</a><span class="p">,</span>           NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotwhirl_net&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_WhirlNet">_cmDspSysPgm_WhirlNet</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotthunk_net&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_ThunkNet">_cmDspSysPgm_ThunkNet</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotseq&quot</span><span class="p">,</span>               <a href="#_cmDspSysPgm_Seq">_cmDspSysPgm_Seq</a><span class="p">,</span>            NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotdist_ds&quot</span><span class="p">,</span>           <a href="#_cmDspSysPgm_DistDs">_cmDspSysPgm_DistDs</a><span class="p">,</span>         NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotbi_quad_eq&quot</span><span class="p">,</span>        <a href="#_cmDspSysPgm_BiQuadEq">_cmDspSysPgm_BiQuadEq</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotcompressor&quot</span><span class="p">,</span>        <a href="#_cmDspSysPgm_Compressor">_cmDspSysPgm_Compressor</a><span class="p">,</span>     NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotadsr&quot</span><span class="p">,</span>              <a href="#_cmDspSysPgm_Adsr">_cmDspSysPgm_Adsr</a><span class="p">,</span>           NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotmsg delay&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_MsgDelay">_cmDspSysPgm_MsgDelay</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotpickup rmod2&quot</span><span class="p">,</span>      <a href="#_cmDspSysPgm_RingMod2">_cmDspSysPgm_RingMod2</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotpickup rmod&quot</span><span class="p">,</span>       <a href="#_cmDspSysPgm_RingMod">_cmDspSysPgm_RingMod</a><span class="p">,</span>        NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotpickup tails&quot</span><span class="p">,</span>      <a href="#_cmDspSysPgm_NoiseTails">_cmDspSysPgm_NoiseTails</a><span class="p">,</span>     NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quottails_2&quot</span><span class="p">,</span>           <a href="#_cmDspSysPgm_NoiseTails2">_cmDspSysPgm_NoiseTails2</a><span class="p">,</span>    NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotpickups&quot</span><span class="p">,</span>           <a href="#_cmDspSysPgm_Pickups0">_cmDspSysPgm_Pickups0</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotsync_recd&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_SyncRecd">_cmDspSysPgm_SyncRecd</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotmidi_test&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_Test_Midi">_cmDspSysPgm_Test_Midi</a><span class="p">,</span>      NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotpedal_test&quot</span><span class="p">,</span>        <a href="#_cmDspSysPgm_Test_Pedals">_cmDspSysPgm_Test_Pedals</a><span class="p">,</span>    NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotmidi_file&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_MidiFilePlay">_cmDspSysPgm_MidiFilePlay</a><span class="p">,</span>   NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quot2_thru&quot</span><span class="p">,</span>            <a href="#_cmDspSysPgm_Stereo_Through">_cmDspSysPgm_Stereo_Through</a><span class="p">,</span> NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotall_in_out&quot</span><span class="p">,</span>        <a href="#_cmDspSysPgm_All_In_And_Out">_cmDspSysPgm_All_In_And_Out</a><span class="p">,</span> NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotguitar&quot</span><span class="p">,</span>            <a href="#_cmDspSysPgmGuitar">_cmDspSysPgmGuitar</a><span class="p">,</span>          NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quot2_fx&quot</span><span class="p">,</span>              <a href="#_cmDspSysPgm_Stereo_Fx">_cmDspSysPgm_Stereo_Fx</a><span class="p">,</span>      NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotsine&quot</span><span class="p">,</span>              <a href="#_cmDspSysPgm_PlaySine">_cmDspSysPgm_PlaySine</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotfile&quot</span><span class="p">,</span>              <a href="#_cmDspSysPgm_PlayFile">_cmDspSysPgm_PlayFile</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotgate_detect&quot</span><span class="p">,</span>       <a href="#_cmDspSysPgm_GateDetect">_cmDspSysPgm_GateDetect</a><span class="p">,</span>     NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotrt_record&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_RtRecord">_cmDspSysPgm_RtRecord</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotrecord&quot</span><span class="p">,</span>            <a href="#_cmDspSysPgm_Record">_cmDspSysPgm_Record</a><span class="p">,</span>         NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotpitch_shift&quot</span><span class="p">,</span>       <a href="#_cmDspSysPgm_PitchShiftFile">_cmDspSysPgm_PitchShiftFile</a><span class="p">,</span> NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotloop_recd&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_LoopRecd">_cmDspSysPgm_LoopRecd</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotui_test&quot</span><span class="p">,</span>           <a href="#_cmDspSysPgm_UiTest">_cmDspSysPgm_UiTest</a><span class="p">,</span>         NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotxfade_test&quot</span><span class="p">,</span>        <a href="#_cmDspSysPgm_Xfade">_cmDspSysPgm_Xfade</a><span class="p">,</span>          NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotauto_gain&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_AutoGain">_cmDspSysPgm_AutoGain</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotcomb filt&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_CombFilt">_cmDspSysPgm_CombFilt</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotscalar op&quot</span><span class="p">,</span>         <a href="#_cmDspSysPgm_ScalarOp">_cmDspSysPgm_ScalarOp</a><span class="p">,</span>       NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotseg_line&quot</span><span class="p">,</span>          <a href="#_cmDspSysPgm_SegLine">_cmDspSysPgm_SegLine</a><span class="p">,</span>        NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotavail_ch&quot</span><span class="p">,</span>          <a href="#_cmDspSysPgm_AvailCh">_cmDspSysPgm_AvailCh</a><span class="p">,</span>        NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quottwo-d&quot</span><span class="p">,</span>             <a href="#_cmDspSysPgm_TwoD">_cmDspSysPgm_TwoD</a><span class="p">,</span>           NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> <span class="l">&quotbin-enc&quot</span><span class="p">,</span>           <a href="#_cmDspSysPgm_BinEnc">_cmDspSysPgm_BinEnc</a><span class="p">,</span>         NULL<span class="p">,</span> NULL <span class="p">}</span><span class="p">,</span>
  <span class="p">{</span> NULL <span class="p">,</span>                                            NULL<span class="p">,</span> NULL<span class="p">,</span> NULL <span class="p">}</span>
<span class="p">}</span><span class="p">;</span>

<a href="cmDspPgm_h_0.html#_cmDspSysPgm_t">_cmDspSysPgm_t</a><span class="p">*</span> <a name="_cmDspSysPgmArrayBase_defn"></a><span class="f"><a href="cmDspPgm_h_0.html#_cmDspSysPgmArrayBase">_cmDspSysPgmArrayBase</a></span><span class="p">(</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> _cmDspSysPgmArray<span class="p">;</span>
<span class="p">}</span>

</pre>
</div>
<!-- End nodes -->
</div>
</body>
</html>
